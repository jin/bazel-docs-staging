<!DOCTYPE html>
<html lang="en" itemscope itemtype="https://schema.org/WebPage">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Skylark Language Specification - Bazel</title>

    <link rel="canonical" href="/versions/0.17.1/skylark/spec.html">

    <!-- Webfont -->
    <link href="//fonts.googleapis.com/css?family=RobotoDraft:300,400,500,700|Source+Code+Pro:400,500,700" rel="stylesheet">

    <link rel="shortcut icon" type="image/png" href="/images/favicon.ico">

    <!-- Bootstrap -->
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/css/font-awesome.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Custom stylesheet -->
    <link rel="stylesheet" type="text/css" href="/css/main.css" />

    <!-- metadata -->
    <meta name="og:title" content="Skylark Language Specification"/>
    <meta name="og:image" content="/images/bazel-og-image.png"/>

    <!-- google search console verification -->
    <meta name="google-site-verification" content="ftWLOiP2hnDW4Cw3LUGEaXU83RVIpiyxwaXFFhoakzs" />
  </head>

  <body>
        <nav id="common-nav" class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://www.bazel.build/">
            <img class="navbar-logo" src="/images/bazel-navbar.svg">
          </a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="https://github.com/bazelbuild/bazel">GitHub</a></li>
          </ul>
          <form class="navbar-form navbar-right" action="/search.html" id="cse-search-box">
            <div class="form-group">
              <input type="hidden" name="cx" value="012346921571893344015:xv_nfgpzbu4">
              <input type="hidden" name="cof" value="FORID:10">
              <input type="hidden" name="ie" value="UTF-8">
              <input type="search" name="q" class="form-control input-sm" placeholder="Search">
            </div>
          </form>
          <ul class="nav navbar-nav navbar-right">
            <li>
              <a href="/">Documentation</a>
            </li>
            <li>
              <a href="https://www.bazel.build/contributing.html">Contribute</a>
            </li>
            <li>
              <a href="https://blog.bazel.build">Blog</a>
            </li>
            <li><a href="https://twitter.com/bazelbuild" class="nav-icon"><i class="fa fa-twitter"></i></a></li>
            <li><a href="http://stackoverflow.com/questions/tagged/bazel" class="nav-icon"><i class="fa fa-stack-overflow"></i></a></li>
          </ul>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav>


    <div class="page-title-bar">
      <div class="container">
        <h1>Documentation</h1>
      </div>
    </div>

    <div class="container vpad">
      <div class="row">
        <div class="col-md-3">
          <a class="btn btn-default btn-lg btn-block sidebar-toggle"
              data-toggle="collapse" href="#sidebar-nav" aria-expanded="false"
              aria-controls="sidebar-nav">
            <i class="glyphicon glyphicon-menu-hamburger"></i> Navigation
          </a>
          <nav class="sidebar collapse" id="sidebar-nav">
           <h3>Home</h3>
            <ul class="sidebar-nav">
              <li><a href="/versions/master/bazel-overview.html">Bazel Overview</a></li>
              <li><a href="/versions/master/bazel-vision.html">Bazel Vision</a></li>
              <li><a href="/versions/master/getting-started.html">Getting Started</a></li>
              <li><a href="/versions/master/skylark/backward-compatibility.html">Backward Compatibility</a></li>
            </ul>

           <h3>Using Bazel</h3>
            <ul class="sidebar-nav">

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#installing-menu" aria-expanded="false"
                    aria-controls="installing-menu">
                  Installing Bazel<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="installing-menu">
                   <li><a href="/versions/master/install.html">Installation Overview</a></li>
                   <li><a href="/versions/master/install-ubuntu.html">Installing on Ubuntu</a></li>
                   <li><a href="/versions/master/install-redhat.html">Installing on Fedora/CentOS</a></li>
                   <li><a href="/versions/master/install-os-x.html">Installing on macOS</a></li>
                   <li><a href="/versions/master/install-windows.html">Installing on Windows</a></li>
                   <li><a href="/versions/master/install-compile-source.html">Compiling from Source</a></li>
                   <li><a href="/versions/master/completion.html">Command-Line Completion</a></li>
                   <li><a href="/versions/master/ide.html">Integrating with IDEs</a></li>
                 </ul>
                </li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#tutorials-menu" aria-expanded="false"
                    aria-controls="tutorials-menu">
                  Tutorials<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="tutorials-menu">
                   <li><a href="/versions/master/tutorial/java.html">Building a Java Project</a></li>
                   <li><a href="/versions/master/tutorial/cpp.html">Building a C++ Project</a></li>
                   <li><a href="/versions/master/tutorial/android-app.html">Building an Android App</a></li>
                   <li><a href="/versions/master/tutorial/ios-app.html">Building an iOS App</a></li>
                   <li><a href="/versions/master/skylark/tutorial-sharing-variables.html">Sharing Variables</a></li>
                   <li><a href="/versions/master/skylark/tutorial-creating-a-macro.html">Creating a Macro</a></li>
                 </ul>
              </li>

              <li><a href="/versions/master/build-ref.html">Bazel Concepts</a></li>
              <li><a href="/versions/master/guide.html">User's Guide</a></li>
              <li><a href="/versions/master/external.html">External Dependencies</a></li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#query-menu" aria-expanded="false"
                    aria-controls="query-menu">
                  Queries<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="query-menu">
                  <li><a href="/versions/master/query-how-to.html">Bazel query</a></li>
                  <li><a href="/versions/master/cquery.html">Bazel cquery</a></li>
                  <li><a href="/versions/master/user-manual.html#aquery">Bazel aquery</a></li>
                  <li><a href="/versions/master/query.html">Query Language</a></li>
                </ul>
              </li>

              <li><a href="/versions/master/configurable-attributes.html">Configurable Attributes</a></li>
              <li><a href="/versions/master/best-practices.html">Best Practices</a></li>
              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#remote-execution-menu" aria-expanded="false"
                    aria-controls="remote-execution-menu">
                  Remote Execution<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="remote-execution-menu">
                   <li><a href="/versions/master/remote-execution.html">Remote Execution Overview</a></li>
                   <li><a href="/versions/master/remote-execution-rules.html">Guidelines for Remote Execution</a></li>
                   <li>
                      <a class="sidebar-nav-heading" data-toggle="collapse"
                          href="#troubleshoot-remote-execution-menu" aria-expanded="false"
                          aria-controls="troubleshoot-remote-execution-menu">
                        Troubleshooting Remote Execution<span class="caret"></span>
                      </a>
                      <ul class="collapse sidebar-nav sidebar-submenu" id="troubleshoot-remote-execution-menu">
                         <li><a href="/versions/master/remote-execution-sandbox.html">Troubleshooting Remote Execution with Bazel Sandbox</a></li>
                         <li><a href="/versions/master/workspace-log.html">Finding non-hermetic behavior in WORKSPACE rules</a></li>
                      </ul>
                  </li>
                   <li><a href="/versions/master/remote-execution-ci.html">Configuring Bazel CI for Remote Execution Rule Testing</a></li>
                 </ul>
              </li>

              <li><a href="/versions/master/remote-caching.html">Remote Caching</a></li>
             </ul>

           <h3>Rules</h3>
           <ul class="sidebar-nav">
             <li><a href="/versions/master/be/overview.html">Build Encyclopedia</a></li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#android-menu" aria-expanded="false"
                    aria-controls="android-menu">
                  Android<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="android-menu">
                  <li><a href="/versions/master/bazel-and-android.html">Android Resources</a></li>
                  <li><a href="/versions/master/mobile-install.html">Using mobile-install</a></li>
                  <li><a href="/versions/master/android-instrumentation-test.html">Android Instrumentation Tests</a></li>
                  <li><a href="/versions/master/android-ndk.html">Android NDK</a></li>
                  <li><a href="https://plugins.jetbrains.com/plugin/9185-bazel">Android Studio Plugin</a></li>
                </ul>
              </li>

               <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#apple-menu" aria-expanded="false"
                    aria-controls="apple-menu">
                  Apple<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="apple-menu">
                  <li><a href="/versions/master/bazel-and-apple.html">Apple Resources</a></li>
                  <li><a href="/versions/master/migrate-xcode.html">Migrating from Xcode</a></li>
                  <li><a href="/versions/master/migrate-cocoapods.html">Converting CocoaPods</a></li>
                </ul>
              </li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#cpp-menu" aria-expanded="false"
                    aria-controls="cpp-menu">
                  C++<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="cpp-menu">
                  <li><a href="/versions/master/bazel-and-cpp.html">C++ Resources</a></li>
                  <li><a href="/versions/master/cpp-use-cases.html">C++ Use Cases</a></li>
                  <li><a href="/versions/master/crosstool-reference.html">Understanding CROSSTOOL</a></li>
                  <li><a href="/versions/master/tutorial/crosstool.html">Tutorial: CROSSTOOL</a></li>
                </ul>
              </li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#java-menu" aria-expanded="false"
                    aria-controls="java-menu">
                  Java<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="java-menu">
                  <li><a href="/versions/master/bazel-and-java.html">Java Resources</a></li>
                  <li><a href="/versions/master/migrate-maven.html">Migrating from Maven</a></li>
                  <li><a href="/versions/master/generate-workspace.html">Converting Maven Dependencies</a></li>
                </ul>
              </li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#javascript-menu" aria-expanded="false"
                    aria-controls="javascript-menu">
                  JavaScript<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="javascript-menu">
                  <li><a href="/versions/master/bazel-and-javascript.html">JavaScript Resources</a></li>
                  <li><a href="/versions/master/build-javascript.html">Building JavaScript</a></li>
                </ul>
              </li>

           </ul>

           <h3>Reference</h3>
           <ul class="sidebar-nav">
             <li><a href="/versions/master/user-manual.html">Commands and Options</a></li>
             <li><a href="/versions/master/skylark/build-style.html">BUILD Style Guide</a></li>
             <li><a href="/versions/master/command-line-reference.html">Command Line Reference</a></li>
             <li><a href="/versions/master/test-encyclopedia.html">Writing Tests</a></li>
             <li><a href="/versions/master/build-event-protocol.html">Build Event Protocol</a></li>
             <li><a href="/versions/master/output_directories.html">Output Directory Layout</a></li>
             <li><a href="/versions/master/platforms.html">Platforms</a></li>
             <li><a href="/versions/master/toolchains.html">Toolchains</a></li>
           </ul>

            <h3>Extending Bazel</h3>
           <ul class="sidebar-nav">
              <li><a href="/versions/master/skylark/concepts.html">Extension Overview</a></li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#starlark-concepts" aria-expanded="false"
                    aria-controls="starlark-concepts">
                  Concepts<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="starlark-concepts">
                  <li><a href="/versions/master/skylark/macros.html">Macros</a></li>
                  <li><a href="/versions/master/skylark/rules.html">Rules</a></li>
                  <li><a href="/versions/master/skylark/depsets.html">Depsets</a></li>
                  <li><a href="/versions/master/skylark/aspects.html">Aspects</a></li>
                  <li><a href="/versions/master/skylark/repository_rules.html">Repository Rules</a></li>
                  <li><a href="/versions/master/skylark/faq.html">FAQ</a></li>
                </ul>
              </li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#starlark-practices" aria-expanded="false"
                    aria-controls="starlark-practices">
                  Best Practices<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="starlark-practices">
                  <li><a href="/versions/master/skylark/bzl-style.html">.bzl Style Guide</a></li>
                  <li><a href="/versions/master/skylark/testing.html">Testing</a></li>
                  <li><a href="https://skydoc.bazel.build" target="_blank">Documenting Rules</a></li>
                  <li><a href="/versions/master/skylark/skylint.html">Linter</a></li>
                  <li><a href="/versions/master/skylark/performance.html">Optimizing Performance</a></li>
                  <li><a href="/versions/master/skylark/deploying.html">Deploying Rules</a></li>
                </ul>
              </li>

              <li><a href="https://github.com/bazelbuild/examples/tree/master/rules">Examples</a></li>
              <li><a href="/versions/master/skylark/lib/skylark-overview.html">API Reference</a></li>
              <li><a href="/versions/master/skylark/language.html">Starlark Language</a></li>
            </ul>
          </nav>
        </div>

        <div class="col-md-9">
          <a id="gh-edit" class="gh-edit default-hidden"><i class="fa fa-pencil" aria-hidden="true"></i> Edit</a>
          <script>
            var versionDocsURLRegex = /\/versions\/[\w\.]+\/(.*)/;
            var ghDocsBazeURL = 'https://github.com/bazelbuild/bazel/tree/master/site/docs/';
            var editButton = document.getElementById('gh-edit');
            // if there is an edit button and we are not in the Build Encyclopedia
            if (editButton
                && window.location.pathname.match(versionDocsURLRegex)
                && window.location.pathname.lastIndexOf('/be/') == -1
                && window.location.pathname.lastIndexOf('/skylark/lib/') == -1) {
              var docFile = window.location.pathname.match(versionDocsURLRegex)[1];
              // some pages are not using markdown :(
              if (docFile !== 'user-manual.html'
                  && docFile !== 'build-ref.html'
                  && docFile !== 'query.html'
                  && docFile !== 'test-encyclopedia.html') {
                docFile = docFile.replace('html', 'md');
              }
              editButton.href = ghDocsBazeURL + docFile;
              editButton.style.visibility = 'visible';
            }
          </script>

          <!-- /versions/master/foo/bar -> ["master", "foo", "bar"] -->
          <!-- /versions/0.12.3/baz.md -> ["0.12.3", "baz.md"] -->
          

          <p>Documentation for Bazel 0.17.1</p>
          <select id="touchsplashmenu" onchange="location.href=this.value">
              <option value="">Choose a Bazel version</option>
              
              <option value="/versions/master/skylark/spec.html">master</option>
              
              <option value="/versions/0.19.2/skylark/spec.html">0.19.2</option>
              
              <option value="/versions/0.19.1/skylark/spec.html">0.19.1</option>
              
              <option value="/versions/0.18.1/skylark/spec.html">0.18.1</option>
              
              <option value="/versions/0.17.2/skylark/spec.html">0.17.2</option>
              
              <option value="/versions/0.17.1/skylark/spec.html">0.17.1</option>
              
          </select>

          <h1 id="skylark-language-specification">Skylark Language Specification</h1>

<p>Skylark is a dialect of Python intended for use as a configuration
language.  A Skylark interpreter is typically embedded within a larger
application, and this application may define additional
domain-specific functions and data types beyond those provided by the
core language.  For example, Skylark is embedded within (and was
originally developed for) the <a href="https://bazel.build">Bazel build tool</a>,
and <a href="https://docs.bazel.build/versions/master/skylark/language.html">Bazel’s build language</a> is based on Skylark.
Another implementation in Go can be found here: <a href="https://github.com/google/skylark/">https://github.com/google/skylark/</a></p>

<p>This document was derived from the <a href="https://github.com/google/skylark/blob/master/doc/spec.html">description of the Go
implementation</a>
of Skylark.
It was influenced by the Python specification,
Copyright 1990–2017, Python Software Foundation,
and the Go specification, Copyright 2009–2017, The Go Authors. It is
now maintained by the Bazel team.</p>

<p>The name “Skylark” is a code name of the Bazel project.
We plan to rename the language soon to reflect its
applicability to projects unrelated to Bazel.</p>

<!-- [TOC] -->

<h2 id="overview">Overview</h2>

<p>Skylark is an untyped dynamic language with high-level data types,
first-class functions with lexical scope, and automatic memory
management or <em>garbage collection</em>.</p>

<p>Skylark is strongly influenced by Python, and is almost a subset of
that language.  In particular, its data types and syntax for
statements and expressions will be very familiar to any Python
programmer.
However, Skylark is intended not for writing applications but for
expressing configuration: its programs are short-lived and have no
external side effects and their main result is structured data or side
effects on the host application.</p>

<p>Skylark is intended to be simple. There are no user-defined types, no
inheritance, no reflection, no exceptions, no explicit memory management.
Execution is finite. The language does not allow recursion or unbounded loops.</p>

<p>Skylark is suitable for use in highly parallel applications.  An application may
invoke the Skylark interpreter concurrently from many threads, without the
possibility of a data race, because shared data structures become immutable due
to <em>freezing</em>.</p>

<p>The language is deterministic and hermetic. Executing the same file with the
same interpreter leads to the same result. By default, user code cannot
interact with the environment.</p>

<h2 id="lexical-elements">Lexical elements</h2>

<p>A Skylark program consists of one or more modules. Each module is defined by a
single UTF-8-encoded text file.</p>

<p>Skylark grammar is introduced gradually throughout this document as shown below,
and a <a href="#grammar">complete Skylark grammar reference</a> is provided at the end.</p>

<p>Grammar notation:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- lowercase and 'quoted' items are lexical tokens.
- Capitalized names denote grammar productions.
- (...) implies grouping.
- x | y means either x or y.
- [x] means x is optional.
- {x} means x is repeated zero or more times.
- The end of each declaration is marked with a period.
</code></pre></div></div>

<p>The contents of a Skylark file are broken into a sequence of tokens of
five kinds: white space, punctuation, keywords, identifiers, and literals.
Each token is formed from the longest sequence of characters that
would form a valid token of each kind.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>File = {Statement | newline} eof .
</code></pre></div></div>

<p><em>White space</em> consists of spaces (U+0020), tabs (U+0009), carriage
returns (U+000D), and newlines (U+000A).  Within a line, white space
has no effect other than to delimit the previous token, but newlines,
and spaces at the start of a line, are significant tokens.</p>

<p><em>Comments</em>: A hash character (<code class="highlighter-rouge">#</code>) appearing outside of a string
literal marks the start of a comment; the comment extends to the end
of the line, not including the newline character.
Comments are treated like other white space.</p>

<p><em>Punctuation</em>: The following punctuation characters or sequences of
characters are tokens:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>+    -    *    //   %    **
.    ,    =    ;    :
(    )    [    ]    {    }
&lt;    &gt;    &gt;=   &lt;=   ==   !=
+=   -=   *=   //=  %=
</code></pre></div></div>

<p><em>Keywords</em>: The following tokens are keywords and may not be used as
identifiers:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>and            else           load
break          for            not
continue       if             or
def            in             pass
elif           return
</code></pre></div></div>

<p>The tokens below also may not be used as identifiers although they do not
appear in the grammar; they are reserved as possible future keywords:</p>

<!-- and to remain a syntactic subset of Python -->

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>as             is
assert         lambda
class          nonlocal
del            raise
except         try
finally        while
from           with
global         yield
import
</code></pre></div></div>

<p><em>Identifiers</em>: an identifier is a sequence of Unicode letters, decimal
 digits, and underscores (<code class="highlighter-rouge">_</code>), not starting with a digit.
Identifiers are used as names for values.</p>

<p>Examples:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>None    True    len
x       index   starts_with     arg0
</code></pre></div></div>

<p><em>Literals</em>: literals are tokens that denote specific values.  Skylark
has string and integer literals.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0                               # int
123                             # decimal int
0x7f                            # hexadecimal int
0o755                           # octal int

"hello"      'hello'            # string
'''hello'''  """hello"""        # triple-quoted string
r'hello'     r"hello"           # raw string literal
</code></pre></div></div>

<p>Integer literal tokens are defined by the following grammar:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int         = decimal_lit | octal_lit | hex_lit | 0 .
decimal_lit = ('1' … '9') {decimal_digit} .
octal_lit   = '0' ('o' | 'O') octal_digit {octal_digit} .
hex_lit     = '0' ('x' | 'X') hex_digit {hex_digit} .

decimal_digit = '0' … '9' .
octal_digit   = '0' … '7' .
hex_digit     = '0' … '9' | 'A' … 'F' | 'a' … 'f' .
</code></pre></div></div>

<p>TODO: define string_lit, indent, outdent, semicolon, newline, eof</p>

<h2 id="data-types">Data types</h2>

<p>These are the main data types built in to the interpreter:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NoneType                     # the type of None
bool                         # True or False
int                          # a signed integer
string                       # a byte string
list                         # a fixed-length sequence of values
tuple                        # a fixed-length sequence of values, unmodifiable
dict                         # a mapping from values to values
function                     # a function
</code></pre></div></div>

<p>Some functions, such as the <code class="highlighter-rouge">range</code> function, return instances of
special-purpose types that don’t appear in this list.
Additional data types may be defined by the host application into
which the interpreter is embedded, and those data types may
participate in basic operations of the language such as arithmetic,
comparison, indexing, and function calls.</p>

<!-- We needn't mention the stringIterable type here. -->

<p>Some operations can be applied to any Skylark value.  For example,
every value has a type string that can be obtained with the expression
<code class="highlighter-rouge">type(x)</code>, and any value may be converted to a string using the
expression <code class="highlighter-rouge">str(x)</code>, or to a Boolean truth value using the expression
<code class="highlighter-rouge">bool(x)</code>.  Other operations apply only to certain types.  For
example, the indexing operation <code class="highlighter-rouge">a[i]</code> works only with strings, lists,
and tuples, and any application-defined types that are <em>indexable</em>.
The <a href="#value-concepts"><em>value concepts</em></a> section explains the groupings of
types by the operators they support.</p>

<h3 id="none">None</h3>

<p><code class="highlighter-rouge">None</code> is a distinguished value used to indicate the absence of any other value.
For example, the result of a call to a function that contains no return statement is <code class="highlighter-rouge">None</code>.</p>

<p><code class="highlighter-rouge">None</code> is equal only to itself.  Its <a href="#type">type</a> is <code class="highlighter-rouge">"NoneType"</code>.
The truth value of <code class="highlighter-rouge">None</code> is <code class="highlighter-rouge">False</code>.</p>

<h3 id="booleans">Booleans</h3>

<p>There are two Boolean values, <code class="highlighter-rouge">True</code> and <code class="highlighter-rouge">False</code>, representing the
truth or falsehood of a predicate.  The <a href="#type">type</a> of a Boolean is <code class="highlighter-rouge">"bool"</code>.</p>

<p>Boolean values are typically used as conditions in <code class="highlighter-rouge">if</code>-statements,
although any Skylark value used as a condition is implicitly
interpreted as a Boolean.
For example, the values <code class="highlighter-rouge">None</code>, <code class="highlighter-rouge">0</code>, and the empty sequences
<code class="highlighter-rouge">""</code>, <code class="highlighter-rouge">()</code>, <code class="highlighter-rouge">[]</code>, and <code class="highlighter-rouge">{}</code> have a truth value of <code class="highlighter-rouge">False</code>, whereas non-zero
numbers and non-empty sequences have a truth value of <code class="highlighter-rouge">True</code>.
Application-defined types determine their own truth value.
Any value may be explicitly converted to a Boolean using the built-in <code class="highlighter-rouge">bool</code>
function.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">==</span> <span class="mi">2</span>                              <span class="c"># True</span>
<span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">5</span>                              <span class="c"># False</span>

<span class="k">if</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"True"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"False"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="integers">Integers</h3>

<p>The Skylark integer type represents integers.  Its <a href="#type">type</a> is <code class="highlighter-rouge">"int"</code>.</p>

<p>Integers may be positive or negative. The precision is implementation-dependent.
It is a dynamic error if a result is outside the supported range.
Integers are totally ordered; comparisons follow mathematical
tradition.</p>

<p>The <code class="highlighter-rouge">+</code> and <code class="highlighter-rouge">-</code> operators perform addition and subtraction, respectively.
The <code class="highlighter-rouge">*</code> operator performs multiplication.</p>

<p>The <code class="highlighter-rouge">//</code> and <code class="highlighter-rouge">%</code> operations on integers compute floored division and
remainder of floored division, respectively.
If the signs of the operands differ, the sign of the remainder <code class="highlighter-rouge">x % y</code>
matches that of the dividend, <code class="highlighter-rouge">x</code>.
For all finite x and y (y ≠ 0), <code class="highlighter-rouge">(x // y) * y + (x % y) == x</code>.</p>

<p>Any bool, number, or string may be interpreted as an integer by using
the <code class="highlighter-rouge">int</code> built-in function.</p>

<p>An integer used in a Boolean context is considered true if it is
non-zero.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">100</span> <span class="o">//</span> <span class="mi">5</span> <span class="o">*</span> <span class="mi">9</span> <span class="o">+</span> <span class="mi">32</span>               <span class="c"># 212</span>
<span class="mi">3</span> <span class="o">//</span> <span class="mi">2</span>                          <span class="c"># 1</span>
<span class="mi">111111111</span> <span class="o">*</span> <span class="mi">111111111</span>           <span class="c"># 12345678987654321</span>
<span class="nb">int</span><span class="p">(</span><span class="s">"0xffff"</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>               <span class="c"># 65535</span>
</code></pre></div></div>

<h3 id="strings">Strings</h3>

<p>A string represents an immutable sequence of bytes.
The <a href="#type">type</a> of a string is <code class="highlighter-rouge">"string"</code>.</p>

<p>Strings can represent arbitrary binary data, including zero bytes, but
most strings contain text, encoded by convention using UTF-8.</p>

<p>The built-in <code class="highlighter-rouge">len</code> function returns the number of bytes in a string.</p>

<p>Strings may be concatenated with the <code class="highlighter-rouge">+</code> operator.</p>

<p>The substring expression <code class="highlighter-rouge">s[i:j]</code> returns the substring of <code class="highlighter-rouge">s</code> from
index <code class="highlighter-rouge">i</code> up to index <code class="highlighter-rouge">j</code>.  The index expression <code class="highlighter-rouge">s[i]</code> returns the
1-byte substring <code class="highlighter-rouge">s[i:i+1]</code>.</p>

<p>Strings are hashable, and thus may be used as keys in a dictionary.</p>

<p>Strings are totally ordered lexicographically, so strings may be
compared using operators such as <code class="highlighter-rouge">==</code> and <code class="highlighter-rouge">&lt;</code>.</p>

<p>Strings are <em>not</em> iterable sequences, so they cannot be used as the operand of
a <code class="highlighter-rouge">for</code>-loop, list comprehension, or any other operation than requires
an iterable sequence.</p>

<p>Any value may formatted as a string using the <code class="highlighter-rouge">str</code> or <code class="highlighter-rouge">repr</code> built-in
functions, the <code class="highlighter-rouge">str % tuple</code> operator, or the <code class="highlighter-rouge">str.format</code> method.</p>

<p>A string used in a Boolean context is considered true if it is
non-empty.</p>

<p>Strings have several built-in methods:</p>

<ul>
  <li><a href="#string·capitalize"><code class="highlighter-rouge">capitalize</code></a></li>
  <li><a href="#string·count"><code class="highlighter-rouge">count</code></a></li>
  <li><a href="#string·endswith"><code class="highlighter-rouge">endswith</code></a></li>
  <li><a href="#string·find"><code class="highlighter-rouge">find</code></a></li>
  <li><a href="#string·format"><code class="highlighter-rouge">format</code></a></li>
  <li><a href="#string·index"><code class="highlighter-rouge">index</code></a></li>
  <li><a href="#string·isalnum"><code class="highlighter-rouge">isalnum</code></a></li>
  <li><a href="#string·isalpha"><code class="highlighter-rouge">isalpha</code></a></li>
  <li><a href="#string·isdigit"><code class="highlighter-rouge">isdigit</code></a></li>
  <li><a href="#string·islower"><code class="highlighter-rouge">islower</code></a></li>
  <li><a href="#string·isspace"><code class="highlighter-rouge">isspace</code></a></li>
  <li><a href="#string·istitle"><code class="highlighter-rouge">istitle</code></a></li>
  <li><a href="#string·isupper"><code class="highlighter-rouge">isupper</code></a></li>
  <li><a href="#string·join"><code class="highlighter-rouge">join</code></a></li>
  <li><a href="#string·lower"><code class="highlighter-rouge">lower</code></a></li>
  <li><a href="#string·lstrip"><code class="highlighter-rouge">lstrip</code></a></li>
  <li><a href="#string·partition"><code class="highlighter-rouge">partition</code></a></li>
  <li><a href="#string·replace"><code class="highlighter-rouge">replace</code></a></li>
  <li><a href="#string·rfind"><code class="highlighter-rouge">rfind</code></a></li>
  <li><a href="#string·rindex"><code class="highlighter-rouge">rindex</code></a></li>
  <li><a href="#string·rpartition"><code class="highlighter-rouge">rpartition</code></a></li>
  <li><a href="#string·rsplit"><code class="highlighter-rouge">rsplit</code></a></li>
  <li><a href="#string·rstrip"><code class="highlighter-rouge">rstrip</code></a></li>
  <li><a href="#string·split"><code class="highlighter-rouge">split</code></a></li>
  <li><a href="#string·splitlines"><code class="highlighter-rouge">splitlines</code></a></li>
  <li><a href="#string·startswith"><code class="highlighter-rouge">startswith</code></a></li>
  <li><a href="#string·strip"><code class="highlighter-rouge">strip</code></a></li>
  <li><a href="#string·title"><code class="highlighter-rouge">title</code></a></li>
  <li><a href="#string·upper"><code class="highlighter-rouge">upper</code></a></li>
</ul>

<h3 id="lists">Lists</h3>

<p>A list is a mutable sequence of values.
The <a href="#type">type</a> of a list is <code class="highlighter-rouge">"list"</code>.</p>

<p>Lists are indexable sequences: the elements of a list may be iterated
over by <code class="highlighter-rouge">for</code>-loops, list comprehensions, and various built-in
functions.</p>

<p>List may be constructed using bracketed list notation:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[]</span>              <span class="c"># an empty list</span>
<span class="p">[</span><span class="mi">1</span><span class="p">]</span>             <span class="c"># a 1-element list</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>          <span class="c"># a 2-element list</span>
</code></pre></div></div>

<p>Lists can also be constructed from any iterable sequence by using the
built-in <code class="highlighter-rouge">list</code> function.</p>

<p>The built-in <code class="highlighter-rouge">len</code> function applied to a list returns the number of elements.
The index expression <code class="highlighter-rouge">list[i]</code> returns the element at index i,
and the slice expression <code class="highlighter-rouge">list[i:j]</code> returns a new list consisting of
the elements at indices from i to j.</p>

<p>List elements may be added using the <code class="highlighter-rouge">append</code> or <code class="highlighter-rouge">extend</code> methods,
removed using the <code class="highlighter-rouge">remove</code> method, or reordered by assignments such as
<code class="highlighter-rouge">list[i] = list[j]</code>.</p>

<p>The concatenation operation <code class="highlighter-rouge">x + y</code> yields a new list containing all
the elements of the two lists x and y.</p>

<p>For most types, <code class="highlighter-rouge">x += y</code> is equivalent to <code class="highlighter-rouge">x = x + y</code>, except that it
evaluates <code class="highlighter-rouge">x</code> only once, that is, it allocates a new list to hold
the concatenation of <code class="highlighter-rouge">x</code> and <code class="highlighter-rouge">y</code>.
However, if <code class="highlighter-rouge">x</code> refers to a list, the statement does not allocate a
new list but instead mutates the original list in place, similar to
<code class="highlighter-rouge">x.extend(y)</code>.</p>

<p>Lists are not hashable, so may not be used in the keys of a dictionary.</p>

<p>A list used in a Boolean context is considered true if it is
non-empty.</p>

<p>A <a href="#comprehensions"><em>list comprehension</em></a> creates a new list whose elements are the
result of some expression applied to each element of another sequence.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>      <span class="c"># [1, 4, 9, 16]</span>
</code></pre></div></div>

<p>A list value has these methods:</p>

<ul>
  <li><a href="#list·append"><code class="highlighter-rouge">append</code></a></li>
  <li><a href="#list·clear"><code class="highlighter-rouge">clear</code></a></li>
  <li><a href="#list·extend"><code class="highlighter-rouge">extend</code></a></li>
  <li><a href="#list·index"><code class="highlighter-rouge">index</code></a></li>
  <li><a href="#list·insert"><code class="highlighter-rouge">insert</code></a></li>
  <li><a href="#list·pop"><code class="highlighter-rouge">pop</code></a></li>
  <li><a href="#list·remove"><code class="highlighter-rouge">remove</code></a></li>
</ul>

<h3 id="tuples">Tuples</h3>

<p>A tuple is an immutable sequence of values.
The <a href="#type">type</a> of a tuple is <code class="highlighter-rouge">"tuple"</code>.</p>

<p>Tuples are constructed using parenthesized list notation:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">()</span>                      <span class="c"># the empty tuple</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,)</span>                    <span class="c"># a 1-tuple</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>                  <span class="c"># a 2-tuple ("pair")</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>               <span class="c"># a 3-tuple</span>
</code></pre></div></div>

<p>Observe that for the 1-tuple, the trailing comma is necessary to
distinguish it from the parenthesized expression <code class="highlighter-rouge">(1)</code>.
1-tuples are seldom used.</p>

<p>Skylark, unlike Python, does not permit a trailing comma to appear in
an unparenthesized tuple expression:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="ow">in</span> <span class="nb">dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span> <span class="k">pass</span>                 <span class="c"># syntax error at 'in'</span>
<span class="n">_</span> <span class="o">=</span> <span class="p">[(</span><span class="n">v</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="ow">in</span> <span class="nb">dict</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>          <span class="c"># syntax error at 'in'</span>

<span class="nb">sorted</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,)</span>                             <span class="c"># ok</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">]</span>                                     <span class="c"># ok</span>
<span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="p">}</span>                                   <span class="c"># ok</span>
</code></pre></div></div>

<p>Any iterable sequence may be converted to a tuple by using the
built-in <code class="highlighter-rouge">tuple</code> function.</p>

<p>Like lists, tuples are indexed sequences, so they may be indexed and
sliced.  The index expression <code class="highlighter-rouge">tuple[i]</code> returns the tuple element at
index i, and the slice expression <code class="highlighter-rouge">tuple[i:j]</code> returns a subsequence
of a tuple.</p>

<p>Tuples are iterable sequences, so they may be used as the operand of a
<code class="highlighter-rouge">for</code>-loop, a list comprehension, or various built-in functions.</p>

<p>Unlike lists, tuples cannot be modified.
However, the mutable elements of a tuple may be modified.</p>

<p>Tuples are hashable (assuming their elements are hashable),
so they may be used as keys of a dictionary.</p>

<p>Tuples may be concatenated using the <code class="highlighter-rouge">+</code> operator.</p>

<p>A tuple used in a Boolean context is considered true if it is
non-empty.</p>

<h3 id="dictionaries">Dictionaries</h3>

<p>A dictionary is a mutable mapping from keys to values.
The <a href="#type">type</a> of a dictionary is <code class="highlighter-rouge">"dict"</code>.</p>

<p>Dictionaries provide constant-time operations to insert an element, to
look up the value for a key, or to remove an element.  Dictionaries
are implemented using hash tables, so keys must be hashable.  Hashable
values include <code class="highlighter-rouge">None</code>, Booleans, numbers, and strings, and tuples
composed from hashable values.  Most mutable values, such as lists,
and dictionaries, are not hashable, unless they are frozen.
Attempting to use a non-hashable value as a key in a dictionary
results in a dynamic error, as does passing one to the built-in
<code class="highlighter-rouge">hash</code> function.</p>

<p>A <a href="#dictionary-expressions">dictionary expression</a> specifies a
dictionary as a set of key/value pairs enclosed in braces:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">coins</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"penny"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">"nickel"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="s">"dime"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="s">"quarter"</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The expression <code class="highlighter-rouge">d[k]</code>, where <code class="highlighter-rouge">d</code> is a dictionary and <code class="highlighter-rouge">k</code> is a key,
retrieves the value associated with the key.  If the dictionary
contains no such item, the operation fails:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">coins</span><span class="p">[</span><span class="s">"penny"</span><span class="p">]</span>          <span class="c"># 1</span>
<span class="n">coins</span><span class="p">[</span><span class="s">"dime"</span><span class="p">]</span>           <span class="c"># 10</span>
<span class="n">coins</span><span class="p">[</span><span class="s">"silver dollar"</span><span class="p">]</span>  <span class="c"># error: key not found</span>
</code></pre></div></div>

<p>The number of items in a dictionary <code class="highlighter-rouge">d</code> is given by <code class="highlighter-rouge">len(d)</code>.
A key/value item may be added to a dictionary, or updated if the key
is already present, by using <code class="highlighter-rouge">d[k]</code> on the left side of an assignment:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">len</span><span class="p">(</span><span class="n">coins</span><span class="p">)</span>				<span class="c"># 4</span>
<span class="n">coins</span><span class="p">[</span><span class="s">"shilling"</span><span class="p">]</span> <span class="o">=</span> <span class="mi">20</span>
<span class="nb">len</span><span class="p">(</span><span class="n">coins</span><span class="p">)</span>				<span class="c"># 5, item was inserted</span>
<span class="n">coins</span><span class="p">[</span><span class="s">"shilling"</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="nb">len</span><span class="p">(</span><span class="n">coins</span><span class="p">)</span>				<span class="c"># 5, existing item was updated</span>
</code></pre></div></div>

<p>A dictionary can also be constructed using a <a href="#comprehension">dictionary
comprehension</a>, which evaluates a pair of expressions,
the <em>key</em> and the <em>value</em>, for every element of another iterable such
as a list.  This example builds a mapping from each word to its length
in bytes:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="s">"able"</span><span class="p">,</span> <span class="s">"baker"</span><span class="p">,</span> <span class="s">"charlie"</span><span class="p">]</span>
<span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">words</span><span class="p">}</span>	<span class="c"># {"charlie": 7, "baker": 5, "able": 4}</span>
</code></pre></div></div>

<p>Dictionaries are iterable sequences, so they may be used as the
operand of a <code class="highlighter-rouge">for</code>-loop, a list comprehension, or various built-in
functions.
Iteration yields the dictionary’s keys in the order in which they were
inserted; updating the value associated with an existing key does not
affect the iteration order.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="s">"a"</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s">"b"</span><span class="p">,</span> <span class="mi">2</span><span class="p">)])</span>          <span class="c"># {"a": 1, "b": 2}</span>
<span class="n">x</span><span class="o">.</span><span class="n">update</span><span class="p">([(</span><span class="s">"a"</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="s">"c"</span><span class="p">,</span> <span class="mi">4</span><span class="p">)])</span>          <span class="c"># {"a": 3, "b": 2, "c": 4}</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">coins</span><span class="p">:</span>
  <span class="k">print</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">coins</span><span class="p">[</span><span class="n">name</span><span class="p">])</span>	<span class="c"># prints "quarter 25", "dime 10", ...</span>
</code></pre></div></div>

<p>Like all mutable values in Skylark, a dictionary can be frozen, and
once frozen, all subsequent operations that attempt to update it will
fail.</p>

<p>A dictionary used in a Boolean context is considered true if it is
non-empty.</p>

<p>The binary <code class="highlighter-rouge">+</code> operation may be applied to two dictionaries.  It
yields a new dictionary whose elements are the union of the two
operands.  If a key is present in both operands, the result contains
the value from the right operand.
<b>Note:</b> this feature is deprecated.  Use the
<code class="highlighter-rouge">dict.update</code> method instead.</p>

<p>Dictionaries may be compared for equality using <code class="highlighter-rouge">==</code> and <code class="highlighter-rouge">!=</code>.  Two
dictionaries compare equal if they contain the same number of items
and each key/value item (k, v) found in one dictionary is also present
in the other.  Dictionaries are not ordered; it is an error to compare
two dictionaries with <code class="highlighter-rouge">&lt;</code>.</p>

<p>A dictionary value has these methods:</p>

<ul>
  <li><a href="#dict·clear"><code class="highlighter-rouge">clear</code></a></li>
  <li><a href="#dict·get"><code class="highlighter-rouge">get</code></a></li>
  <li><a href="#dict·items"><code class="highlighter-rouge">items</code></a></li>
  <li><a href="#dict·keys"><code class="highlighter-rouge">keys</code></a></li>
  <li><a href="#dict·pop"><code class="highlighter-rouge">pop</code></a></li>
  <li><a href="#dict·popitem"><code class="highlighter-rouge">popitem</code></a></li>
  <li><a href="#dict·setdefault"><code class="highlighter-rouge">setdefault</code></a></li>
  <li><a href="#dict·update"><code class="highlighter-rouge">update</code></a></li>
  <li><a href="#dict·values"><code class="highlighter-rouge">values</code></a></li>
</ul>

<h3 id="functions">Functions</h3>

<p>A function value represents a function defined in Skylark.
Its <a href="#type">type</a> is <code class="highlighter-rouge">"function"</code>.
A function value used in a Boolean context is always considered true.</p>

<p>Function definitions may not be nested.</p>

<p>A function definition defines zero or more named parameters.
Skylark has a rich mechanism for passing arguments to functions.</p>

<!-- TODO break up this explanation into caller-side and callee-side
     parts, and put the former under function calls and the latter
     under function definitions. Also try to convey that the Callable
     interface sees the flattened-out args and kwargs and that's what
     built-ins get.
-->

<p>The example below shows a definition and call of a function of two
required parameters, <code class="highlighter-rouge">x</code> and <code class="highlighter-rouge">y</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">idiv</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">x</span> <span class="o">//</span> <span class="n">y</span>

<span class="n">idiv</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>		<span class="c"># 2</span>
</code></pre></div></div>

<p>A call may provide arguments to function parameters either by
position, as in the example above, or by name, as in first two calls
below, or by a mixture of the two forms, as in the third call below.
All the positional arguments must precede all the named arguments.
Named arguments may improve clarity, especially in functions of
several parameters.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">idiv</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>		<span class="c"># 2</span>
<span class="n">idiv</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>		<span class="c"># 2</span>

<span class="n">idiv</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>		<span class="c"># 2</span>
</code></pre></div></div>

<p><b>Optional parameters:</b> A parameter declaration may specify a
default value using <code class="highlighter-rouge">name=value</code> syntax; such a parameter is
<em>optional</em>.  The default value expression is evaluated during
execution of the <code class="highlighter-rouge">def</code> statement, and the default value forms part of the function value.
All optional parameters must follow all non-optional parameters.
A function call may omit arguments for any suffix of the optional
parameters; the effective values of those arguments are supplied by
the function’s parameter defaults.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>

<span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>	<span class="c"># (1, 2)</span>
<span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>	<span class="c"># (1, 3)</span>
</code></pre></div></div>

<p>If a function parameter’s default value is a mutable expression,
modifications to the value during one call may be observed by
subsequent calls.
Beware of this when using lists or dicts as default values.
If the function becomes frozen, its parameters’ default values become
frozen too.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># module a.sky</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">list</span><span class="o">=</span><span class="p">[]):</span>
  <span class="nb">list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
  <span class="k">return</span> <span class="nb">list</span>

<span class="n">f</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>           <span class="c"># [1, 2, 3, 4]</span>
<span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>                    <span class="c"># [1]</span>
<span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>                    <span class="c"># [1, 2], not [2]!</span>

<span class="c"># module b.sky</span>
<span class="n">load</span><span class="p">(</span><span class="s">"a.sky"</span><span class="p">,</span> <span class="s">"f"</span><span class="p">)</span>
<span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>                    <span class="c"># error: cannot append to frozen list</span>
</code></pre></div></div>

<p><b>Variadic functions:</b> Some functions allow callers to provide an
arbitrary number of arguments.
After all required and optional parameters, a function definition may
specify a <em>variadic arguments</em> or <em>varargs</em> parameter, indicated by a
star preceding the parameter name: <code class="highlighter-rouge">*args</code>.
Any surplus positional arguments provided by the caller are formed
into a tuple and assigned to the <code class="highlighter-rouge">args</code> parameter.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">args</span>

<span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>                 <span class="c"># (1, 2, ())</span>
<span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>           <span class="c"># (1, 2, (3, 4))</span>
</code></pre></div></div>

<p><b>Keyword-variadic functions:</b> Some functions allow callers to
provide an arbitrary sequence of <code class="highlighter-rouge">name=value</code> keyword arguments.
A function definition may include a final <em>keyworded arguments</em> or
<em>kwargs</em> parameter, indicated by a double-star preceding the parameter
name: <code class="highlighter-rouge">**kwargs</code>.
Any surplus named arguments that do not correspond to named parameters
are collected in a new dictionary and assigned to the <code class="highlighter-rouge">kwargs</code> parameter:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">kwargs</span>

<span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>                 <span class="c"># (1, 2, {})</span>
<span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>             <span class="c"># (2, 1, {})</span>
<span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>        <span class="c"># (2, 1, {"z": 3})</span>
</code></pre></div></div>

<p>It is a static error if any two parameters of a function have the same name.</p>

<p>Just as a function definition may accept an arbitrary number of
positional or keyworded arguments, a function call may provide an
arbitrary number of positional or keyworded arguments supplied by a
list or dictionary:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span> <span class="o">+</span> <span class="n">c</span>

<span class="n">f</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>              <span class="c"># 11</span>
<span class="n">f</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>           <span class="c"># 13</span>
<span class="n">f</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>                 <span class="c"># error: f takes at least 2 arguments (1 given)</span>

<span class="n">f</span><span class="p">(</span><span class="o">**</span><span class="nb">dict</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>             <span class="c"># 11</span>
<span class="n">f</span><span class="p">(</span><span class="o">**</span><span class="nb">dict</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>        <span class="c"># 13</span>
<span class="n">f</span><span class="p">(</span><span class="o">**</span><span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>                  <span class="c"># error: f takes at least 2 arguments (1 given)</span>
<span class="n">f</span><span class="p">(</span><span class="o">**</span><span class="nb">dict</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>                  <span class="c"># error: f got unexpected keyword argument "d"</span>
</code></pre></div></div>

<p>Once the parameters have been successfully bound to the arguments
supplied by the call, the sequence of statements that comprise the
function body is executed.</p>

<p>A function call completes normally after the execution of either a
<code class="highlighter-rouge">return</code> statement, or of the last statement in the function body.
The result of the function call is the value of the return statement’s
operand, or <code class="highlighter-rouge">None</code> if the return statement had no operand or if the
function completeted without executing a return statement.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
  <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="k">return</span>
  <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="k">return</span> <span class="o">-</span><span class="n">x</span>
  <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>            <span class="c"># returns None after printing "1"</span>
<span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>            <span class="c"># returns None without printing</span>
<span class="n">f</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>           <span class="c"># returns 1 without printing</span>
</code></pre></div></div>

<p>It is a dynamic error for a function to call itself or another
function value with the same declaration.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">fib</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
  <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">x</span>
  <span class="k">return</span> <span class="n">fib</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">fib</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>	<span class="c"># dynamic error: function fib called recursively</span>

<span class="n">fib</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div></div>

<p>This rule, combined with the invariant that all loops are iterations
over finite sequences, implies that Skylark programs are not Turing-complete.</p>

<!-- This rule is supposed to deter people from abusing Skylark for
     inappropriate uses, especially in the build system.
     It may work for that purpose, but it doesn't stop Skylark programs
     from consuming too much time or space.  Perhaps it should be a
     dialect option.
-->

<h3 id="built-in-functions">Built-in functions</h3>

<p>A built-in function is a function or method implemented by the interpreter
or the application into which the interpreter is embedded.</p>

<p>A built-in function value used in a Boolean context is always considered true.</p>

<p>Many built-in functions are defined in the “universe” block of the environment
(see <a href="#name-resolution">Name Resolution</a>), and are thus available to
all Skylark programs.</p>

<p>Except where noted, built-in functions accept only positional arguments.</p>

<h2 id="name-binding-and-variables">Name binding and variables</h2>

<p>After a Skylark file is parsed, but before its execution begins, the
Skylark interpreter checks statically that the program is well formed.
For example, <code class="highlighter-rouge">break</code> and <code class="highlighter-rouge">continue</code> statements may appear only within
a loop; <code class="highlighter-rouge">if</code>, <code class="highlighter-rouge">for</code>, and <code class="highlighter-rouge">return</code> statements may appear only within a
function; and <code class="highlighter-rouge">load</code> statements may appear only outside any function.</p>

<p><em>Name resolution</em> is the static checking process that
resolves names to variable bindings.
During execution, names refer to variables.  Statically, names denote
places in the code where variables are created; these places are
called <em>bindings</em>.  A name may denote different bindings at different
places in the program.  The region of text in which a particular name
refers to the same binding is called that binding’s <em>scope</em>.</p>

<p>Four Skylark constructs bind names, as illustrated in the example below:
<code class="highlighter-rouge">load</code> statements (<code class="highlighter-rouge">a</code> and <code class="highlighter-rouge">b</code>),
<code class="highlighter-rouge">def</code> statements (<code class="highlighter-rouge">c</code>),
function parameters (<code class="highlighter-rouge">d</code>),
and assignments (<code class="highlighter-rouge">e</code>, <code class="highlighter-rouge">h</code>, including the augmented assignment <code class="highlighter-rouge">e += h</code>).
Variables may be assigned or re-assigned explicitly (<code class="highlighter-rouge">e</code>, <code class="highlighter-rouge">h</code>), or implicitly, as
in a <code class="highlighter-rouge">for</code>-loop (<code class="highlighter-rouge">f</code>) or comprehension (<code class="highlighter-rouge">g</code>, <code class="highlighter-rouge">i</code>).</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">load</span><span class="p">(</span><span class="s">"lib.sky"</span><span class="p">,</span> <span class="s">"a"</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="s">"B"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">c</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
  <span class="n">e</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
     <span class="k">print</span><span class="p">([</span><span class="bp">True</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">f</span><span class="p">])</span>
     <span class="n">e</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="n">h</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">a</span><span class="p">]</span>
</code></pre></div></div>

<p>The environment of a Skylark program is structured as a tree of
<em>lexical blocks</em>, each of which may contain name bindings.
The tree of blocks is parallel to the syntax tree.
Blocks are of four kinds.</p>

<!-- Avoid the term "built-in block" since that's also a type. -->
<p>At the root of the tree is the <em>universe</em> block, which binds constant
values such as <code class="highlighter-rouge">None</code>, <code class="highlighter-rouge">True</code>, and <code class="highlighter-rouge">False</code>, and built-in functions
such as <code class="highlighter-rouge">len</code>, <code class="highlighter-rouge">list</code>, and so on.
Skylark programs cannot change the set of universe bindings.
Because the universe block is shared by all files (modules),
all values bound in it must be immutable and stateless
from the perspective of the Skylark program.</p>

<p>Nested beneath the universe block is the <em>module</em> block, which
contains the bindings of the current file.
Bindings in the module block (such as <code class="highlighter-rouge">a</code>, <code class="highlighter-rouge">b</code>, <code class="highlighter-rouge">c</code>, and <code class="highlighter-rouge">h</code> in the
example) are called <em>global</em>.
The module block is typically empty at the start of the file
and is populated by top-level binding statements,
but an application may pre-bind one or more global names,
to provide domain-specific functions to that file, for example.</p>

<p>A module block contains a <em>function</em> block for each top-level
function, and a <em>comprehension</em> block for each top-level
comprehension.
Bindings inside either of these kinds of block are called <em>local</em>.
Additional functions and comprehensions, and their blocks, may be
nested in any order, to any depth.</p>

<p>If name is bound anywhere within a block, all uses of the name within
the block are treated as references to that binding, even uses that
appear before the binding.
The binding of <code class="highlighter-rouge">y</code> on the last line of the example below makes <code class="highlighter-rouge">y</code>
local to the function <code class="highlighter-rouge">hello</code>, so the use of <code class="highlighter-rouge">y</code> in the print
statement also refers to the local <code class="highlighter-rouge">y</code>, even though it appears
earlier.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">y</span> <span class="o">=</span> <span class="s">"goodbye"</span>

<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
  <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
      <span class="k">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="c"># prints "hello"</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
      <span class="n">y</span> <span class="o">=</span> <span class="s">"hello"</span>
</code></pre></div></div>

<p>It is a dynamic error to evaluate a reference to a local variable
before it has been bound:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
  <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>              <span class="c"># dynamic error: local variable x referenced before assignment</span>
  <span class="n">x</span> <span class="o">=</span> <span class="s">"hello"</span>
</code></pre></div></div>

<p>The same is true for global variables:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>                <span class="c"># dynamic error: global variable x referenced before assignment</span>
<span class="n">x</span> <span class="o">=</span> <span class="s">"hello"</span>
</code></pre></div></div>

<p>It is a static error to bind a global variable already explicitly bound in the file:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>                   <span class="c"># static error: cannot reassign global x declared on line 1</span>
</code></pre></div></div>

<p>If a name was pre-bound by the application, the Skylark program may
explicitly bind it, but only once.</p>

<p>An augmented assignment statement such as <code class="highlighter-rouge">x += 1</code> is considered a
binding of <code class="highlighter-rouge">x</code>. It is therefore a static error to use it on a global variable.</p>

<p>A name appearing after a dot, such as <code class="highlighter-rouge">split</code> in
<code class="highlighter-rouge">get_filename().split('/')</code>, is not resolved statically.
The <a href="#dot-expressions">dot expression</a> <code class="highlighter-rouge">.split</code> is a dynamic operation
on the value returned by <code class="highlighter-rouge">get_filename()</code>.</p>

<h2 id="value-concepts">Value concepts</h2>

<p>Skylark has eleven core <a href="#data-types">data types</a>.  An application
that embeds the Skylark intepreter may define additional types that
behave like Skylark values.  All values, whether core or
application-defined, implement a few basic behaviors:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>str(x)		-- return a string representation of x
type(x)		-- return a string describing the type of x
bool(x)		-- convert x to a Boolean truth value
hash(x)		-- return a hash code for x
</code></pre></div></div>

<h3 id="identity-and-mutation">Identity and mutation</h3>

<p>Skylark is an imperative language: programs consist of sequences of
statements executed for their side effects.
For example, an assignment statement updates the value held by a
variable, and calls to some built-in functions such as <code class="highlighter-rouge">print</code> change
the state of the application that embeds the interpreter.</p>

<p>Values of some data types, such as <code class="highlighter-rouge">NoneType</code>, <code class="highlighter-rouge">bool</code>, <code class="highlighter-rouge">int</code>, and
<code class="highlighter-rouge">string</code>, are <em>immutable</em>; they can never change.
Immutable values have no notion of <em>identity</em>: it is impossible for a
Skylark program to tell whether two integers, for instance, are
represented by the same object; it can tell only whether they are
equal.</p>

<p>Values of other data types, such as <code class="highlighter-rouge">list</code> and <code class="highlighter-rouge">dict</code>, are
<em>mutable</em>: they may be modified by a statement such as <code class="highlighter-rouge">a[i] = 0</code> or
<code class="highlighter-rouge">items.clear()</code>.  Although <code class="highlighter-rouge">tuple</code> and <code class="highlighter-rouge">function</code> values are not
directly mutable, they may refer to mutable values indirectly, so for
this reason we consider them mutable too.  Skylark values of these
types are actually <em>references</em> to variables.</p>

<p>Copying a reference to a variable, using an assignment statement for
instance, creates an <em>alias</em> for the variable, and the effects of
operations applied to the variable through one alias are visible
through all others.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="p">[]</span>                          <span class="c"># x refers to a new empty list variable</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">x</span>                           <span class="c"># y becomes an alias for x</span>
<span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>                     <span class="c"># changes the variable referred to by x</span>
<span class="k">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>                        <span class="c"># "[1]"; y observes the mutation</span>
</code></pre></div></div>

<p>Skylark uses <em>call-by-value</em> parameter passing: in a function call,
argument values are assigned to function parameters as if by
assignment statements.  If the values are references, the caller and
callee may refer to the same variables, so if the called function
changes the variable referred to by a parameter, the effect may also
be observed by the caller:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
    <span class="n">y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>                 <span class="c"># changes the variable referred to by x</span>

<span class="n">x</span> <span class="o">=</span> <span class="p">[]</span>                          <span class="c"># x refers to a new empty list variable</span>
<span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>                            <span class="c"># f's parameter y becomes an alias for x</span>
<span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>                        <span class="c"># "[1]"; x observes the mutation</span>
</code></pre></div></div>

<p>As in all imperative languages, understanding <em>aliasing</em>, the
relationship between reference values and the variables to which they
refer, is crucial to writing correct programs.</p>

<h3 id="freezing-a-value">Freezing a value</h3>

<p>Skylark has a feature unusual among imperative programming languages:
a mutable value may be <em>frozen</em> so that all subsequent attempts to
mutate it fail with a dynamic error; the value, and all other values
reachable from it, become <em>immutable</em>.</p>

<p>Immediately after execution of a Skylark module, all values in its
top-level environment are frozen. Because all the global variables of
an initialized Skylark module are immutable, the module may be published to
and used by other threads in a parallel program without the need for
locks. For example, the Bazel build system loads and executes BUILD
and .bzl files in parallel, and two modules being executed
concurrently may freely access variables or call functions from a
third without the possibility of a race condition.</p>

<h3 id="hashing">Hashing</h3>

<p>The <code class="highlighter-rouge">dict</code> data type is implemented using hash tables, so
only <em>hashable</em> values are suitable as keys of a <code class="highlighter-rouge">dict</code>.
Attempting to use a non-hashable value as the key in a hash
table, or as the operand of the <code class="highlighter-rouge">hash</code> built-in function, results in a
dynamic error.</p>

<p>The hash of a value is an unspecified integer chosen so that two equal
values have the same hash, in other words, <code class="highlighter-rouge">x == y =&gt; hash(x) == hash(y)</code>.
A hashable value has the same hash throughout its lifetime.</p>

<p>Values of the types <code class="highlighter-rouge">NoneType</code>, <code class="highlighter-rouge">bool</code>, <code class="highlighter-rouge">int</code>, and <code class="highlighter-rouge">string</code>,
which are all immutable, are hashable.</p>

<p>Values of mutable types such as <code class="highlighter-rouge">list</code> and <code class="highlighter-rouge">dict</code> are not
hashable, unless they have become immutable due to <em>freezing</em>.</p>

<p>A <code class="highlighter-rouge">tuple</code> value is hashable only if all its elements are hashable.
Thus <code class="highlighter-rouge">("localhost", 80)</code> is hashable but <code class="highlighter-rouge">([127, 0, 0, 1], 80)</code> is not.</p>

<p>Values of type <code class="highlighter-rouge">function</code> are also hashable.
Although functions are not necessarily immutable, as they may be
closures that refer to mutable variables, instances of these types
are compared by reference identity (see <a href="#comparisons">Comparisons</a>),
so their hash values are derived from their identity.</p>

<h3 id="sequence-types">Sequence types</h3>

<p>Many Skylark data types represent a <em>sequence</em> of values: lists
and tuples are sequences of arbitrary values, and in many
contexts dictionaries act like a sequence of their keys.</p>

<p>We can classify different kinds of sequence types based on the
operations they support.</p>

<ul>
  <li><code class="highlighter-rouge">Iterable</code>: an <em>iterable</em> value lets us process each of its elements in a fixed order.
Examples: <code class="highlighter-rouge">dict</code>, <code class="highlighter-rouge">list</code>, <code class="highlighter-rouge">tuple</code>, but not <code class="highlighter-rouge">string</code>.</li>
  <li><code class="highlighter-rouge">Sequence</code>: a <em>sequence of known length</em> lets us know how many elements it
contains without processing them.
Examples: <code class="highlighter-rouge">dict</code>, <code class="highlighter-rouge">list</code>, <code class="highlighter-rouge">tuple</code>, but not <code class="highlighter-rouge">string</code>.</li>
  <li><code class="highlighter-rouge">Indexable</code>: an <em>indexed</em> type has a fixed length and provides efficient
random access to its elements, which are identified by integer indices.
Examples: <code class="highlighter-rouge">string</code>, <code class="highlighter-rouge">tuple</code>, and <code class="highlighter-rouge">list</code>.</li>
  <li><code class="highlighter-rouge">SetIndexable</code>: a <em>settable indexed type</em> additionally allows us to modify the
element at a given integer index. Example: <code class="highlighter-rouge">list</code>.</li>
  <li><code class="highlighter-rouge">Mapping</code>: a mapping is an association of keys to values. Example: <code class="highlighter-rouge">dict</code>.</li>
</ul>

<p>Although all of Skylark’s core data types for sequences implement at
least the <code class="highlighter-rouge">Sequence</code> contract, it’s possible for an an application
that embeds the Skylark interpreter to define additional data types
representing sequences of unknown length that implement only the <code class="highlighter-rouge">Iterable</code> contract.</p>

<p>Strings are not iterable, though they do support the <code class="highlighter-rouge">len(s)</code> and
<code class="highlighter-rouge">s[i]</code> operations. Skylark deviates from Python here to avoid common
pitfall in which a string is used by mistake where a list containing a
single string was intended, resulting in its interpretation as a sequence
of bytes.</p>

<p>Most Skylark operators and built-in functions that need a sequence
of values will accept any iterable.</p>

<p>It is a dynamic error to mutate a sequence such as a list or a
dictionary while iterating over it.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">increment_values</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
  <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="nb">dict</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>			<span class="c"># error: cannot insert into hash table during iteration</span>

<span class="nb">dict</span> <span class="o">=</span> <span class="p">{</span><span class="s">"one"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">"two"</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="n">increment_values</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="indexing">Indexing</h3>

<p>Many Skylark operators and functions require an index operand <code class="highlighter-rouge">i</code>,
such as <code class="highlighter-rouge">a[i]</code> or <code class="highlighter-rouge">list.insert(i, x)</code>. Others require two indices <code class="highlighter-rouge">i</code>
and <code class="highlighter-rouge">j</code> that indicate the start and end of a subsequence, such as
<code class="highlighter-rouge">a[i:j]</code>, <code class="highlighter-rouge">list.index(x, i, j)</code>, or <code class="highlighter-rouge">string.find(x, i, j)</code>.
All such operations follow similar conventions, described here.</p>

<p>Indexing in Skylark is <em>zero-based</em>. The first element of a string
or list has index 0, the next 1, and so on. The last element of a
sequence of length <code class="highlighter-rouge">n</code> has index <code class="highlighter-rouge">n-1</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"hello"</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>			<span class="c"># "h"</span>
<span class="s">"hello"</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>			<span class="c"># "o"</span>
<span class="s">"hello"</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>			<span class="c"># error: index out of range</span>
</code></pre></div></div>

<p>For subsequence operations that require two indices, the first is
<em>inclusive</em> and the second <em>exclusive</em>. Thus <code class="highlighter-rouge">a[i:j]</code> indicates the
sequence starting with element <code class="highlighter-rouge">i</code> up to but not including element
<code class="highlighter-rouge">j</code>. The length of this subsequence is <code class="highlighter-rouge">j-i</code>. This convention is known
as <em>half-open indexing</em>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"hello"</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>			<span class="c"># "ell"</span>
</code></pre></div></div>

<p>Either or both of the index operands may be omitted. If omitted, the
first is treated equivalent to 0 and the second is equivalent to the
length of the sequence:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"hello"</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>                     <span class="c"># "ello"</span>
<span class="s">"hello"</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span>                     <span class="c"># "hell"</span>
</code></pre></div></div>

<p>It is permissible to supply a negative integer to an indexing
operation. The effective index is computed from the supplied value by
the following two-step procedure. First, if the value is negative, the
length of the sequence is added to it. This provides a convenient way
to address the final elements of the sequence:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"hello"</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>                     <span class="c"># "o",  like "hello"[4]</span>
<span class="s">"hello"</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>                  <span class="c"># "ll", like "hello"[2:4]</span>
</code></pre></div></div>

<p>Second, for subsequence operations, if the value is still negative, it
is replaced by zero, or if it is greater than the length <code class="highlighter-rouge">n</code> of the
sequence, it is replaced by <code class="highlighter-rouge">n</code>. In effect, the index is “truncated” to
the nearest value in the range <code class="highlighter-rouge">[0:n]</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"hello"</span><span class="p">[</span><span class="o">-</span><span class="mi">1000</span><span class="p">:</span><span class="mi">1000</span><span class="p">]</span>		<span class="c"># "hello"</span>
</code></pre></div></div>

<p>This truncation step does not apply to indices of individual elements:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"hello"</span><span class="p">[</span><span class="o">-</span><span class="mi">6</span><span class="p">]</span>		<span class="c"># error: index out of range</span>
<span class="s">"hello"</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>		<span class="c"># "h"</span>
<span class="s">"hello"</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>		<span class="c"># "o"</span>
<span class="s">"hello"</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>		<span class="c"># error: index out of range</span>
</code></pre></div></div>

<h2 id="expressions">Expressions</h2>

<p>An expression specifies the computation of a value.</p>

<p>The Skylark grammar defines several categories of expression.
An <em>operand</em> is an expression consisting of a single token (such as an
identifier or a literal), or a bracketed expression.
Operands are self-delimiting.
An operand may be followed by any number of dot, call, or slice
suffixes, to form a <em>primary</em> expression.
In some places in the Skylark grammar where an expression is expected,
it is legal to provide a comma-separated list of expressions denoting
a tuple.
The grammar uses <code class="highlighter-rouge">Expression</code> where a multiple-component expression is allowed,
and <code class="highlighter-rouge">Test</code> where it accepts an expression of only a single component.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Expression = Test {',' Test} .

Test = IfExpr | PrimaryExpr | UnaryExpr | BinaryExpr .

PrimaryExpr = Operand
            | PrimaryExpr DotSuffix
            | PrimaryExpr CallSuffix
            | PrimaryExpr SliceSuffix
            .

Operand = identifier
        | int | string
        | ListExpr | ListComp
        | DictExpr | DictComp
        | '(' [Expression] [,] ')'
        | '-' PrimaryExpr
        .

DotSuffix   = '.' identifier .
CallSuffix  = '(' [Arguments [',']] ')' .
SliceSuffix = '[' [Expression] [':' Test [':' Test]] ']' .
</code></pre></div></div>

<h3 id="identifiers">Identifiers</h3>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Primary = identifier
</code></pre></div></div>

<p>An identifier is a name that identifies a value.</p>

<p>Lookup of locals and globals may fail if not yet defined.</p>

<h3 id="literals">Literals</h3>

<p>Skylark supports string literals of three different kinds:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Primary = int | string
</code></pre></div></div>

<p>Evaluation of a literal yields a value of the given type (string, int) with the
given value.
See <a href="#lexical elements">Literals</a> for details.</p>

<h3 id="parenthesized-expressions">Parenthesized expressions</h3>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Primary = '(' [Expression] ')'
</code></pre></div></div>

<p>A single expression enclosed in parentheses yields the result of that expression.
Explicit parentheses may be used for clarity,
or to override the default association of subexpressions.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">4</span>                   <span class="c"># 11</span>
<span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">4</span><span class="p">)</span>               <span class="c"># 21</span>
</code></pre></div></div>

<p>If the parentheses are empty, or contain a single expression followed
by a comma, or contain two or more expressions, the expression yields a tuple.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">()</span>                              <span class="c"># (), the empty tuple</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,)</span>                            <span class="c"># (1,), a tuple of length 1</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>                          <span class="c"># (1, 2), a 2-tuple or pair</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>                       <span class="c"># (1, 2, 3), a 3-tuple or triple</span>
</code></pre></div></div>

<p>In some contexts, such as a <code class="highlighter-rouge">return</code> or assignment statement or the
operand of a <code class="highlighter-rouge">for</code> statement, a tuple may be expressed without
parentheses.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>

<span class="k">return</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>

<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span>
   <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div></div>

<p>Skylark (like Python 3) does not accept an unparenthesized tuple
expression as the operand of a list comprehension:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>	       	<span class="c"># parse error: unexpected ','</span>
</code></pre></div></div>

<h3 id="dictionary-expressions">Dictionary expressions</h3>

<p>A dictionary expression is a comma-separated list of colon-separated
key/value expression pairs, enclosed in curly brackets, and it yields
a new dictionary object.
An optional comma may follow the final pair.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>DictExpr = '{' [Entries [',']] '}' .
Entries  = Entry {',' Entry} .
Entry    = Test ':' Test .
</code></pre></div></div>

<p>Examples:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{}</span>
<span class="p">{</span><span class="s">"one"</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="p">{</span><span class="s">"one"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">"two"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,}</span>
</code></pre></div></div>

<p>The key and value expressions are evaluated in left-to-right order.
Evaluation fails if the same key is used multiple times.</p>

<p>Only <a href="#hashing">hashable</a> values may be used as the keys of a dictionary.</p>

<h3 id="list-expressions">List expressions</h3>

<p>A list expression is a comma-separated list of element expressions,
enclosed in square brackets, and it yields a new list object.
An optional comma may follow the last element expression.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ListExpr = '[' [Expression [',']] ']' .
</code></pre></div></div>

<p>Element expressions are evaluated in left-to-right order.</p>

<p>Examples:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[]</span>                      <span class="c"># [], empty list</span>
<span class="p">[</span><span class="mi">1</span><span class="p">]</span>                     <span class="c"># [1], a 1-element list</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,]</span>              <span class="c"># [1, 2, 3], a 3-element list</span>
</code></pre></div></div>

<h3 id="unary-operators">Unary operators</h3>

<p>There are two unary operators, both appearing before their operand:
<code class="highlighter-rouge">-</code>, and <code class="highlighter-rouge">not</code>.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>UnaryExpr = '-' Test
          | 'not' Test
          .
</code></pre></div></div>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- number        unary negation          (number)
not x           logical negation        (any type)
</code></pre></div></div>

<p>The <code class="highlighter-rouge">-</code> operators returns the opposite of any number.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
	<span class="k">return</span> <span class="mi">1</span>
<span class="k">elif</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
	<span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
<span class="k">else</span><span class="p">:</span>
	<span class="k">return</span> <span class="mi">0</span>
</code></pre></div></div>

<p>The <code class="highlighter-rouge">not</code> operator returns the negation of the truth value of its
operand.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="ow">not</span> <span class="bp">True</span>                        <span class="c"># False</span>
<span class="ow">not</span> <span class="bp">False</span>                       <span class="c"># True</span>
<span class="ow">not</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>                   <span class="c"># False</span>
<span class="ow">not</span> <span class="s">""</span>                          <span class="c"># True</span>
<span class="ow">not</span> <span class="mi">0</span>                           <span class="c"># True</span>
</code></pre></div></div>

<h3 id="binary-operators">Binary operators</h3>

<p>Skylark has the following binary operators, arranged in order of increasing precedence:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>or
and
not
==   !=   &lt;   &gt;   &lt;=   &gt;=   in   not in
-   +
*   /   //   %
</code></pre></div></div>

<p>Comparison operators, <code class="highlighter-rouge">in</code>, and <code class="highlighter-rouge">not in</code> are non-associative,
so the parser will not accept <code class="highlighter-rouge">0 &lt;= i &lt; n</code>.
All other binary operators of equal precedence associate to the left.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>BinaryExpr = Test {Binop Test} .

Binop = 'or'
      | 'and'
      | 'not'
      | '==' | '!=' | '&lt;' | '&gt;' | '&lt;=' | '&gt;=' | 'in' | 'not' 'in'
      | '-' | '+'
      | '*' | '%' | '/' | '//'
      .
</code></pre></div></div>

<h4 id="or-and-and"><code class="highlighter-rouge">or</code> and <code class="highlighter-rouge">and</code></h4>

<p>The <code class="highlighter-rouge">or</code> and <code class="highlighter-rouge">and</code> operators yield, respectively, the logical disjunction and
conjunction of their arguments, which need not be Booleans.
The expression <code class="highlighter-rouge">x or y</code> yields the value of <code class="highlighter-rouge">x</code> if its truth value is <code class="highlighter-rouge">True</code>,
or the value of <code class="highlighter-rouge">y</code> otherwise.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="bp">False</span> <span class="ow">or</span> <span class="bp">False</span>		<span class="c"># False</span>
<span class="bp">False</span> <span class="ow">or</span> <span class="bp">True</span>		<span class="c"># True</span>
<span class="bp">True</span>  <span class="ow">or</span> <span class="bp">False</span>		<span class="c"># True</span>
<span class="bp">True</span>  <span class="ow">or</span> <span class="bp">True</span>		<span class="c"># True</span>

<span class="mi">0</span> <span class="ow">or</span> <span class="s">"hello"</span>		<span class="c"># "hello"</span>
<span class="mi">1</span> <span class="ow">or</span> <span class="s">"hello"</span>		<span class="c"># 1</span>
</code></pre></div></div>

<p>Similarly, <code class="highlighter-rouge">x and y</code> yields the value of <code class="highlighter-rouge">x</code> if its truth value is
<code class="highlighter-rouge">False</code>, or the value of <code class="highlighter-rouge">y</code> otherwise.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="bp">False</span> <span class="ow">and</span> <span class="bp">False</span>		<span class="c"># False</span>
<span class="bp">False</span> <span class="ow">and</span> <span class="bp">True</span>		<span class="c"># False</span>
<span class="bp">True</span>  <span class="ow">and</span> <span class="bp">False</span>		<span class="c"># False</span>
<span class="bp">True</span>  <span class="ow">and</span> <span class="bp">True</span>		<span class="c"># True</span>

<span class="mi">0</span> <span class="ow">and</span> <span class="s">"hello"</span>		<span class="c"># 0</span>
<span class="mi">1</span> <span class="ow">and</span> <span class="s">"hello"</span>		<span class="c"># "hello"</span>
</code></pre></div></div>

<p>These operators use “short circuit” evaluation, so the second
expression is not evaluated if the value of the first expression has
already determined the result, allowing constructions like these:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>		<span class="c"># x[0] is not evaluated if x is empty</span>
<span class="n">x</span> <span class="ow">and</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s">""</span>
<span class="ow">not</span> <span class="n">x</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div></div>

<h4 id="comparisons">Comparisons</h4>

<p>The <code class="highlighter-rouge">==</code> operator reports whether its operands are equal; the <code class="highlighter-rouge">!=</code>
operator is its negation.</p>

<p>The operators <code class="highlighter-rouge">&lt;</code>, <code class="highlighter-rouge">&gt;</code>, <code class="highlighter-rouge">&lt;=</code>, and <code class="highlighter-rouge">&gt;=</code> perform an ordered comparison
of their operands.  It is an error to apply these operators to
operands of unequal type.  Of the built-in types, only the following
support ordered comparison, using the ordering relation shown:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NoneType        # None &lt;= None
bool            # False &lt; True
int             # mathematical
string          # lexicographical
tuple           # lexicographical
list            # lexicographical
</code></pre></div></div>

<p>Applications may define additional types that support ordered
comparison.</p>

<p>The remaining built-in types support only equality comparisons.
Values of type <code class="highlighter-rouge">dict</code> compare equal if their elements compare
equal, and values of type <code class="highlighter-rouge">function</code> are equal only to themselves.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dict                            # equal contents
function                        # identity
</code></pre></div></div>

<h4 id="arithmetic-operations">Arithmetic operations</h4>

<p>The following table summarizes the binary arithmetic operations
available for built-in types:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Arithmetic
   number + number              # addition
   number - number              # subtraction
   number * number              # multiplication
   number // number             # floored division
   number % number              # remainder of floored division

Concatenation
   string + string
     list + list
    tuple + tuple
     dict + dict                # (deprecated)

Repetition (string/list/tuple)
      int * sequence
 sequence * int

String interpolation
   string % any                 # see String Interpolation
</code></pre></div></div>

<p>The operands of the arithmetic operators <code class="highlighter-rouge">+</code>, <code class="highlighter-rouge">-</code>, <code class="highlighter-rouge">*</code>, <code class="highlighter-rouge">//</code>, and
<code class="highlighter-rouge">%</code> must both be <code class="highlighter-rouge">int</code>. The type of the result has type <code class="highlighter-rouge">int</code>.</p>

<p>The <code class="highlighter-rouge">+</code> operator may be applied to non-numeric operands of the same
type, such as two lists, two tuples, or two strings, in which case it
computes the concatenation of the two operands and yields a new value of
the same type.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"Hello, "</span> <span class="o">+</span> <span class="s">"world"</span>		<span class="c"># "Hello, world"</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>			<span class="c"># (1, 2, 3, 4)</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>			<span class="c"># [1, 2, 3, 4]</span>
</code></pre></div></div>

<p>The <code class="highlighter-rouge">*</code> operator may be applied to an integer <em>n</em> and a value of type
<code class="highlighter-rouge">string</code>, <code class="highlighter-rouge">list</code>, or <code class="highlighter-rouge">tuple</code>, in which case it yields a new value
of the same sequence type consisting of <em>n</em> repetitions of the original sequence.
The order of the operands is immaterial.
Negative values of <em>n</em> behave like zero.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">'mur'</span> <span class="o">*</span> <span class="mi">2</span>               <span class="c"># 'murmur'</span>
<span class="mi">3</span> <span class="o">*</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>            <span class="c"># [0, 1, 2, 0, 1, 2, 0, 1, 2]</span>
</code></pre></div></div>

<p>Applications may define additional types that support any subset of
these operators.</p>

<h4 id="membership-tests">Membership tests</h4>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      any in     sequence		(list, tuple, dict, string)
      any not in sequence
</code></pre></div></div>

<p>The <code class="highlighter-rouge">in</code> operator reports whether its first operand is a member of its
second operand, which must be a list, tuple, dict, or string.
The <code class="highlighter-rouge">not in</code> operator is its negation.
Both return a Boolean.</p>

<p>The meaning of membership varies by the type of the second operand:
the members of a list or tuple are its elements;
the members of a dict are its keys;
the members of a string are all its substrings.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">1</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>                  <span class="c"># True</span>
<span class="mi">4</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>              <span class="c"># True</span>

<span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s">"one"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">"two"</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="s">"one"</span> <span class="ow">in</span> <span class="n">d</span>                      <span class="c"># True</span>
<span class="s">"three"</span> <span class="ow">in</span> <span class="n">d</span>                    <span class="c"># False</span>
<span class="mi">1</span> <span class="ow">in</span> <span class="n">d</span>                          <span class="c"># False</span>

<span class="s">"nasty"</span> <span class="ow">in</span> <span class="s">"dynasty"</span>            <span class="c"># True</span>
<span class="s">"a"</span> <span class="ow">in</span> <span class="s">"banana"</span>                 <span class="c"># True</span>
<span class="s">"f"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="s">"way"</span>                <span class="c"># True</span>
</code></pre></div></div>

<h4 id="string-interpolation">String interpolation</h4>

<p>The expression <code class="highlighter-rouge">format % args</code> performs <em>string interpolation</em>, a
simple form of template expansion.
The <code class="highlighter-rouge">format</code> string is interpreted as a sequence of literal portions
and <em>conversions</em>.
Each conversion, which starts with a <code class="highlighter-rouge">%</code> character, is replaced by its
corresponding value from <code class="highlighter-rouge">args</code>.
The characters following <code class="highlighter-rouge">%</code> in each conversion determine which
argument it uses and how to convert it to a string.</p>

<p>Each <code class="highlighter-rouge">%</code> character marks the start of a conversion specifier, unless
it is immediately followed by another <code class="highlighter-rouge">%</code>, in which cases both
characters together denote a single literal percent sign.</p>

<p>The conversion’s operand is the next element of <code class="highlighter-rouge">args</code>,
which must be a tuple with exactly one component per conversion,
unless the format string contains only a single conversion, in which
case <code class="highlighter-rouge">args</code> itself is its operand.</p>

<p>Skylark does not support the flag, width, and padding specifiers
supported by Python’s <code class="highlighter-rouge">%</code> and other variants of C’s <code class="highlighter-rouge">printf</code>.</p>

<p>After the <code class="highlighter-rouge">%</code> comes a single letter indicating what
operand types are valid and how to convert the operand <code class="highlighter-rouge">x</code> to a string:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%       none            literal percent sign
s       any             as if by str(x)
r       any             as if by repr(x)
d       number          signed integer decimal
</code></pre></div></div>

<p>It is an error if the argument does not have the type required by the
conversion specifier.  A Boolean argument is not considered a number.</p>

<p>Examples:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"Hello </span><span class="si">%</span><span class="s">s"</span> <span class="o">%</span> <span class="s">"Bob"</span>                              <span class="c"># "Hello Bob"</span>

<span class="s">"Hello </span><span class="si">%</span><span class="s">s, your score is </span><span class="si">%</span><span class="s">d"</span> <span class="o">%</span> <span class="p">(</span><span class="s">"Bob"</span><span class="p">,</span> <span class="mi">75</span><span class="p">)</span>      <span class="c"># "Hello Bob, your score is 75"</span>
<span class="p">)</span>
</code></pre></div></div>

<p>One subtlety: to use a tuple as the operand of a conversion in format
string containing only a single conversion, you must wrap the tuple in
a singleton tuple:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"coordinates=</span><span class="si">%</span><span class="s">s"</span> <span class="o">%</span> <span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">74</span><span class="p">)</span>	<span class="c"># error: too many arguments for format string</span>
<span class="s">"coordinates=</span><span class="si">%</span><span class="s">s"</span> <span class="o">%</span> <span class="p">((</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">74</span><span class="p">),)</span>	<span class="c"># "coordinates=(40, -74)"</span>
</code></pre></div></div>

<h3 id="conditional-expressions">Conditional expressions</h3>

<p>A conditional expression has the form <code class="highlighter-rouge">a if cond else b</code>.
It first evaluates the condition <code class="highlighter-rouge">cond</code>.
If it’s true, it evaluates <code class="highlighter-rouge">a</code> and yields its value;
otherwise it yields the value of <code class="highlighter-rouge">b</code>.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>IfExpr = Test 'if' Test 'else' Test .
</code></pre></div></div>

<p>Example:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"yes"</span> <span class="k">if</span> <span class="n">enabled</span> <span class="k">else</span> <span class="s">"no"</span>
</code></pre></div></div>

<h3 id="comprehensions">Comprehensions</h3>

<p>A comprehension constructs new list or dictionary value by looping
over one or more iterables and evaluating a <em>body</em> expression that produces
successive elements of the result.</p>

<p>A list comprehension consists of a single expression followed by one
or more <em>clauses</em>, the first of which must be a <code class="highlighter-rouge">for</code> clause.
Each <code class="highlighter-rouge">for</code> clause resembles a <code class="highlighter-rouge">for</code> statement, and specifies an
iterable operand and a set of variables to be assigned by successive
values of the iterable.
An <code class="highlighter-rouge">if</code> cause resembles an <code class="highlighter-rouge">if</code> statement, and specifies a condition
that must be met for the body expression to be evaluated.
A sequence of <code class="highlighter-rouge">for</code> and <code class="highlighter-rouge">if</code> clauses acts like a nested sequence of
<code class="highlighter-rouge">for</code> and <code class="highlighter-rouge">if</code> statements.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ListComp = '[' Test {CompClause} ']'.
DictComp = '{' Entry {CompClause} '}' .

CompClause = 'for' LoopVariables 'in' Test
           | 'if' Test .

LoopVariables = PrimaryExpr {',' PrimaryExpr} .
</code></pre></div></div>

<p>Examples:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>                 <span class="c"># [0, 1, 4, 9, 16]</span>
<span class="p">[</span><span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>     <span class="c"># [0, 4, 16]</span>
<span class="p">[(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">x</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="n">x</span><span class="p">]</span>                       <span class="c"># [(0, 1), (0, 2), (0, 3), (0, 4), (2, 3), (2, 4)]</span>
</code></pre></div></div>

<p>A dict comprehension resembles a list comprehension, but its body is a
pair of expressions, <code class="highlighter-rouge">key: value</code>, separated by a colon,
and its result is a dictionary containing the key/value pairs
for which the body expression was evaluated.
Evaluation fails if the value of any key is unhashable.</p>

<p>As with a <code class="highlighter-rouge">for</code> loop, the loop variables may exploit compound
assignment:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="n">z</span> <span class="k">for</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="n">z</span> <span class="ow">in</span> <span class="p">[((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">5</span><span class="p">),</span> <span class="p">((</span><span class="s">"o"</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="s">"!"</span><span class="p">)]]</span>         <span class="c"># [11, 'oo!']</span>
</code></pre></div></div>

<p>Skylark, following Python 3, does not accept an unparenthesized
tuple as the operand of a <code class="highlighter-rouge">for</code> clause:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>		<span class="c"># parse error: unexpected comma</span>
</code></pre></div></div>

<p>Comprehensions in Skylark, again following Python 3, define a new lexical
block, so assignments to loop variables have no effect on variables of
the same name in an enclosing block:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">_</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">2</span><span class="p">]]</span>            <span class="c"># new variable x is local to the comprehension</span>
<span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>                        <span class="c"># 1</span>
</code></pre></div></div>

<h3 id="function-and-method-calls">Function and method calls</h3>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CallSuffix = '(' [Arguments [',']] ')' .

Arguments = Argument {',' Argument} .
Argument  = Test | identifier '=' Test | '*' Test | '**' Test .
</code></pre></div></div>

<p>A value <code class="highlighter-rouge">f</code> of type <code class="highlighter-rouge">function</code> may be called using the expression <code class="highlighter-rouge">f(...)</code>.
Applications may define additional types whose values may be called in the same way.</p>

<p>A method call such as <code class="highlighter-rouge">filename.endswith(".sky")</code> is the composition
of two operations, <code class="highlighter-rouge">m = filename.endswith</code> and <code class="highlighter-rouge">m(".sky")</code>.
The first, a dot operation, yields a <em>bound method</em>, a function value
that pairs a receiver value (the <code class="highlighter-rouge">filename</code> string) with a choice of
method (<a href="#string·endswith">string·endswith</a>).</p>

<p>Only built-in or application-defined types may have methods.</p>

<p>See <a href="#functions">Functions</a> for an explanation of function parameter passing.</p>

<h3 id="dot-expressions">Dot expressions</h3>

<p>A dot expression <code class="highlighter-rouge">x.f</code> selects the attribute <code class="highlighter-rouge">f</code> (a field or method)
of the value <code class="highlighter-rouge">x</code>.</p>

<p>Fields are possessed by none of the main Skylark <a href="#data-types">data types</a>,
but some application-defined types have them.
Methods belong to the built-in types <code class="highlighter-rouge">string</code>, <code class="highlighter-rouge">list</code>, and <code class="highlighter-rouge">dict</code>,
and to many application-defined types.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>DotSuffix = '.' identifier .
</code></pre></div></div>

<p>A dot expression fails if the value does not have an attribute of the
specified name.</p>

<p>Use the built-in function <code class="highlighter-rouge">hasattr(x, "f")</code> to ascertain whether a
value has a specific attribute, or <code class="highlighter-rouge">dir(x)</code> to enumerate all its
attributes.  The <code class="highlighter-rouge">getattr(x, "f")</code> function can be used to select an
attribute when the name <code class="highlighter-rouge">"f"</code> is not known statically.</p>

<p>A dot expression that selects a method typically appears within a call
expression, as in these examples:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="s">"able"</span><span class="p">,</span> <span class="s">"baker"</span><span class="p">,</span> <span class="s">"charlie"</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s">"baker"</span><span class="p">)</span>     <span class="c"># 1</span>
<span class="s">"banana"</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s">"a"</span><span class="p">)</span>                             <span class="c"># 3</span>
<span class="s">"banana"</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>                              <span class="c"># error: string has no .reverse field or method</span>
</code></pre></div></div>

<p>But when not called immediately, the dot expression evaluates to a
<em>bound method</em>, that is, a method coupled to a specific receiver
value.  A bound method can be called like an ordinary function,
without a receiver argument:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">f</span> <span class="o">=</span> <span class="s">"banana"</span><span class="o">.</span><span class="n">count</span>
<span class="n">f</span>                                               <span class="c"># &lt;built-in method count of string value&gt;</span>
<span class="n">f</span><span class="p">(</span><span class="s">"a"</span><span class="p">)</span>                                          <span class="c"># 3</span>
<span class="n">f</span><span class="p">(</span><span class="s">"n"</span><span class="p">)</span>                                          <span class="c"># 2</span>
</code></pre></div></div>

<p><b>Implementation note:</b>
The Java implementation does not currently allow a method to be
selected but not immediately called.
See Google Issue b/21392896.</p>

<h3 id="index-expressions">Index expressions</h3>

<p>An index expression <code class="highlighter-rouge">a[i]</code> yields the <code class="highlighter-rouge">i</code>th element of an <em>indexable</em>
type such as a string, tuple, or list.  The index <code class="highlighter-rouge">i</code> must be an <code class="highlighter-rouge">int</code>
value in the range -<code class="highlighter-rouge">n</code> ≤ <code class="highlighter-rouge">i</code> &lt; <code class="highlighter-rouge">n</code>, where <code class="highlighter-rouge">n</code> is <code class="highlighter-rouge">len(a)</code>; any other
index results in an error.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SliceSuffix = '[' [Expression] [':' Test [':' Test]] ']' .
</code></pre></div></div>

<p>A valid negative index <code class="highlighter-rouge">i</code> behaves like the non-negative index <code class="highlighter-rouge">n+i</code>,
allowing for convenient indexing relative to the end of the
sequence.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"abc"</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>                        <span class="c"># "a"</span>
<span class="s">"abc"</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>                        <span class="c"># "b"</span>
<span class="s">"abc"</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>                       <span class="c"># "c"</span>

<span class="p">(</span><span class="s">"zero"</span><span class="p">,</span> <span class="s">"one"</span><span class="p">,</span> <span class="s">"two"</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>       <span class="c"># "zero"</span>
<span class="p">(</span><span class="s">"zero"</span><span class="p">,</span> <span class="s">"one"</span><span class="p">,</span> <span class="s">"two"</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>       <span class="c"># "one"</span>
<span class="p">(</span><span class="s">"zero"</span><span class="p">,</span> <span class="s">"one"</span><span class="p">,</span> <span class="s">"two"</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>      <span class="c"># "two"</span>
</code></pre></div></div>

<p>An index expression <code class="highlighter-rouge">d[key]</code> may also be applied to a dictionary <code class="highlighter-rouge">d</code>,
to obtain the value associated with the specified key.  It is an error
if the dictionary contains no such key.</p>

<p>An index expression appearing on the left side of an assignment causes
the specified list or dictionary element to be updated:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>            <span class="c"># a == [0, 1, 2]</span>
<span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">7</span>                <span class="c"># a == [0, 1, 7]</span>

<span class="n">coins</span><span class="p">[</span><span class="s">"suzie b"</span><span class="p">]</span> <span class="o">=</span> <span class="mi">100</span>
</code></pre></div></div>

<p>It is a dynamic error to attempt to update an element of an immutable
type, such as a tuple or string, or a frozen value of a mutable type.</p>

<h3 id="slice-expressions">Slice expressions</h3>

<p>A slice expression <code class="highlighter-rouge">a[start:stop:stride]</code> yields a new value containing a
subsequence of <code class="highlighter-rouge">a</code>, which must be a string, tuple, or list.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SliceSuffix = '[' [Expression] [':' Test [':' Test]] ']' .
</code></pre></div></div>

<p>Each of the <code class="highlighter-rouge">start</code>, <code class="highlighter-rouge">stop</code>, and <code class="highlighter-rouge">stride</code> operands is optional;
if present, and not <code class="highlighter-rouge">None</code>, each must be an integer.
The <code class="highlighter-rouge">stride</code> value defaults to 1.
If the stride is not specified, the colon preceding it may be omitted too.
It is an error to specify a stride of zero.</p>

<p>Conceptually, these operands specify a sequence of values <code class="highlighter-rouge">i</code> starting
at <code class="highlighter-rouge">start</code> and successively adding <code class="highlighter-rouge">stride</code> until <code class="highlighter-rouge">i</code> reaches or
passes <code class="highlighter-rouge">stop</code>. The result consists of the concatenation of values of
<code class="highlighter-rouge">a[i]</code> for which <code class="highlighter-rouge">i</code> is valid.`</p>

<p>The effective start and stop indices are computed from the three
operands as follows.  Let <code class="highlighter-rouge">n</code> be the length of the sequence.</p>

<p><b>If the stride is positive:</b>
If the <code class="highlighter-rouge">start</code> operand was omitted, it defaults to -infinity.
If the <code class="highlighter-rouge">end</code> operand was omitted, it defaults to +infinity.
For either operand, if a negative value was supplied, <code class="highlighter-rouge">n</code> is added to it.
The <code class="highlighter-rouge">start</code> and <code class="highlighter-rouge">end</code> values are then “clamped” to the
nearest value in the range 0 to <code class="highlighter-rouge">n</code>, inclusive.</p>

<p><b>If the stride is negative:</b>
If the <code class="highlighter-rouge">start</code> operand was omitted, it defaults to +infinity.
If the <code class="highlighter-rouge">end</code> operand was omitted, it defaults to -infinity.
For either operand, if a negative value was supplied, <code class="highlighter-rouge">n</code> is added to it.
The <code class="highlighter-rouge">start</code> and <code class="highlighter-rouge">end</code> values are then “clamped” to the
nearest value in the range -1 to <code class="highlighter-rouge">n</code>-1, inclusive.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"abc"</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>               <span class="c"># "bc"  (remove first element)</span>
<span class="s">"abc"</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>              <span class="c"># "ab"  (remove last element)</span>
<span class="s">"abc"</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>             <span class="c"># "b"   (remove first and last element)</span>
<span class="s">"banana"</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">]</span>          <span class="c"># "aaa" (select alternate elements starting at index 1)</span>
<span class="s">"banana"</span><span class="p">[</span><span class="mi">4</span><span class="p">::</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>         <span class="c"># "nnb" (select alternate elements in reverse, starting at index 4)</span>
</code></pre></div></div>

<p>Unlike Python, Skylark does not allow a slice expression on the left
side of an assignment.</p>

<p>Slicing a tuple or string may be more efficient than slicing a list
because tuples and strings are immutable, so the result of the
operation can share the underlying representation of the original
operand (when the stride is 1). By contrast, slicing a list requires
the creation of a new list and copying of the necessary elements.</p>

<h2 id="statements">Statements</h2>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Statement  = DefStmt | IfStmt | ForStmt | SimpleStmt .
SimpleStmt = SmallStmt {';' SmallStmt} [';'] '\n' .
SmallStmt  = ReturnStmt
           | BreakStmt | ContinueStmt | PassStmt
           | AssignStmt
           | ExprStmt
           | LoadStmt
           .
</code></pre></div></div>

<h3 id="pass-statements">Pass statements</h3>

<p>A <code class="highlighter-rouge">pass</code> statement does nothing.  Use a <code class="highlighter-rouge">pass</code> statement when the
syntax requires a statement but no behavior is required, such as the
body of a function that does nothing.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>PassStmt = 'pass' .
</code></pre></div></div>

<p>Example:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">noop</span><span class="p">():</span>
   <span class="k">pass</span>

<span class="k">def</span> <span class="nf">list_to_dict</span><span class="p">(</span><span class="n">items</span><span class="p">):</span>
  <span class="c"># Convert list of tuples to dict</span>
  <span class="n">m</span> <span class="o">=</span> <span class="p">{}</span>
  <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">m</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
    <span class="k">pass</span>
  <span class="k">return</span> <span class="n">m</span>
</code></pre></div></div>

<h3 id="assignments">Assignments</h3>

<p>An assignment statement has the form <code class="highlighter-rouge">lhs = rhs</code>.  It evaluates the
expression on the right-hand side then assigns its value (or values) to
the variable (or variables) on the left-hand side.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>AssignStmt = Expression '=' Expression .
</code></pre></div></div>

<p>The expression on the left-hand side is called a <em>target</em>.  The
simplest target is the name of a variable, but a target may also have
the form of an index expression, to update the element of a list or
dictionary, to update the field of an object:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">k</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
<span class="n">m</span><span class="o">.</span><span class="n">f</span> <span class="o">=</span> <span class="s">""</span>
</code></pre></div></div>

<p>Compound targets may consist of a comma-separated list of
subtargets, optionally surrounded by parentheses or square brackets,
and targets may be nested arbitarily in this way.
An assignment to a compound target checks that the right-hand value is a
sequence with the same number of elements as the target.
Each element of the sequence is then assigned to the corresponding
element of the target, recursively applying the same logic.
It is a static error if the sequence is empty.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span>
<span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">=</span> <span class="n">f</span><span class="p">()</span>
<span class="p">[</span><span class="n">zero</span><span class="p">,</span> <span class="n">one</span><span class="p">,</span> <span class="n">two</span><span class="p">]</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="p">[(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">)]</span> <span class="o">=</span> <span class="p">(</span><span class="s">"ab"</span><span class="p">,</span> <span class="s">"cd"</span><span class="p">)</span>
</code></pre></div></div>

<p>The same process for assigning a value to a target expression is used
in <code class="highlighter-rouge">for</code> loops and in comprehensions.</p>

<h3 id="augmented-assignments">Augmented assignments</h3>

<p>An augmented assignment, which has the form <code class="highlighter-rouge">lhs op= rhs</code> updates the
variable <code class="highlighter-rouge">lhs</code> by applying a binary arithmetic operator <code class="highlighter-rouge">op</code> (one of
<code class="highlighter-rouge">+</code>, <code class="highlighter-rouge">-</code>, <code class="highlighter-rouge">*</code>, <code class="highlighter-rouge">/</code>, <code class="highlighter-rouge">//</code>, <code class="highlighter-rouge">%</code>) to the previous value of <code class="highlighter-rouge">lhs</code> and the value
of <code class="highlighter-rouge">rhs</code>.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>AssignStmt = Expression ('=' | '+=' | '-=' | '*=' | '/=' | '//=' | '%=') Expression .
</code></pre></div></div>

<p>The left-hand side must be a simple target:
a name, an index expression, or a dot expression.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">-=</span> <span class="mi">1</span>
<span class="n">x</span><span class="o">.</span><span class="n">filename</span> <span class="o">+=</span> <span class="s">".sky"</span>
<span class="n">a</span><span class="p">[</span><span class="n">index</span><span class="p">()]</span> <span class="o">*=</span> <span class="mi">2</span>
</code></pre></div></div>

<p>Any subexpressions in the target on the left-hand side are evaluated
exactly once, before the evaluation of <code class="highlighter-rouge">rhs</code>.
The first two assignments above are thus equivalent to:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span>
<span class="n">x</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">filename</span> <span class="o">+</span> <span class="s">".sky"</span>
</code></pre></div></div>

<p>and the third assignment is similar in effect to the following two
statements but does not declare a new temporary variable <code class="highlighter-rouge">i</code>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">i</span> <span class="o">=</span> <span class="n">index</span><span class="p">()</span>
<span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span>
</code></pre></div></div>

<h3 id="function-definitions">Function definitions</h3>

<p>A <code class="highlighter-rouge">def</code> statement creates a named function and assigns it to a variable.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>DefStmt = 'def' identifier '(' [Parameters [',']] ')' ':' Suite .
</code></pre></div></div>

<p>Example:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">twice</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span>

<span class="nb">str</span><span class="p">(</span><span class="n">twice</span><span class="p">)</span>              <span class="c"># "&lt;function f&gt;"</span>
<span class="n">twice</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>                <span class="c"># 4</span>
<span class="n">twice</span><span class="p">(</span><span class="s">"two"</span><span class="p">)</span>            <span class="c"># "twotwo"</span>
</code></pre></div></div>

<p>The function’s name is preceded by the <code class="highlighter-rouge">def</code> keyword and followed by
the parameter list (which is enclosed in parentheses), a colon, and
then an indented block of statements which form the body of the function.</p>

<p>The parameter list is a comma-separated list whose elements are of
four kinds.  First come zero or more required parameters, which are
simple identifiers; all calls must provide an argument value for these parameters.</p>

<p>The required parameters are followed by zero or more optional
parameters, of the form <code class="highlighter-rouge">name=expression</code>.  The expression specifies
the default value for the parameter for use in calls that do not
provide an argument value for it.</p>

<p>The required parameters are optionally followed by a single parameter
name preceded by a <code class="highlighter-rouge">*</code>.  This is the called the <em>varargs</em> parameter,
and it accumulates surplus positional arguments specified by a call.</p>

<p>Finally, there may be an optional parameter name preceded by <code class="highlighter-rouge">**</code>.
This is called the <em>keyword arguments</em> parameter, and accumulates in a
dictionary any surplus <code class="highlighter-rouge">name=value</code> arguments that do not match a
prior parameter.</p>

<p>Here are some example parameter lists:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">f</span><span class="p">():</span> <span class="k">pass</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span> <span class="k">pass</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span> <span class="k">pass</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span> <span class="k">pass</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="k">pass</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="k">pass</span>
</code></pre></div></div>

<p>Execution of a <code class="highlighter-rouge">def</code> statement creates a new function object.  The
function object contains: the syntax of the function body; the default
value for each optional parameter; the value of each free variable
referenced within the function body; and the global dictionary of the
current module.</p>

<!-- this is too implementation-oriented; it's not a spec. -->

<h3 id="return-statements">Return statements</h3>

<p>A <code class="highlighter-rouge">return</code> statement ends the execution of a function and returns a
value to the caller of the function.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ReturnStmt = 'return' [Expression] .
</code></pre></div></div>

<p>A return statement may have zero, one, or more
result expressions separated by commas.
With no expressions, the function has the result <code class="highlighter-rouge">None</code>.
With a single expression, the function’s result is the value of that expression.
With multiple expressions, the function’s result is a tuple.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">return</span>                  <span class="c"># returns None</span>
<span class="k">return</span> <span class="mi">1</span>                <span class="c"># returns 1</span>
<span class="k">return</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>             <span class="c"># returns (1, 2)</span>
</code></pre></div></div>

<h3 id="expression-statements">Expression statements</h3>

<p>An expression statement evaluates an expression and discards its result.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ExprStmt = Expression .
</code></pre></div></div>

<p>Any expression may be used as a statement, but an expression statement is
most often used to call a function for its side effects.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="if-statements">If statements</h3>

<p>An <code class="highlighter-rouge">if</code> statement evaluates an expression (the <em>condition</em>), then, if
the truth value of the condition is <code class="highlighter-rouge">True</code>, executes a list of
statements.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>IfStmt = 'if' Test ':' Suite {'elif' Test ':' Suite} ['else' ':' Suite] .
</code></pre></div></div>

<p>Example:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">score</span> <span class="o">&gt;=</span> <span class="mi">100</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"You win!"</span><span class="p">)</span>
    <span class="k">return</span>
</code></pre></div></div>

<p>An <code class="highlighter-rouge">if</code> statement may have an <code class="highlighter-rouge">else</code> block defining a second list of
statements to be executed if the condition is false.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">score</span> <span class="o">&gt;=</span> <span class="mi">100</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"You win!"</span><span class="p">)</span>
        <span class="k">return</span>
<span class="k">else</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"Keep trying..."</span><span class="p">)</span>
        <span class="k">continue</span>
</code></pre></div></div>

<p>It is common for the <code class="highlighter-rouge">else</code> block to contain another <code class="highlighter-rouge">if</code> statement.
To avoid increasing the nesting depth unnecessarily, the <code class="highlighter-rouge">else</code> and
following <code class="highlighter-rouge">if</code> may be combined as <code class="highlighter-rouge">elif</code>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">elif</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="k">else</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span>
</code></pre></div></div>

<p>An <code class="highlighter-rouge">if</code> statement is permitted only within a function definition.
An <code class="highlighter-rouge">if</code> statement at top level results in a static error.</p>

<h3 id="for-loops">For loops</h3>

<p>A <code class="highlighter-rouge">for</code> loop evaluates its operand, which must be an iterable value.
Then, for each element of the iterable’s sequence, the loop assigns
the successive element values to one or more variables and executes a
list of statements, the <em>loop body</em>.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ForStmt = 'for' LoopVariables 'in' Expression ':' Suite .
</code></pre></div></div>

<p>Example:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
   <span class="k">print</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div></div>

<p>The assignment of each value to the loop variables follows the same
rules as an ordinary assignment.  In this example, two-element lists
are repeatedly assigned to the pair of variables (a, i):</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[[</span><span class="s">"a"</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="s">"b"</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s">"c"</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]:</span>
  <span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>                          <span class="c"># prints "a 1", "b 2", "c 3"</span>
</code></pre></div></div>

<p>Because Skylark loops always iterate over a finite sequence, they are
guaranteed to terminate, unlike loops in most languages which can
execute an arbitrary and perhaps unbounded number of iterations.</p>

<p>Within the body of a <code class="highlighter-rouge">for</code> loop, <code class="highlighter-rouge">break</code> and <code class="highlighter-rouge">continue</code> statements may
be used to stop the execution of the loop or advance to the next
iteration.</p>

<p>In Skylark, a <code class="highlighter-rouge">for</code> loop is permitted only within a function definition.
A <code class="highlighter-rouge">for</code> loop at top level results in a static error.</p>

<h3 id="break-and-continue">Break and Continue</h3>

<p>The <code class="highlighter-rouge">break</code> and <code class="highlighter-rouge">continue</code> statements terminate the current iteration
of a <code class="highlighter-rouge">for</code> loop.  Whereas the <code class="highlighter-rouge">continue</code> statement resumes the loop at
the next iteration, a <code class="highlighter-rouge">break</code> statement terminates the entire loop.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>BreakStmt    = 'break' .
ContinueStmt = 'continue' .
</code></pre></div></div>

<p>Example:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">continue</span>        <span class="c"># skip odd numbers</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">7</span><span class="p">:</span>
        <span class="k">break</span>           <span class="c"># stop at 8</span>
    <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>            <span class="c"># prints "0", "2", "4", "6"</span>
</code></pre></div></div>

<p>Both statements affect only the innermost lexically enclosing loop.
It is a static error to use a <code class="highlighter-rouge">break</code> or <code class="highlighter-rouge">continue</code> statement outside a
loop.</p>

<h3 id="load-statements">Load statements</h3>

<p>The <code class="highlighter-rouge">load</code> statement loads another Skylark module, extracts one or
more values from it, and binds them to names in the current module.</p>

<!--
The awkwardness of load statements is a consequence of staying a
strict subset of Python syntax, which allows reuse of existing tools
such as editor support. Python import statements are inadequate for
Skylark because they don't allow arbitrary file names for module names.
-->

<p>Syntactically, a load statement looks like a function call <code class="highlighter-rouge">load(...)</code>.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>LoadStmt = 'load' '(' string {',' [identifier '='] string} [','] ')' .
</code></pre></div></div>

<p>A load statement requires at least two “arguments”.
The first must be a literal string; it identifies the module to load.
Its interpretation is determined by the application into which the
Skylark interpreter is embedded, and is not specified here.</p>

<p>During execution, the application determines what action to take for a
load statement.
A typical implementation locates and executes a Skylark file,
populating a cache of files executed so far to avoid duplicate work,
to obtain a module, which is a mapping from global names to values.</p>

<p>The remaining arguments are a mixture of literal strings, such as
<code class="highlighter-rouge">"x"</code>, or named literal strings, such as <code class="highlighter-rouge">y="x"</code>.</p>

<p>The literal string (<code class="highlighter-rouge">"x"</code>), which must denote a valid identifier not
starting with <code class="highlighter-rouge">_</code>, specifies the name to extract from the loaded
module.  In effect, names starting with <code class="highlighter-rouge">_</code> are not exported.
The name (<code class="highlighter-rouge">y</code>) specifies the local name;
if no name is given, the local name matches the quoted name.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">load</span><span class="p">(</span><span class="s">"module.sky"</span><span class="p">,</span> <span class="s">"x"</span><span class="p">,</span> <span class="s">"y"</span><span class="p">,</span> <span class="s">"z"</span><span class="p">)</span>       <span class="c"># assigns x, y, and z</span>
<span class="n">load</span><span class="p">(</span><span class="s">"module.sky"</span><span class="p">,</span> <span class="s">"x"</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="s">"y"</span><span class="p">,</span> <span class="s">"z"</span><span class="p">)</span>    <span class="c"># assigns x, y2, and z</span>
</code></pre></div></div>

<p>A load statement within a function is a static error.</p>

<h2 id="module-execution">Module execution</h2>

<p>Each Skylark file defines a <em>module</em>, which is a mapping from the
names of global variables to their values.
When a Skylark file is executed, whether directly by the application
or indirectly through a <code class="highlighter-rouge">load</code> statement, a new Skylark thread is
created, and this thread executes all the top-level statements in the
file.
Because if-statements and for-loops cannot appear outside of a function,
control flows from top to bottom.</p>

<p>If execution reaches the end of the file, module initialization is
successful.
At that point, the value of each of the module’s global variables is
frozen, rendering subsequent mutation impossible.
The module is then ready for use by another Skylark thread, such as
one executing a load statement.
Such threads may access values or call functions defined in the loaded
module.</p>

<p>A Skylark thread may carry state on behalf of the application into
which it is embedded, and application-defined functions may behave
differently depending on this thread state.
Because module initialization always occurs in a new thread, thread
state is never carried from a higher-level module into a lower-level
one.
The initialization behavior of a module is thus independent of
whichever module triggered its initialization.</p>

<p>If a Skylark thread encounters an error, execution stops and the error
is reported to the application, along with a backtrace showing the
stack of active function calls at the time of the error.
If an error occurs during initialization of a Skylark module, any
active <code class="highlighter-rouge">load</code> statements waiting for initialization of the module also
fail.</p>

<p>Skylark provides no mechanism by which errors can be handled within
the language.</p>

<h2 id="built-in-constants-and-functions">Built-in constants and functions</h2>

<p>The outermost block of the Skylark environment is known as the “universe” block.
It defines a number of fundamental values and functions needed by all Skylark programs,
such as <code class="highlighter-rouge">None</code>, <code class="highlighter-rouge">True</code>, <code class="highlighter-rouge">False</code>, and <code class="highlighter-rouge">len</code>.</p>

<p>These names are not reserved words so Skylark programs are free to
redefine them in a smaller block such as a function body or even at
the top level of a module.  However, doing so may be confusing to the
reader.  Nonetheless, this rule permits names to be added to the
universe block in later versions of the language without breaking
existing programs.</p>

<h3 id="none-1">None</h3>

<p><code class="highlighter-rouge">None</code> is the distinguished value of the type <code class="highlighter-rouge">NoneType</code>.</p>

<h3 id="true-and-false">True and False</h3>

<p><code class="highlighter-rouge">True</code> and <code class="highlighter-rouge">False</code> are the two values of type <code class="highlighter-rouge">bool</code>.</p>

<h3 id="any">any</h3>

<p><code class="highlighter-rouge">any(x)</code> returns <code class="highlighter-rouge">True</code> if any element of the iterable sequence x is true.
If the iterable is empty, it returns <code class="highlighter-rouge">False</code>.</p>

<h3 id="all">all</h3>

<p><code class="highlighter-rouge">all(x)</code> returns <code class="highlighter-rouge">False</code> if any element of the iterable sequence x is false.
If the iterable is empty, it returns <code class="highlighter-rouge">True</code>.</p>

<h3 id="bool">bool</h3>

<p><code class="highlighter-rouge">bool(x)</code> interprets <code class="highlighter-rouge">x</code> as a Boolean value—<code class="highlighter-rouge">True</code> or <code class="highlighter-rouge">False</code>.
With no argument, <code class="highlighter-rouge">bool()</code> returns <code class="highlighter-rouge">False</code>.</p>

<h3 id="dict">dict</h3>

<p><code class="highlighter-rouge">dict</code> creates a dictionary.  It accepts up to one positional
argument, which is interpreted as an iterable of two-element
sequences (pairs), each specifying a key/value pair in
the resulting dictionary.</p>

<p><code class="highlighter-rouge">dict</code> also accepts any number of keyword arguments, each of which
specifies a key/value pair in the resulting dictionary;
each keyword is treated as a string.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">dict</span><span class="p">()</span>                          <span class="c"># {}, empty dictionary</span>
<span class="nb">dict</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)])</span>          <span class="c"># {1: 2, 3: 4}</span>
<span class="nb">dict</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">[</span><span class="s">"a"</span><span class="p">,</span> <span class="s">"b"</span><span class="p">]])</span>      <span class="c"># {1: 2, "a": "b"}</span>
<span class="nb">dict</span><span class="p">(</span><span class="n">one</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">two</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>              <span class="c"># {"one": 1, "two", 1}</span>
<span class="nb">dict</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)],</span> <span class="n">x</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>             <span class="c"># {1: 2, "x": 3}</span>
</code></pre></div></div>

<p>With no arguments, <code class="highlighter-rouge">dict()</code> returns a new empty dictionary.</p>

<p><code class="highlighter-rouge">dict(x)</code> where x is a dictionary returns a new copy of x.</p>

<h3 id="dir">dir</h3>

<p><code class="highlighter-rouge">dir(x)</code> returns a list of the names of the attributes (fields and methods) of its operand.
The attributes of a value <code class="highlighter-rouge">x</code> are the names <code class="highlighter-rouge">f</code> such that <code class="highlighter-rouge">x.f</code> is a valid expression.</p>

<p>For example,</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">dir</span><span class="p">(</span><span class="s">"hello"</span><span class="p">)</span>                    <span class="c"># ['capitalize', 'count', ...], the methods of a string</span>
</code></pre></div></div>

<p>Several types known to the interpreter, such as list, string, and dict, have methods, but none have fields.
However, an application may define types with fields that may be read or set by statements such as these:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>y = x.f
x.f = y
</code></pre></div></div>

<h3 id="enumerate">enumerate</h3>

<p><code class="highlighter-rouge">enumerate(x)</code> returns a list of (index, value) pairs, each containing
successive values of the iterable sequence xand the index of the value
within the sequence.</p>

<p>The optional second parameter, <code class="highlighter-rouge">start</code>, specifies an integer value to
add to each index.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">enumerate</span><span class="p">([</span><span class="s">"zero"</span><span class="p">,</span> <span class="s">"one"</span><span class="p">,</span> <span class="s">"two"</span><span class="p">])</span>               <span class="c"># [(0, "zero"), (1, "one"), (2, "two")]</span>
<span class="nb">enumerate</span><span class="p">([</span><span class="s">"one"</span><span class="p">,</span> <span class="s">"two"</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>                    <span class="c"># [(1, "one"), (2, "two")]</span>
</code></pre></div></div>

<h3 id="getattr">getattr</h3>

<p><code class="highlighter-rouge">getattr(x, name)</code> returns the value of the attribute (field or method) of x named <code class="highlighter-rouge">name</code>.
It is a dynamic error if x has no such attribute.</p>

<p><code class="highlighter-rouge">getattr(x, "f")</code> is equivalent to <code class="highlighter-rouge">x.f</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">getattr</span><span class="p">(</span><span class="s">"banana"</span><span class="p">,</span> <span class="s">"split"</span><span class="p">)(</span><span class="s">"a"</span><span class="p">)</span>	       <span class="c"># ["b", "n", "n", ""], equivalent to "banana".split("a")</span>
</code></pre></div></div>

<h3 id="hasattr">hasattr</h3>

<p><code class="highlighter-rouge">hasattr(x, name)</code> reports whether x has an attribute (field or method) named <code class="highlighter-rouge">name</code>.</p>

<h3 id="hash">hash</h3>

<p><code class="highlighter-rouge">hash(x)</code> returns an integer hash value for a string x such that <code class="highlighter-rouge">x == y</code>
implies <code class="highlighter-rouge">hash(x) == hash(y)</code>.</p>

<h3 id="int">int</h3>

<p><code class="highlighter-rouge">int(x[, base])</code> interprets its argument as an integer.</p>

<p>If <code class="highlighter-rouge">x</code> is an <code class="highlighter-rouge">int</code>, the result is <code class="highlighter-rouge">x</code>.
If <code class="highlighter-rouge">x</code> is a <code class="highlighter-rouge">bool</code>, the result is 0 for <code class="highlighter-rouge">False</code> or 1 for <code class="highlighter-rouge">True</code>.</p>

<p>If <code class="highlighter-rouge">x</code> is a string, it is interpreted as a sequence of digits in the specified
base, decimal by default. If <code class="highlighter-rouge">base</code> is zero, <code class="highlighter-rouge">x</code> is interpreted like an integer
literal, the base being inferred from an optional base marker such as <code class="highlighter-rouge">0b</code>,
<code class="highlighter-rouge">0o</code>, or <code class="highlighter-rouge">0x</code> preceding the first digit. These markers may also be used if
<code class="highlighter-rouge">base</code> is the corresponding base. Irrespective of base, the string may start
with an optional <code class="highlighter-rouge">+</code> or <code class="highlighter-rouge">-</code> sign indicating the sign of the result.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">int</span><span class="p">(</span><span class="s">"21"</span><span class="p">)</span>          <span class="c"># 21</span>
<span class="nb">int</span><span class="p">(</span><span class="s">"1234"</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>    <span class="c"># 4660</span>
<span class="nb">int</span><span class="p">(</span><span class="s">"0x1234"</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>  <span class="c"># 4660</span>
<span class="nb">int</span><span class="p">(</span><span class="s">"0x1234"</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>   <span class="c"># 4660</span>
<span class="nb">int</span><span class="p">(</span><span class="s">"0x1234"</span><span class="p">)</span>      <span class="c"># error (invalid base 10 number)</span>
</code></pre></div></div>

<h3 id="len">len</h3>

<p><code class="highlighter-rouge">len(x)</code> returns the number of elements in its argument.</p>

<p>It is a dynamic error if its argument is not a sequence.</p>

<h3 id="list">list</h3>

<p><code class="highlighter-rouge">list</code> constructs a list.</p>

<p><code class="highlighter-rouge">list(x)</code> returns a new list containing the elements of the
iterable sequence x.</p>

<p>With no argument, <code class="highlighter-rouge">list()</code> returns a new empty list.</p>

<h3 id="max">max</h3>

<p><code class="highlighter-rouge">max(x)</code> returns the greatest element in the iterable sequence x.</p>

<p>It is an error if any element does not support ordered comparison,
or if the sequence is empty.</p>

<p>The optional named parameter <code class="highlighter-rouge">key</code> specifies a function to be applied
to each element prior to comparison.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">max</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>                         <span class="c"># 9</span>
<span class="nb">max</span><span class="p">(</span><span class="s">"two"</span><span class="p">,</span> <span class="s">"three"</span><span class="p">,</span> <span class="s">"four"</span><span class="p">)</span>                     <span class="c"># "two", the lexicographically greatest</span>
<span class="nb">max</span><span class="p">(</span><span class="s">"two"</span><span class="p">,</span> <span class="s">"three"</span><span class="p">,</span> <span class="s">"four"</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="nb">len</span><span class="p">)</span>            <span class="c"># "three", the longest</span>
</code></pre></div></div>

<h3 id="min">min</h3>

<p><code class="highlighter-rouge">min(x)</code> returns the least element in the iterable sequence x.</p>

<p>It is an error if any element does not support ordered comparison,
or if the sequence is empty.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">min</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>                         <span class="c"># 1</span>
<span class="nb">min</span><span class="p">(</span><span class="s">"two"</span><span class="p">,</span> <span class="s">"three"</span><span class="p">,</span> <span class="s">"four"</span><span class="p">)</span>                     <span class="c"># "four", the lexicographically least</span>
<span class="nb">min</span><span class="p">(</span><span class="s">"two"</span><span class="p">,</span> <span class="s">"three"</span><span class="p">,</span> <span class="s">"four"</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="nb">len</span><span class="p">)</span>            <span class="c"># "two", the shortest</span>
</code></pre></div></div>

<h3 id="print">print</h3>

<p><code class="highlighter-rouge">print(*args, **kwargs)</code> prints its arguments, followed by a newline.
Arguments are formatted as if by <code class="highlighter-rouge">str(x)</code> and separated with a space.
Keyword arguments are preceded by their name.</p>

<p>Example:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">"hi"</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>	<span class="c"># "1 hi x=3\n"</span>
</code></pre></div></div>

<p>Typically the formatted string is printed to the standard error file,
but the exact behavior is a property of the Skylark thread and is
determined by the host application.</p>

<h3 id="range">range</h3>

<p><code class="highlighter-rouge">range</code> returns an immutable sequence of integers defined by the specified interval and stride.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">range</span><span class="p">(</span><span class="n">stop</span><span class="p">)</span>                             <span class="c"># equivalent to range(0, stop)</span>
<span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">)</span>                      <span class="c"># equivalent to range(start, stop, 1)</span>
<span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">range</code> requires between one and three integer arguments.
With one argument, <code class="highlighter-rouge">range(stop)</code> returns the ascending sequence of non-negative integers less than <code class="highlighter-rouge">stop</code>.
With two arguments, <code class="highlighter-rouge">range(start, stop)</code> returns only integers not less than <code class="highlighter-rouge">start</code>.</p>

<p>With three arguments, <code class="highlighter-rouge">range(start, stop, step)</code> returns integers
formed by successively adding <code class="highlighter-rouge">step</code> to <code class="highlighter-rouge">start</code> until the value meets or passes <code class="highlighter-rouge">stop</code>.
A call to <code class="highlighter-rouge">range</code> fails if the value of <code class="highlighter-rouge">step</code> is zero.</p>

<p>A call to <code class="highlighter-rouge">range</code> does not materialize the entire sequence, but
returns a fixed-size value of type <code class="highlighter-rouge">"range"</code> that represents the
parameters that define the sequence.
The <code class="highlighter-rouge">range</code> value is iterable and may be indexed efficiently.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>                         <span class="c"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
<span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>                      <span class="c"># [3, 4, 5, 6, 7, 8, 9]</span>
<span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>                   <span class="c"># [3, 5, 7, 9]</span>
<span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">))</span>                  <span class="c"># [10, 8, 6, 4]</span>
</code></pre></div></div>

<p>The <code class="highlighter-rouge">len</code> function applied to a <code class="highlighter-rouge">range</code> value returns its length.
The truth value of a <code class="highlighter-rouge">range</code> value is <code class="highlighter-rouge">True</code> if its length is non-zero.</p>

<p>Range values are comparable: two <code class="highlighter-rouge">range</code> values compare equal if they
denote the same sequence of integers, even if they were created using
different parameters.</p>

<p>Range values are not hashable.  <!-- should they be? --></p>

<p>The <code class="highlighter-rouge">str</code> function applied to a <code class="highlighter-rouge">range</code> value yields a string of the
form <code class="highlighter-rouge">range(10)</code>, <code class="highlighter-rouge">range(1, 10)</code>, or <code class="highlighter-rouge">range(1, 10, 2)</code>.</p>

<p>The <code class="highlighter-rouge">x in y</code> operator, where <code class="highlighter-rouge">y</code> is a range, reports whether <code class="highlighter-rouge">x</code> is equal to
some member of the sequence <code class="highlighter-rouge">y</code>; the operation fails unless <code class="highlighter-rouge">x</code> is a
number.</p>

<h3 id="repr">repr</h3>

<p><code class="highlighter-rouge">repr(x)</code> formats its argument as a string.</p>

<p>All strings in the result are double-quoted.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">repr</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>                 <span class="c"># '1'</span>
<span class="nb">repr</span><span class="p">(</span><span class="s">"x"</span><span class="p">)</span>               <span class="c"># '"x"'</span>
<span class="nb">repr</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="s">"x"</span><span class="p">])</span>          <span class="c"># '[1, "x"]'</span>
</code></pre></div></div>

<h3 id="reversed">reversed</h3>

<p><code class="highlighter-rouge">reversed(x)</code> returns a new list containing the elements of the iterable sequence x in reverse order.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>                              <span class="c"># [4, 3, 2, 1, 0]</span>
<span class="nb">reversed</span><span class="p">({</span><span class="s">"one"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">"two"</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>           <span class="c"># ["two", "one"]</span>
</code></pre></div></div>

<h3 id="sorted">sorted</h3>

<p><code class="highlighter-rouge">sorted(x)</code> returns a new list containing the elements of the iterable sequence x,
in sorted order.  The sort algorithm is stable.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sorted</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>              <span class="c"># [1, 1, 3, 4, 5, 9]</span>

<span class="nb">sorted</span><span class="p">([</span><span class="s">"two"</span><span class="p">,</span> <span class="s">"three"</span><span class="p">,</span> <span class="s">"four"</span><span class="p">])</span>        <span class="c"># ["three", "two", "four"]</span>
</code></pre></div></div>

<h3 id="str">str</h3>

<p><code class="highlighter-rouge">str(x)</code> formats its argument as a string.</p>

<p>If x is a string, the result is x (without quotation).
All other strings, such as elements of a list of strings, are double-quoted.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>                          <span class="c"># '1'</span>
<span class="nb">str</span><span class="p">(</span><span class="s">"x"</span><span class="p">)</span>                        <span class="c"># 'x'</span>
<span class="nb">str</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="s">"x"</span><span class="p">])</span>                   <span class="c"># '[1, "x"]'</span>
</code></pre></div></div>

<h3 id="tuple">tuple</h3>

<p><code class="highlighter-rouge">tuple(x)</code> returns a tuple containing the elements of the iterable x.</p>

<p>With no arguments, <code class="highlighter-rouge">tuple()</code> returns the empty tuple.</p>

<h3 id="type">type</h3>

<p>type(x) returns a string describing the type of its operand.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">type</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>              <span class="c"># "NoneType"</span>
<span class="nb">type</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>                 <span class="c"># "int"</span>
</code></pre></div></div>

<h3 id="zip">zip</h3>

<p><code class="highlighter-rouge">zip()</code> returns a new list of n-tuples formed from corresponding
elements of each of the n iterable sequences provided as arguments to
<code class="highlighter-rouge">zip</code>.  That is, the first tuple contains the first element of each of
the sequences, the second element contains the second element of each
of the sequences, and so on.  The result list is only as long as the
shortest of the input sequences.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">zip</span><span class="p">()</span>                                   <span class="c"># []</span>
<span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>                           <span class="c"># [(0,), (1,), (2,), (3,), (4,)]</span>
<span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="s">"abc"</span><span class="p">)</span>                    <span class="c"># [(0, "a"), (1, "b"), (2, "c")]</span>
</code></pre></div></div>

<h2 id="built-in-methods">Built-in methods</h2>

<p>This section lists the methods of built-in types.  Methods are selected
using <a href="#dot-expressions">dot expressions</a>.
For example, strings have a <code class="highlighter-rouge">count</code> method that counts
occurrences of a substring; <code class="highlighter-rouge">"banana".count("a")</code> yields <code class="highlighter-rouge">3</code>.</p>

<p>As with built-in functions, built-in methods accept only positional
arguments except where noted.
The parameter names serve merely as documentation.</p>

<p><a id="dict·get"></a></p>
<h3 id="dictget">dict·get</h3>

<p><code class="highlighter-rouge">D.get(key[, default])</code> returns the dictionary value corresponding to the given key.
If the dictionary contains no such value, <code class="highlighter-rouge">get</code> returns <code class="highlighter-rouge">None</code>, or the
value of the optional <code class="highlighter-rouge">default</code> parameter if present.</p>

<p><code class="highlighter-rouge">get</code> fails if <code class="highlighter-rouge">key</code> is unhashable, or the dictionary is frozen or has active iterators.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="p">{</span><span class="s">"one"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">"two"</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">"one"</span><span class="p">)</span>                            <span class="c"># 1</span>
<span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">"three"</span><span class="p">)</span>                          <span class="c"># None</span>
<span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">"three"</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>                       <span class="c"># 0</span>
</code></pre></div></div>

<p><a id="dict·items"></a></p>
<h3 id="dictitems">dict·items</h3>

<p><code class="highlighter-rouge">D.items()</code> returns a new list of key/value pairs, one per element in
dictionary D, in the same order as they would be returned by a <code class="highlighter-rouge">for</code> loop.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="p">{</span><span class="s">"one"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">"two"</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="n">x</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>                               <span class="c"># [("one", 1), ("two", 2)]</span>
</code></pre></div></div>

<p><a id="dict·keys"></a></p>
<h3 id="dictkeys">dict·keys</h3>

<p><code class="highlighter-rouge">D.keys()</code> returns a new list containing the keys of dictionary D, in the
same order as they would be returned by a <code class="highlighter-rouge">for</code> loop.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="p">{</span><span class="s">"one"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">"two"</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="n">x</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>                               <span class="c"># ["one", "two"]</span>
</code></pre></div></div>

<p><a id="dict·pop"></a></p>
<h3 id="dictpop">dict·pop</h3>

<p><code class="highlighter-rouge">D.pop(key[, default])</code> returns the value corresponding to the specified
key, and removes it from the dictionary.  If the dictionary contains no
such value, and the optional <code class="highlighter-rouge">default</code> parameter is present, <code class="highlighter-rouge">pop</code>
returns that value; otherwise, it fails.</p>

<p><code class="highlighter-rouge">pop</code> fails if <code class="highlighter-rouge">key</code> is unhashable, or the dictionary is frozen or has active iterators.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="p">{</span><span class="s">"one"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">"two"</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="n">x</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s">"one"</span><span class="p">)</span>                            <span class="c"># 1</span>
<span class="n">x</span>                                       <span class="c"># {"two": 2}</span>
<span class="n">x</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s">"three"</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>                       <span class="c"># 0</span>
<span class="n">x</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s">"four"</span><span class="p">)</span>                           <span class="c"># error: missing key</span>
</code></pre></div></div>

<p><a id="dict·popitem"></a></p>
<h3 id="dictpopitem">dict·popitem</h3>

<p><code class="highlighter-rouge">D.popitem()</code> returns the first key/value pair, removing it from the dictionary.</p>

<p><code class="highlighter-rouge">popitem</code> fails if the dictionary is empty, frozen, or has active iterators.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="p">{</span><span class="s">"one"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">"two"</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="n">x</span><span class="o">.</span><span class="n">popitem</span><span class="p">()</span>                             <span class="c"># ("one", 1)</span>
<span class="n">x</span><span class="o">.</span><span class="n">popitem</span><span class="p">()</span>                             <span class="c"># ("two", 2)</span>
<span class="n">x</span><span class="o">.</span><span class="n">popitem</span><span class="p">()</span>                             <span class="c"># error: empty dict</span>
</code></pre></div></div>

<p><a id="dict·setdefault"></a></p>
<h3 id="dictsetdefault">dict·setdefault</h3>

<p><code class="highlighter-rouge">D.setdefault(key[, default])</code> returns the dictionary value corresponding to the given key.
If the dictionary contains no such value, <code class="highlighter-rouge">setdefault</code>, like <code class="highlighter-rouge">get</code>,
returns <code class="highlighter-rouge">None</code> or the value of the optional <code class="highlighter-rouge">default</code> parameter if
present; <code class="highlighter-rouge">setdefault</code> additionally inserts the new key/value entry into the dictionary.</p>

<p><code class="highlighter-rouge">setdefault</code> fails if the key is unhashable, or if the dictionary is frozen or has active iterators.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="p">{</span><span class="s">"one"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">"two"</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="n">x</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s">"one"</span><span class="p">)</span>                     <span class="c"># 1</span>
<span class="n">x</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s">"three"</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>                <span class="c"># 0</span>
<span class="n">x</span>                                       <span class="c"># {"one": 1, "two": 2, "three": 0}</span>
<span class="n">x</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s">"four"</span><span class="p">)</span>                    <span class="c"># None</span>
<span class="n">x</span>                                       <span class="c"># {"one": 1, "two": 2, "three": None}</span>
</code></pre></div></div>

<p><a id="dict·update"></a></p>
<h3 id="dictupdate">dict·update</h3>

<p><code class="highlighter-rouge">D.update([pairs][, name=value[, ...])</code> makes a sequence of key/value
insertions into dictionary D, then returns <code class="highlighter-rouge">None.</code></p>

<p>If the positional argument <code class="highlighter-rouge">pairs</code> is present, it must be <code class="highlighter-rouge">None</code>,
another <code class="highlighter-rouge">dict</code>, or some other iterable.
If it is another <code class="highlighter-rouge">dict</code>, then its key/value pairs are inserted into D.
If it is an iterable, it must provide a sequence of pairs (or other iterables of length 2),
each of which is treated as a key/value pair to be inserted into D.</p>

<p>For each <code class="highlighter-rouge">name=value</code> argument present, the name is converted to a
string and used as the key for an insertion into D, with its corresponding
value being <code class="highlighter-rouge">value</code>.</p>

<p><code class="highlighter-rouge">update</code> fails if the dictionary is frozen or has active iterators.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">x</span><span class="o">.</span><span class="n">update</span><span class="p">([(</span><span class="s">"a"</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s">"b"</span><span class="p">,</span> <span class="mi">2</span><span class="p">)],</span> <span class="n">c</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">x</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s">"d"</span><span class="p">:</span> <span class="mi">4</span><span class="p">})</span>
<span class="n">x</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">e</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">x</span>                                       <span class="c"># {"a": 1, "b": "2", "c": 3, "d": 4, "e": 5}</span>
</code></pre></div></div>

<p><a id="dict·values"></a></p>
<h3 id="dictvalues">dict·values</h3>

<p><code class="highlighter-rouge">D.values()</code> returns a new list containing the dictionary’s values, in the
same order as they would be returned by a <code class="highlighter-rouge">for</code> loop over the
dictionary.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="p">{</span><span class="s">"one"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">"two"</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="n">x</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>                              <span class="c"># [1, 2]</span>
</code></pre></div></div>

<p><a id="list·append"></a></p>
<h3 id="listappend">list·append</h3>

<p><code class="highlighter-rouge">L.append(x)</code> appends <code class="highlighter-rouge">x</code> to the list L, and returns <code class="highlighter-rouge">None</code>.</p>

<p><code class="highlighter-rouge">append</code> fails if the list is frozen or has active iterators.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>                             <span class="c"># None</span>
<span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>                             <span class="c"># None</span>
<span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>                             <span class="c"># None</span>
<span class="n">x</span>                                       <span class="c"># [1, 2, 3]</span>
</code></pre></div></div>

<p><a id="list·clear"></a></p>
<h3 id="listclear">list·clear</h3>

<p><code class="highlighter-rouge">L.clear()</code> removes all the elements of the list L and returns <code class="highlighter-rouge">None</code>.
It fails if the list is frozen or if there are active iterators.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">x</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>                               <span class="c"># None</span>
<span class="n">x</span>                                       <span class="c"># []</span>
</code></pre></div></div>

<p><a id="list·extend"></a></p>
<h3 id="listextend">list·extend</h3>

<p><code class="highlighter-rouge">L.extend(x)</code> appends the elements of <code class="highlighter-rouge">x</code>, which must be iterable, to
the list L, and returns <code class="highlighter-rouge">None</code>.</p>

<p><code class="highlighter-rouge">extend</code> fails if <code class="highlighter-rouge">x</code> is not iterable, or if the list L is frozen or has active iterators.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">x</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>                     <span class="c"># None</span>
<span class="n">x</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s">"foo"</span><span class="p">])</span>                       <span class="c"># None</span>
<span class="n">x</span>                                       <span class="c"># [1, 2, 3, "foo"]</span>
</code></pre></div></div>

<p><a id="list·index"></a></p>
<h3 id="listindex">list·index</h3>

<p><code class="highlighter-rouge">L.insert(x[, start[, end]])</code> finds <code class="highlighter-rouge">x</code> within the list L and returns its index.</p>

<p>The optional <code class="highlighter-rouge">start</code> and <code class="highlighter-rouge">end</code> parameters restrict the portion of
list L that is inspected.  If provided and not <code class="highlighter-rouge">None</code>, they must be list
indices of type <code class="highlighter-rouge">int</code>. If an index is negative, <code class="highlighter-rouge">len(L)</code> is effectively
added to it, then if the index is outside the range <code class="highlighter-rouge">[0:len(L)]</code>, the
nearest value within that range is used; see <a href="#indexing">Indexing</a>.</p>

<p><code class="highlighter-rouge">insert</code> fails if <code class="highlighter-rouge">x</code> is not found in L, or if <code class="highlighter-rouge">start</code> or <code class="highlighter-rouge">end</code>
is not a valid index (<code class="highlighter-rouge">int</code> or <code class="highlighter-rouge">None</code>).</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="s">"b"</span><span class="p">,</span> <span class="s">"a"</span><span class="p">,</span> <span class="s">"n"</span><span class="p">,</span> <span class="s">"a"</span><span class="p">,</span> <span class="s">"n"</span><span class="p">,</span> <span class="s">"a"</span><span class="p">]</span>
<span class="n">x</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s">"a"</span><span class="p">)</span>                            <span class="c"># 1 (bAnana)</span>
<span class="n">x</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>                         <span class="c"># 3 (banAna)</span>
<span class="n">x</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>                        <span class="c"># 5 (bananA)</span>
</code></pre></div></div>

<p><a id="list·insert"></a></p>
<h3 id="listinsert">list·insert</h3>

<p><code class="highlighter-rouge">L.insert(i, x)</code> inserts the value <code class="highlighter-rouge">x</code> in the list L at index <code class="highlighter-rouge">i</code>, moving
higher-numbered elements along by one.  It returns <code class="highlighter-rouge">None</code>.</p>

<p>As usual, the index <code class="highlighter-rouge">i</code> must be an <code class="highlighter-rouge">int</code>. If its value is negative,
the length of the list is added, then its value is clamped to the
nearest value in the range <code class="highlighter-rouge">[0:len(L)]</code> to yield the effective index.</p>

<p><code class="highlighter-rouge">insert</code> fails if the list is frozen or has active iterators.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="s">"b"</span><span class="p">,</span> <span class="s">"c"</span><span class="p">,</span> <span class="s">"e"</span><span class="p">]</span>
<span class="n">x</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">"a"</span><span class="p">)</span>                        <span class="c"># None</span>
<span class="n">x</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">"d"</span><span class="p">)</span>                       <span class="c"># None</span>
<span class="n">x</span>                                       <span class="c"># ["a", "b", "c", "d", "e"]</span>
</code></pre></div></div>

<p><a id="list·pop"></a></p>
<h3 id="listpop">list·pop</h3>

<p><code class="highlighter-rouge">L.pop([index])</code> removes and returns the last element of the list L, or,
if the optional index is provided, at that index.</p>

<p><code class="highlighter-rouge">insert</code> fails if the index is negative or not less than the length of
the list, of if the list is frozen or has active iterators.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">x</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>                                 <span class="c"># 3</span>
<span class="n">x</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>                                 <span class="c"># 2</span>
<span class="n">x</span>                                       <span class="c"># [1]</span>
</code></pre></div></div>

<p><a id="list·remove"></a></p>
<h3 id="listremove">list·remove</h3>

<p><code class="highlighter-rouge">L.remove(x)</code> removes the first occurrence of the value <code class="highlighter-rouge">x</code> from the list L, and returns <code class="highlighter-rouge">None</code>.</p>

<p><code class="highlighter-rouge">remove</code> fails if the list does not contain <code class="highlighter-rouge">x</code>, is frozen, or has active iterators.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">x</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>                             <span class="c"># None (x == [1, 3, 2])</span>
<span class="n">x</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>                             <span class="c"># None (x == [1, 3])</span>
<span class="n">x</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>                             <span class="c"># error: element not found</span>
</code></pre></div></div>

<p><a id="string·capitalize"></a></p>
<h3 id="stringcapitalize">string·capitalize</h3>

<p><code class="highlighter-rouge">S.capitalize()</code> returns a copy of string S with all Unicode letters
that begin words changed to their title case.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"hello, world!"</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span>		<span class="c"># "Hello, World!"</span>
</code></pre></div></div>

<p><a id="string·count"></a></p>
<h3 id="stringcount">string·count</h3>

<p><code class="highlighter-rouge">S.count(sub[, start[, end]])</code> returns the number of occcurences of
<code class="highlighter-rouge">sub</code> within the string S, or, if the optional substring indices
<code class="highlighter-rouge">start</code> and <code class="highlighter-rouge">end</code> are provided, within the designated substring of S.
They are interpreted according to Skylark’s <a href="#indexing">indexing conventions</a>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"hello, world!"</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s">"o"</span><span class="p">)</span>              <span class="c"># 2</span>
<span class="s">"hello, world!"</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s">"o"</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>       <span class="c"># 1  (in "world")</span>
</code></pre></div></div>

<p><a id="string·endswith"></a></p>
<h3 id="stringendswith">string·endswith</h3>

<p><code class="highlighter-rouge">S.endswith(suffix)</code> reports whether the string S has the specified suffix.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"filename.sky"</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">".sky"</span><span class="p">)</span>         <span class="c"># True</span>
</code></pre></div></div>

<p><a id="string·find"></a></p>
<h3 id="stringfind">string·find</h3>

<p><code class="highlighter-rouge">S.find(sub[, start[, end]])</code> returns the index of the first
occurrence of the substring <code class="highlighter-rouge">sub</code> within S.</p>

<p>If either or both of <code class="highlighter-rouge">start</code> or <code class="highlighter-rouge">end</code> are specified,
they specify a subrange of S to which the search should be restricted.
They are interpreted according to Skylark’s <a href="#indexing">indexing conventions</a>.</p>

<p>If no occurrence is found, <code class="highlighter-rouge">found</code> returns -1.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"bonbon"</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">"on"</span><span class="p">)</span>             <span class="c"># 1</span>
<span class="s">"bonbon"</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">"on"</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>          <span class="c"># 4</span>
<span class="s">"bonbon"</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">"on"</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>       <span class="c"># -1</span>
</code></pre></div></div>

<p><a id="string·format"></a></p>
<h3 id="stringformat">string·format</h3>

<p><code class="highlighter-rouge">S.format(*args, **kwargs)</code> returns a version of the format string S
in which bracketed portions <code class="highlighter-rouge">{...}</code> are replaced
by arguments from <code class="highlighter-rouge">args</code> and <code class="highlighter-rouge">kwargs</code>.</p>

<p>Within the format string, a pair of braces `` is treated as
a literal open or close brace.
Each unpaired open brace must be matched by a close brace <code class="highlighter-rouge">}</code>.
The optional text between corresponding open and close braces
specifies which argument to use.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{}
{field}
</code></pre></div></div>

<p>The <em>field name</em> may be either a decimal number or a keyword.
A number is interpreted as the index of a positional argument;
a keyword specifies the value of a keyword argument.
If all the numeric field names form the sequence 0, 1, 2, and so on,
they may be omitted and those values will be implied; however,
the explicit and implicit forms may not be mixed.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"a{x}b{y}c{}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>               <span class="c"># "a2b3c1"</span>
<span class="s">"a{}b{}c"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>                          <span class="c"># "a1b2c"</span>
<span class="s">"({1}, {0})"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">"zero"</span><span class="p">,</span> <span class="s">"one"</span><span class="p">)</span>              <span class="c"># "(one, zero)"</span>
</code></pre></div></div>

<p><a id="string·index"></a></p>
<h3 id="stringindex">string·index</h3>

<p><code class="highlighter-rouge">S.index(sub[, start[, end]])</code> returns the index of the first
occurrence of the substring <code class="highlighter-rouge">sub</code> within S, like <code class="highlighter-rouge">S.find</code>, except
that if the substring is not found, the operation fails.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"bonbon"</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s">"on"</span><span class="p">)</span>             <span class="c"># 1</span>
<span class="s">"bonbon"</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s">"on"</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>          <span class="c"># 4</span>
<span class="s">"bonbon"</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s">"on"</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>       <span class="c"># error: substring not found  (in "nbo")</span>
</code></pre></div></div>

<p><a id="string·isalnum"></a></p>
<h3 id="stringisalnum">string·isalnum</h3>

<p><code class="highlighter-rouge">S.isalnum()</code> reports whether the string S is non-empty and consists only
Unicode letters and digits.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"base64"</span><span class="o">.</span><span class="n">isalnum</span><span class="p">()</span>              <span class="c"># True</span>
<span class="s">"Catch-22"</span><span class="o">.</span><span class="n">isalnum</span><span class="p">()</span>            <span class="c"># False</span>
</code></pre></div></div>

<p><a id="string·isalpha"></a></p>
<h3 id="stringisalpha">string·isalpha</h3>

<p><code class="highlighter-rouge">S.isalpha()</code> reports whether the string S is non-empty and consists only of Unicode letters.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"ABC"</span><span class="o">.</span><span class="n">isalpha</span><span class="p">()</span>                 <span class="c"># True</span>
<span class="s">"Catch-22"</span><span class="o">.</span><span class="n">isalpha</span><span class="p">()</span>            <span class="c"># False</span>
<span class="s">""</span><span class="o">.</span><span class="n">isalpha</span><span class="p">()</span>                    <span class="c"># False</span>
</code></pre></div></div>

<p><a id="string·isdigit"></a></p>
<h3 id="stringisdigit">string·isdigit</h3>

<p><code class="highlighter-rouge">S.isdigit()</code> reports whether the string S is non-empty and consists only of Unicode digits.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"123"</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span>                 <span class="c"># True</span>
<span class="s">"Catch-22"</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span>            <span class="c"># False</span>
<span class="s">""</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span>                    <span class="c"># False</span>
</code></pre></div></div>

<p><a id="string·islower"></a></p>
<h3 id="stringislower">string·islower</h3>

<p><code class="highlighter-rouge">S.islower()</code> reports whether the string S contains at least one cased Unicode
letter, and all such letters are lowercase.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"hello, world"</span><span class="o">.</span><span class="n">islower</span><span class="p">()</span>        <span class="c"># True</span>
<span class="s">"Catch-22"</span><span class="o">.</span><span class="n">islower</span><span class="p">()</span>            <span class="c"># False</span>
<span class="s">"123"</span><span class="o">.</span><span class="n">islower</span><span class="p">()</span>                 <span class="c"># False</span>
</code></pre></div></div>

<p><a id="string·isspace"></a></p>
<h3 id="stringisspace">string·isspace</h3>

<p><code class="highlighter-rouge">S.isspace()</code> reports whether the string S is non-empty and consists only of Unicode spaces.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"    "</span><span class="o">.</span><span class="n">isspace</span><span class="p">()</span>                <span class="c"># True</span>
<span class="s">"</span><span class="se">\r\t\n</span><span class="s">"</span><span class="o">.</span><span class="n">isspace</span><span class="p">()</span>              <span class="c"># True</span>
<span class="s">""</span><span class="o">.</span><span class="n">isspace</span><span class="p">()</span>                    <span class="c"># False</span>
</code></pre></div></div>

<p><a id="string·istitle"></a></p>
<h3 id="stringistitle">string·istitle</h3>

<p><code class="highlighter-rouge">S.istitle()</code> reports whether the string S contains at least one cased Unicode
letter, and all such letters that begin a word are in title case.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"Hello, World!"</span><span class="o">.</span><span class="n">istitle</span><span class="p">()</span>       <span class="c"># True</span>
<span class="s">"Catch-22"</span><span class="o">.</span><span class="n">istitle</span><span class="p">()</span>            <span class="c"># True</span>
<span class="s">"HAL-9000"</span><span class="o">.</span><span class="n">istitle</span><span class="p">()</span>            <span class="c"># False</span>
<span class="s">"123"</span><span class="o">.</span><span class="n">istitle</span><span class="p">()</span>                 <span class="c"># False</span>
</code></pre></div></div>

<p><a id="string·isupper"></a></p>
<h3 id="stringisupper">string·isupper</h3>

<p><code class="highlighter-rouge">S.isupper()</code> reports whether the string S contains at least one cased Unicode
letter, and all such letters are uppercase.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"HAL-9000"</span><span class="o">.</span><span class="n">isupper</span><span class="p">()</span>            <span class="c"># True</span>
<span class="s">"Catch-22"</span><span class="o">.</span><span class="n">isupper</span><span class="p">()</span>            <span class="c"># False</span>
<span class="s">"123"</span><span class="o">.</span><span class="n">isupper</span><span class="p">()</span>                 <span class="c"># False</span>
</code></pre></div></div>

<p><a id="string·join"></a></p>
<h3 id="stringjoin">string·join</h3>

<p><code class="highlighter-rouge">S.join(iterable)</code> returns the string formed by concatenating each
element of its argument, with a copy of the string S between
successive elements. The argument must be an iterable whose elements
are strings.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">", "</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s">"one"</span><span class="p">,</span> <span class="s">"two"</span><span class="p">,</span> <span class="s">"three"</span><span class="p">])</span>      <span class="c"># "one, two, three"</span>
<span class="s">"a"</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">"ctmrn"</span><span class="p">)</span>                       <span class="c"># "catamaran"</span>
</code></pre></div></div>

<p><a id="string·lower"></a></p>
<h3 id="stringlower">string·lower</h3>

<p><code class="highlighter-rouge">S.lower()</code> returns a copy of the string S with letters converted to lowercase.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"Hello, World!"</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>                 <span class="c"># "hello, world!"</span>
</code></pre></div></div>

<p><a id="string·lstrip"></a></p>
<h3 id="stringlstrip">string·lstrip</h3>

<p><code class="highlighter-rouge">S.lstrip()</code> returns a copy of the string S with leading whitespace removed.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"  hello  "</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>                    <span class="c"># "  hello"</span>
</code></pre></div></div>

<p><a id="string·partition"></a></p>
<h3 id="stringpartition">string·partition</h3>

<p><code class="highlighter-rouge">S.partition(x)</code> splits string S into three parts and returns them as
a tuple: the portion before the first occurrence of string <code class="highlighter-rouge">x</code>, <code class="highlighter-rouge">x</code> itself,
and the portion following it.
If S does not contain <code class="highlighter-rouge">x</code>, <code class="highlighter-rouge">partition</code> returns <code class="highlighter-rouge">(S, "", "")</code>.</p>

<p><code class="highlighter-rouge">partition</code> fails if <code class="highlighter-rouge">x</code> is not a string, or is the empty string.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"one/two/three"</span><span class="o">.</span><span class="n">partition</span><span class="p">(</span><span class="s">"/"</span><span class="p">)</span>		<span class="c"># ("one", "/", "two/three")</span>
</code></pre></div></div>

<p><a id="string·replace"></a></p>
<h3 id="stringreplace">string·replace</h3>

<p><code class="highlighter-rouge">S.replace(old, new[, count])</code> returns a copy of string S with all
occurrences of substring <code class="highlighter-rouge">old</code> replaced by <code class="highlighter-rouge">new</code>. If the optional
argument <code class="highlighter-rouge">count</code>, which must be an <code class="highlighter-rouge">int</code>, is non-negative, it
specifies a maximum number of occurrences to replace.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"banana"</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span> <span class="s">"o"</span><span class="p">)</span>		<span class="c"># "bonono"</span>
<span class="s">"banana"</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span> <span class="s">"o"</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>		<span class="c"># "bonona"</span>
</code></pre></div></div>

<p><a id="string·rfind"></a></p>
<h3 id="stringrfind">string·rfind</h3>

<p><code class="highlighter-rouge">S.rfind(sub[, start[, end]])</code> returns the index of the substring <code class="highlighter-rouge">sub</code> within
S, like <code class="highlighter-rouge">S.find</code>, except that <code class="highlighter-rouge">rfind</code> returns the index of the substring’s
<em>last</em> occurrence.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"bonbon"</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="s">"on"</span><span class="p">)</span>             <span class="c"># 4</span>
<span class="s">"bonbon"</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="s">"on"</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>    <span class="c"># 1</span>
<span class="s">"bonbon"</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="s">"on"</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>       <span class="c"># -1</span>
</code></pre></div></div>

<p><a id="string·rindex"></a></p>
<h3 id="stringrindex">string·rindex</h3>

<p><code class="highlighter-rouge">S.rindex(sub[, start[, end]])</code> returns the index of the substring <code class="highlighter-rouge">sub</code> within
S, like <code class="highlighter-rouge">S.index</code>, except that <code class="highlighter-rouge">rindex</code> returns the index of the substring’s
<em>last</em> occurrence.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"bonbon"</span><span class="o">.</span><span class="n">rindex</span><span class="p">(</span><span class="s">"on"</span><span class="p">)</span>             <span class="c"># 4</span>
<span class="s">"bonbon"</span><span class="o">.</span><span class="n">rindex</span><span class="p">(</span><span class="s">"on"</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>    <span class="c"># 1                           (in "bonbo")</span>
<span class="s">"bonbon"</span><span class="o">.</span><span class="n">rindex</span><span class="p">(</span><span class="s">"on"</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>       <span class="c"># error: substring not found  (in "nbo")</span>
</code></pre></div></div>

<p><a id="string·rpartition"></a></p>
<h3 id="stringrpartition">string·rpartition</h3>

<p><code class="highlighter-rouge">S.rpartition(x)</code> is like <code class="highlighter-rouge">partition</code>, but splits <code class="highlighter-rouge">S</code> at the last occurrence of <code class="highlighter-rouge">x</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"one/two/three"</span><span class="o">.</span><span class="n">partition</span><span class="p">(</span><span class="s">"/"</span><span class="p">)</span>		<span class="c"># ("one/two", "/", "three")</span>
</code></pre></div></div>

<p><a id="string·rsplit"></a></p>
<h3 id="stringrsplit">string·rsplit</h3>

<p><code class="highlighter-rouge">S.rsplit([sep[, maxsplit]])</code> splits a string into substrings like <code class="highlighter-rouge">S.split</code>,
except that when a maximum number of splits is specified, <code class="highlighter-rouge">rsplit</code> chooses the
rightmost splits.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"banana"</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s">"n"</span><span class="p">)</span>                         <span class="c"># ["ba", "a", "a"]</span>
<span class="s">"banana"</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s">"n"</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>                      <span class="c"># ["bana", "a"]</span>
<span class="s">"one two  three"</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>             <span class="c"># ["one two", "three"]</span>
</code></pre></div></div>

<p><a id="string·rstrip"></a></p>
<h3 id="stringrstrip">string·rstrip</h3>

<p><code class="highlighter-rouge">S.rstrip()</code> returns a copy of the string S with trailing whitespace removed.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"  hello  "</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>                    <span class="c"># "hello  "</span>
</code></pre></div></div>

<p><a id="string·split"></a></p>
<h3 id="stringsplit">string·split</h3>

<p><code class="highlighter-rouge">S.split([sep [, maxsplit]])</code> returns the list of substrings of S,
splitting at occurrences of the delimiter string <code class="highlighter-rouge">sep</code>.</p>

<p>Consecutive occurrences of <code class="highlighter-rouge">sep</code> are considered to delimit empty
strings, so <code class="highlighter-rouge">'food'.split('o')</code> returns <code class="highlighter-rouge">['f', '', 'd']</code>.
Splitting an empty string with a specified separator returns <code class="highlighter-rouge">['']</code>.
If <code class="highlighter-rouge">sep</code> is the empty string, <code class="highlighter-rouge">split</code> fails.</p>

<p>If <code class="highlighter-rouge">sep</code> is not specified or is <code class="highlighter-rouge">None</code>, <code class="highlighter-rouge">split</code> uses a different
algorithm: it removes all leading spaces from S
(or trailing spaces in the case of <code class="highlighter-rouge">rsplit</code>),
then splits the string around each consecutive non-empty sequence of
Unicode white space characters.</p>

<p>If S consists only of white space, <code class="highlighter-rouge">split</code> returns the empty list.</p>

<p>If <code class="highlighter-rouge">maxsplit</code> is given and non-negative, it specifies a maximum number of splits.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"one two  three"</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>                    <span class="c"># ["one", "two", "three"]</span>
<span class="s">"one two  three"</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">" "</span><span class="p">)</span>                 <span class="c"># ["one", "two", "", "three"]</span>
<span class="s">"one two  three"</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>             <span class="c"># ["one", "two  three"]</span>
<span class="s">"banana"</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">"n"</span><span class="p">)</span>                         <span class="c"># ["ba", "a", "a"]</span>
<span class="s">"banana"</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">"n"</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>                      <span class="c"># ["ba", "ana"]</span>
</code></pre></div></div>

<p><a id="string·splitlines"></a></p>
<h3 id="stringsplitlines">string·splitlines</h3>

<p><code class="highlighter-rouge">S.splitlines([keepends])</code> returns a list whose elements are the
successive lines of S, that is, the strings formed by splitting S at
line terminators (currently assumed to be a single newline, <code class="highlighter-rouge">\n</code>,
regardless of platform).</p>

<p>The optional argument, <code class="highlighter-rouge">keepends</code>, is interpreted as a Boolean.
If true, line terminators are preserved in the result, though
the final element does not necessarily end with a line terminator.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"one</span><span class="se">\n\n</span><span class="s">two"</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>       <span class="c"># ["one", "", "two"]</span>
<span class="s">"one</span><span class="se">\n\n</span><span class="s">two"</span><span class="o">.</span><span class="n">splitlines</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>   <span class="c"># ["one\n", "\n", "two"]</span>
</code></pre></div></div>

<p><a id="string·startswith"></a></p>
<h3 id="stringstartswith">string·startswith</h3>

<p><code class="highlighter-rouge">S.startswith(suffix)</code> reports whether the string S has the specified prefix.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"filename.sky"</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">"filename"</span><span class="p">)</span>         <span class="c"># True</span>
</code></pre></div></div>

<p><a id="string·strip"></a></p>
<h3 id="stringstrip">string·strip</h3>

<p><code class="highlighter-rouge">S.strip()</code> returns a copy of the string S with leading and trailing whitespace removed.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"  hello  "</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>                     <span class="c"># "hello"</span>
</code></pre></div></div>

<p><a id="string·title"></a></p>
<h3 id="stringtitle">string·title</h3>

<p><code class="highlighter-rouge">S.title()</code> returns a copy of the string S with letters converted to titlecase.</p>

<p>Letters are converted to uppercase at the start of words, lowercase elsewhere.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"hElLo, WoRlD!"</span><span class="o">.</span><span class="n">title</span><span class="p">()</span>                 <span class="c"># "Hello, World!"</span>
</code></pre></div></div>

<p><a id="string·upper"></a></p>
<h3 id="stringupper">string·upper</h3>

<p><code class="highlighter-rouge">S.upper()</code> returns a copy of the string S with letters converted to uppercase.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"Hello, World!"</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>                 <span class="c"># "HELLO, WORLD!"</span>
</code></pre></div></div>

<h2 id="grammar-reference">Grammar reference</h2>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>File = {Statement | newline} eof .

Statement = DefStmt | IfStmt | ForStmt | SimpleStmt .

DefStmt = 'def' identifier '(' [Parameters [',']] ')' ':' Suite .
# NOTE: trailing comma is not permitted if the last argument is `'*' identifier` or `'**' identifier`.

Parameters = Parameter {',' Parameter}.

Parameter = identifier | identifier '=' Test | '*' identifier | '**' identifier .

IfStmt = 'if' Test ':' Suite {'elif' Test ':' Suite} ['else' ':' Suite] .

ForStmt = 'for' LoopVariables 'in' Expression ':' Suite .

Suite = [newline indent {Statement} outdent] | SimpleStmt .

SimpleStmt = SmallStmt {';' SmallStmt} [';'] '\n' .
# NOTE: '\n' optional at EOF

SmallStmt = ReturnStmt
          | BreakStmt | ContinueStmt | PassStmt
          | AssignStmt
          | ExprStmt
          | LoadStmt
          .

ReturnStmt   = 'return' [Expression] .
BreakStmt    = 'break' .
ContinueStmt = 'continue' .
PassStmt     = 'pass' .
AssignStmt   = Expression ('=' | '+=' | '-=' | '*=' | '/=' | '//=' | '%=') Expression .
ExprStmt     = Expression .

LoadStmt = 'load' '(' string {',' [identifier '='] string} [','] ')' .

Test = IfExpr
     | PrimaryExpr
     | UnaryExpr
     | BinaryExpr
     .

IfExpr = Test 'if' Test 'else' Test .

PrimaryExpr = Operand
            | PrimaryExpr DotSuffix
            | PrimaryExpr CallSuffix
            | PrimaryExpr SliceSuffix
            .

Operand = identifier
        | int | string
        | ListExpr | ListComp
        | DictExpr | DictComp
        | '(' [Expression [',']] ')'
        .

DotSuffix   = '.' identifier .
SliceSuffix = '[' [Expression] [':' Test [':' Test]] ']' .
CallSuffix  = '(' [Arguments [',']] ')' .
# NOTE: trailing comma is not permitted if the last argument is `'*' Test` or `'**' Test`.

Arguments = Argument {',' Argument} .
Argument  = Test | identifier '=' Test | '*' Test | '**' Test .

ListExpr = '[' [Expression [',']] ']' .
ListComp = '[' Test {CompClause} ']'.

DictExpr = '{' [Entries [',']] '}' .
DictComp = '{' Entry {CompClause} '}' .
Entries  = Entry {',' Entry} .
Entry    = Test ':' Test .

CompClause = 'for' LoopVariables 'in' Test | 'if' Test .

UnaryExpr = '-' Test
          | 'not' Test
          .

BinaryExpr = Test {Binop Test} .

Binop = 'or'
      | 'and'
      | '==' | '!=' | '&lt;' | '&gt;' | '&lt;=' | '&gt;=' | 'in' | 'not' 'in'
      | '|'
      | '&amp;'
      | '-' | '+'
      | '*' | '%' | '/' | '//'
      .

Expression = Test {',' Test} .
# NOTE: trailing comma permitted only when within [...] or (...).

LoopVariables = PrimaryExpr {',' PrimaryExpr} .
</code></pre></div></div>

<p>Tokens:</p>

<ul>
  <li>spaces: newline, eof, indent, outdent.</li>
  <li>identifier.</li>
  <li>literals: string, int.</li>
  <li>plus all quoted tokens such as ‘+=’, ‘return’.</li>
</ul>

<p>Notes:</p>

<ul>
  <li>Ambiguity is resolved using operator precedence.</li>
  <li>The grammar does not enforce the legal order of params and args,
nor that the first compclause must be a ‘for’.</li>
</ul>

        </div>
      </div>
    </div>

    <!-- Satisfaction Survey -->
    <script async="" defer="" src="//survey.g.doubleclick.net/async_survey?site=oohdpic4fyfp3jcnym6aqkdf3e"></script>

        <footer class="footer">
      <div class="container">
  <div class="row">
    <div class="col-sm-4 col-md-2">
      <p>About</p>
      <ul class="list-unstyled">
        <li><a href="https://github.com/bazelbuild/bazel/wiki/Bazel-Users">Who's Using Bazel?</a></li>
        <li><a href="https://www.bazel.build/roadmap.html">Roadmap</a></li>
        <li><a href="https://www.bazel.build/contributing.html">Contribute</a></li>
        <li><a href="https://www.bazel.build/governance.html">Governance Plan</a></li>
        <li><a href="https://policies.google.com/privacy">Privacy Policy</a></li>
      </ul>
    </div>
    <div class="col-sm-4 col-md-2">
      <p>Support</p>
      <ul class="list-unstyled">
        <li><a href="http://stackoverflow.com/questions/tagged/bazel">Stack Overflow</a></li>
        <li><a href="https://github.com/bazelbuild/bazel/issues">Issue Tracker</a></li>
        <li><a href="/">Documentation</a></li>
        <li><a href="https://www.bazel.build/faq.html">FAQ</a></li>
        <li><a href="https://www.bazel.build/support.html">Support Policy</a></li>
      </ul>
    </div>
    <div class="col-sm-4 col-md-2">
      <p>Stay Connected</p>
      <ul class="list-unstyled">
        <li><a href="https://twitter.com/bazelbuild">Twitter</a></li>
        <li><a href="https://blog.bazel.build">Blog</a></li>
        <li><a href="https://github.com/bazelbuild/bazel">GitHub</a></li>
        <li><a href="https://groups.google.com/forum/#!forum/bazel-discuss">Discussion group</a></li>
      </ul>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12">
      <p class="text-muted">&copy; 2018 Google</p>
    </div>
  </div>
</div>

    </footer>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/assets/js/bootstrap.min.js"></script>

    <!-- Anchor JS -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.2.0/anchor.min.js"></script>
    <script>
      // Automatically add anchors and links to all header elements that don't already have them.
      anchors.add();
    </script>

    <script>
      var shiftWindow = function() {
        if (location.hash.length !== 0) {
          window.scrollBy(0, -50);
        }
      };
      window.addEventListener("hashchange", shiftWindow);

      var highlightCurrentSidebarNav = function() {
        var href = location.pathname;
        var item = $('#sidebar-nav [href$="' + href + '"]');
        if (item) {
          var li = item.parent();
          li.addClass("active");

          if (li.parent() && li.parent().is("ul")) {
            do {
              var ul = li.parent();
              if (ul.hasClass("collapse")) {
                ul.collapse("show");
              }
              li = ul.parent();
            } while (li && li.is("li"));
          }
        }
      };

      $(document).ready(function() {
        // Scroll to anchor of location hash, adjusted for fixed navbar.
        window.setTimeout(function() {
          shiftWindow();
        }, 1);

        // Flip the caret when submenu toggles are clicked.
        $(".sidebar-submenu").on("show.bs.collapse", function() {
          var toggle = $('[href$="#' + $(this).attr('id') + '"]');
          if (toggle) {
            toggle.addClass("dropup");
          }
        });
        $(".sidebar-submenu").on("hide.bs.collapse", function() {
          var toggle = $('[href$="#' + $(this).attr('id') + '"]');
          if (toggle) {
            toggle.removeClass("dropup");
          }
        });

        // Highlight the current page on the sidebar nav.
        highlightCurrentSidebarNav();
      });
    </script>

    <!-- Google Analytics tracking code -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-61082125-1', 'auto');
      ga('send', 'pageview');
    </script>

  </body>
</html>

