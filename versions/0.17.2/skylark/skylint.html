<!DOCTYPE html>
<html lang="en" itemscope itemtype="https://schema.org/WebPage">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Skylint - Bazel</title>

    <link rel="canonical" href="/versions/0.17.2/skylark/skylint.html">

    <!-- Webfont -->
    <link href="//fonts.googleapis.com/css?family=RobotoDraft:300,400,500,700|Source+Code+Pro:400,500,700" rel="stylesheet">

    <link rel="shortcut icon" type="image/png" href="/images/favicon.ico">

    <!-- Bootstrap -->
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/css/font-awesome.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Custom stylesheet -->
    <link rel="stylesheet" type="text/css" href="/css/main.css" />

    <!-- metadata -->
    <meta name="og:title" content="Skylint"/>
    <meta name="og:image" content="/images/bazel-og-image.png"/>

    <!-- google search console verification -->
    <meta name="google-site-verification" content="ftWLOiP2hnDW4Cw3LUGEaXU83RVIpiyxwaXFFhoakzs" />
  </head>

  <body>
        <nav id="common-nav" class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://www.bazel.build/">
            <img class="navbar-logo" src="/images/bazel-navbar.svg">
          </a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="https://github.com/bazelbuild/bazel">GitHub</a></li>
          </ul>
          <form class="navbar-form navbar-right" action="/search.html" id="cse-search-box">
            <div class="form-group">
              <input type="hidden" name="cx" value="012346921571893344015:xv_nfgpzbu4">
              <input type="hidden" name="cof" value="FORID:10">
              <input type="hidden" name="ie" value="UTF-8">
              <input type="search" name="q" class="form-control input-sm" placeholder="Search">
            </div>
          </form>
          <ul class="nav navbar-nav navbar-right">
            <li>
              <a href="/">Documentation</a>
            </li>
            <li>
              <a href="https://www.bazel.build/contributing.html">Contribute</a>
            </li>
            <li>
              <a href="https://blog.bazel.build">Blog</a>
            </li>
            <li><a href="https://twitter.com/bazelbuild" class="nav-icon"><i class="fa fa-twitter"></i></a></li>
            <li><a href="http://stackoverflow.com/questions/tagged/bazel" class="nav-icon"><i class="fa fa-stack-overflow"></i></a></li>
          </ul>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav>


    <div class="page-title-bar">
      <div class="container">
        <h1>Documentation</h1>
      </div>
    </div>

    <div class="container vpad">
      <div class="row">
        <div class="col-md-3">
          <a class="btn btn-default btn-lg btn-block sidebar-toggle"
              data-toggle="collapse" href="#sidebar-nav" aria-expanded="false"
              aria-controls="sidebar-nav">
            <i class="glyphicon glyphicon-menu-hamburger"></i> Navigation
          </a>
          <nav class="sidebar collapse" id="sidebar-nav">
           <h3>Home</h3>
            <ul class="sidebar-nav">
              <li><a href="/versions/master/bazel-overview.html">Bazel Overview</a></li>
              <li><a href="/versions/master/bazel-vision.html">Bazel Vision</a></li>
              <li><a href="/versions/master/getting-started.html">Getting Started</a></li>
              <li><a href="/versions/master/skylark/backward-compatibility.html">Backward Compatibility</a></li>
            </ul>

           <h3>Using Bazel</h3>
            <ul class="sidebar-nav">

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#installing-menu" aria-expanded="false"
                    aria-controls="installing-menu">
                  Installing Bazel<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="installing-menu">
                   <li><a href="/versions/master/install.html">Installation Overview</a></li>
                   <li><a href="/versions/master/install-ubuntu.html">Installing on Ubuntu</a></li>
                   <li><a href="/versions/master/install-redhat.html">Installing on Fedora/CentOS</a></li>
                   <li><a href="/versions/master/install-os-x.html">Installing on macOS</a></li>
                   <li><a href="/versions/master/install-windows.html">Installing on Windows</a></li>
                   <li><a href="/versions/master/install-compile-source.html">Compiling from Source</a></li>
                   <li><a href="/versions/master/completion.html">Command-Line Completion</a></li>
                   <li><a href="/versions/master/ide.html">Integrating with IDEs</a></li>
                 </ul>
                </li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#tutorials-menu" aria-expanded="false"
                    aria-controls="tutorials-menu">
                  Tutorials<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="tutorials-menu">
                   <li><a href="/versions/master/tutorial/java.html">Building a Java Project</a></li>
                   <li><a href="/versions/master/tutorial/cpp.html">Building a C++ Project</a></li>
                   <li><a href="/versions/master/tutorial/android-app.html">Building an Android App</a></li>
                   <li><a href="/versions/master/tutorial/ios-app.html">Building an iOS App</a></li>
                   <li><a href="/versions/master/skylark/tutorial-sharing-variables.html">Sharing Variables</a></li>
                   <li><a href="/versions/master/skylark/tutorial-creating-a-macro.html">Creating a Macro</a></li>
                 </ul>
              </li>

              <li><a href="/versions/master/build-ref.html">Bazel Concepts</a></li>
              <li><a href="/versions/master/guide.html">User's Guide</a></li>
              <li><a href="/versions/master/external.html">External Dependencies</a></li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#query-menu" aria-expanded="false"
                    aria-controls="query-menu">
                  Queries<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="query-menu">
                  <li><a href="/versions/master/query-how-to.html">Bazel query</a></li>
                  <li><a href="/versions/master/cquery.html">Bazel cquery</a></li>
                  <li><a href="/versions/master/user-manual.html#aquery">Bazel aquery</a></li>
                  <li><a href="/versions/master/query.html">Query Language</a></li>
                </ul>
              </li>

              <li><a href="/versions/master/configurable-attributes.html">Configurable Attributes</a></li>
              <li><a href="/versions/master/best-practices.html">Best Practices</a></li>
              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#remote-execution-menu" aria-expanded="false"
                    aria-controls="remote-execution-menu">
                  Remote Execution<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="remote-execution-menu">
                   <li><a href="/versions/master/remote-execution.html">Remote Execution Overview</a></li>
                   <li><a href="/versions/master/remote-execution-rules.html">Guidelines for Remote Execution</a></li>
                   <li>
                      <a class="sidebar-nav-heading" data-toggle="collapse"
                          href="#troubleshoot-remote-execution-menu" aria-expanded="false"
                          aria-controls="troubleshoot-remote-execution-menu">
                        Troubleshooting Remote Execution<span class="caret"></span>
                      </a>
                      <ul class="collapse sidebar-nav sidebar-submenu" id="troubleshoot-remote-execution-menu">
                         <li><a href="/versions/master/remote-execution-sandbox.html">Troubleshooting Remote Execution with Bazel Sandbox</a></li>
                         <li><a href="/versions/master/workspace-log.html">Finding non-hermetic behavior in WORKSPACE rules</a></li>
                      </ul>
                  </li>
                   <li><a href="/versions/master/remote-execution-ci.html">Configuring Bazel CI for Remote Execution Rule Testing</a></li>
                 </ul>
              </li>

              <li><a href="/versions/master/remote-caching.html">Remote Caching</a></li>
             </ul>

           <h3>Rules</h3>
           <ul class="sidebar-nav">
             <li><a href="/versions/master/be/overview.html">Build Encyclopedia</a></li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#android-menu" aria-expanded="false"
                    aria-controls="android-menu">
                  Android<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="android-menu">
                  <li><a href="/versions/master/bazel-and-android.html">Android Resources</a></li>
                  <li><a href="/versions/master/mobile-install.html">Using mobile-install</a></li>
                  <li><a href="/versions/master/android-instrumentation-test.html">Android Instrumentation Tests</a></li>
                  <li><a href="/versions/master/android-ndk.html">Android NDK</a></li>
                  <li><a href="https://plugins.jetbrains.com/plugin/9185-bazel">Android Studio Plugin</a></li>
                </ul>
              </li>

               <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#apple-menu" aria-expanded="false"
                    aria-controls="apple-menu">
                  Apple<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="apple-menu">
                  <li><a href="/versions/master/bazel-and-apple.html">Apple Resources</a></li>
                  <li><a href="/versions/master/migrate-xcode.html">Migrating from Xcode</a></li>
                  <li><a href="/versions/master/migrate-cocoapods.html">Converting CocoaPods</a></li>
                </ul>
              </li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#cpp-menu" aria-expanded="false"
                    aria-controls="cpp-menu">
                  C++<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="cpp-menu">
                  <li><a href="/versions/master/bazel-and-cpp.html">C++ Resources</a></li>
                  <li><a href="/versions/master/cpp-use-cases.html">C++ Use Cases</a></li>
                  <li><a href="/versions/master/crosstool-reference.html">Understanding CROSSTOOL</a></li>
                  <li><a href="/versions/master/tutorial/crosstool.html">Tutorial: CROSSTOOL</a></li>
                </ul>
              </li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#java-menu" aria-expanded="false"
                    aria-controls="java-menu">
                  Java<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="java-menu">
                  <li><a href="/versions/master/bazel-and-java.html">Java Resources</a></li>
                  <li><a href="/versions/master/migrate-maven.html">Migrating from Maven</a></li>
                  <li><a href="/versions/master/generate-workspace.html">Converting Maven Dependencies</a></li>
                </ul>
              </li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#javascript-menu" aria-expanded="false"
                    aria-controls="javascript-menu">
                  JavaScript<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="javascript-menu">
                  <li><a href="/versions/master/bazel-and-javascript.html">JavaScript Resources</a></li>
                  <li><a href="/versions/master/build-javascript.html">Building JavaScript</a></li>
                </ul>
              </li>

           </ul>

           <h3>Reference</h3>
           <ul class="sidebar-nav">
             <li><a href="/versions/master/user-manual.html">Commands and Options</a></li>
             <li><a href="/versions/master/skylark/build-style.html">BUILD Style Guide</a></li>
             <li><a href="/versions/master/command-line-reference.html">Command Line Reference</a></li>
             <li><a href="/versions/master/test-encyclopedia.html">Writing Tests</a></li>
             <li><a href="/versions/master/build-event-protocol.html">Build Event Protocol</a></li>
             <li><a href="/versions/master/output_directories.html">Output Directory Layout</a></li>
             <li><a href="/versions/master/platforms.html">Platforms</a></li>
             <li><a href="/versions/master/toolchains.html">Toolchains</a></li>
           </ul>

            <h3>Extending Bazel</h3>
           <ul class="sidebar-nav">
              <li><a href="/versions/master/skylark/concepts.html">Extension Overview</a></li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#starlark-concepts" aria-expanded="false"
                    aria-controls="starlark-concepts">
                  Concepts<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="starlark-concepts">
                  <li><a href="/versions/master/skylark/macros.html">Macros</a></li>
                  <li><a href="/versions/master/skylark/rules.html">Rules</a></li>
                  <li><a href="/versions/master/skylark/depsets.html">Depsets</a></li>
                  <li><a href="/versions/master/skylark/aspects.html">Aspects</a></li>
                  <li><a href="/versions/master/skylark/repository_rules.html">Repository Rules</a></li>
                  <li><a href="/versions/master/skylark/faq.html">FAQ</a></li>
                </ul>
              </li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#starlark-practices" aria-expanded="false"
                    aria-controls="starlark-practices">
                  Best Practices<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="starlark-practices">
                  <li><a href="/versions/master/skylark/bzl-style.html">.bzl Style Guide</a></li>
                  <li><a href="/versions/master/skylark/testing.html">Testing</a></li>
                  <li><a href="https://skydoc.bazel.build" target="_blank">Documenting Rules</a></li>
                  <li><a href="/versions/master/skylark/skylint.html">Linter</a></li>
                  <li><a href="/versions/master/skylark/performance.html">Optimizing Performance</a></li>
                  <li><a href="/versions/master/skylark/deploying.html">Deploying Rules</a></li>
                </ul>
              </li>

              <li><a href="https://github.com/bazelbuild/examples/tree/master/rules">Examples</a></li>
              <li><a href="/versions/master/skylark/lib/skylark-overview.html">API Reference</a></li>
              <li><a href="/versions/master/skylark/language.html">Starlark Language</a></li>
            </ul>
          </nav>
        </div>

        <div class="col-md-9">
          <a id="gh-edit" class="gh-edit default-hidden"><i class="fa fa-pencil" aria-hidden="true"></i> Edit</a>
          <script>
            var versionDocsURLRegex = /\/versions\/[\w\.]+\/(.*)/;
            var ghDocsBazeURL = 'https://github.com/bazelbuild/bazel/tree/master/site/docs/';
            var editButton = document.getElementById('gh-edit');
            // if there is an edit button and we are not in the Build Encyclopedia
            if (editButton
                && window.location.pathname.match(versionDocsURLRegex)
                && window.location.pathname.lastIndexOf('/be/') == -1
                && window.location.pathname.lastIndexOf('/skylark/lib/') == -1) {
              var docFile = window.location.pathname.match(versionDocsURLRegex)[1];
              // some pages are not using markdown :(
              if (docFile !== 'user-manual.html'
                  && docFile !== 'build-ref.html'
                  && docFile !== 'query.html'
                  && docFile !== 'test-encyclopedia.html') {
                docFile = docFile.replace('html', 'md');
              }
              editButton.href = ghDocsBazeURL + docFile;
              editButton.style.visibility = 'visible';
            }
          </script>

          <!-- /versions/master/foo/bar -> ["master", "foo", "bar"] -->
          <!-- /versions/0.12.3/baz.md -> ["0.12.3", "baz.md"] -->
          

          <p>Documentation for Bazel 0.17.2</p>
          <select id="touchsplashmenu" onchange="location.href=this.value">
              <option value="">Choose a Bazel version</option>
              
              <option value="/versions/master/skylark/skylint.html">master</option>
              
              <option value="/versions/0.19.2/skylark/skylint.html">0.19.2</option>
              
              <option value="/versions/0.19.1/skylark/skylint.html">0.19.1</option>
              
              <option value="/versions/0.18.1/skylark/skylint.html">0.18.1</option>
              
              <option value="/versions/0.17.2/skylark/skylint.html">0.17.2</option>
              
              <option value="/versions/0.17.1/skylark/skylint.html">0.17.1</option>
              
          </select>

          <h1 id="skylint">Skylint</h1>

<p><a href="https://docs.bazel.build/versions/master/skylark/bzl-style.html">Style guide</a></p>

<p>This document explains how to use Skylint, the Starlark linter.</p>

<!-- [TOC] -->

<h2 id="the-linter-cli-tool">The linter CLI tool</h2>

<h3 id="building-the-linter">Building the linter</h3>

<p>To build the linter from source, use the following commands:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git clone https://github.com/bazelbuild/bazel.git
$ cd bazel
$ bazel build //src/tools/skylark/java/com/google/devtools/skylark/skylint:Skylint
</code></pre></div></div>

<p>After that, the linter is available at <code class="highlighter-rouge">bazel-bin/src/tools/skylark/java/com/google/devtools/skylark/skylint/Skylint</code>.
You can copy it to somewhere else if you prefer.</p>

<h3 id="running-the-linter">Running the linter</h3>

<p>Assuming you have the linter binary available at <code class="highlighter-rouge">/path/to/Skylint</code> from the
previous step, you can run it like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ /path/to/Skylint /path/to/bzl/file.bzl
</code></pre></div></div>

<p>where <code class="highlighter-rouge">/path/to/Skylint</code> is the path of the binary from the previous section.</p>

<h2 id="the-checks-in-detail">The checks in detail</h2>

<p>This section explains which checks the linter performs and how to deal with
false positives.</p>

<h3 id="deprecating-functions-docstring-format-deprecated-symbol">Deprecating functions (docstring format) [deprecated-symbol]</h3>

<p><a name="deprecated-symbol"></a>
To deprecate a function, add a <code class="highlighter-rouge">Deprecated:</code> section to the docstring, similarly
to a <code class="highlighter-rouge">Returns:</code> section.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def foo():
  """An example function.

  Deprecated:
    &lt;reason and alternative&gt;
  """
  # …

def bar():
  foo() # warning: "usage of 'foo' is deprecated: &lt;reason and alternative&gt;"
</code></pre></div></div>

<p>Note that the explanation starts on the next line after <code class="highlighter-rouge">Deprecated:</code> and may
occupy multiple lines, with all lines indented by two spaces.</p>

<h3 id="using-the-operator--on-dictionaries-deprecated-plus-dict">Using the operator + on dictionaries [deprecated-plus-dict]</h3>

<p><a name="deprecated-plus-dict"></a>
The <code class="highlighter-rouge">+</code> operator (and similarly <code class="highlighter-rouge">+=</code>) is deprecated for dictionaries. Instead,
use the following:</p>

<p>You can import a helper function from <a href="https://github.com/bazelbuild/bazel-skylib">Skylib</a>
and use it like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>load("@bazel_skylib//lib:dicts.bzl", "dicts")
dicts.add(d1, d2, d3) # instead of d1 + d2 + d3
</code></pre></div></div>

<h3 id="using-the-operator--on-depset-deprecated-plus-depset">Using the operator + on depset [deprecated-plus-depset]</h3>

<p><a name="deprecated-plus-depset"></a>
The <code class="highlighter-rouge">+</code> operator (and similarly <code class="highlighter-rouge">+=</code>) is deprecated for depsets. Instead,
use the depset constructor.</p>

<p>See <a href="depsets.html">documentation on depsets</a> for background and examples of use.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  d1 = depset(items1)
  d2 = depset(items2)
  combined = depset(transitive=[d1, d2])
</code></pre></div></div>

<h3 id="docstrings">Docstrings</h3>

<p><a name="missing-module-docstring"></a>
<a name="missing-function-docstring"></a>
<a name="bad-docstring-format"></a>
Categories: [missing-module-docstring] [missing-function-docstring] [bad-docstring-format]</p>

<p>The Starlark conventions for docstrings are similar to the <a href="https://google.github.io/styleguide/pyguide.html?showone=Comments#Comments">the Python
conventions</a>.
Docstrings are triple-quoted string literals and the closing quotes have to
appear on their own line unless the docstring is only one line long.</p>

<p>A file-level docstring is the first statement of a file, even before the
<code class="highlighter-rouge">load()</code> statements. A function docstring is the first statement in the function
body.</p>

<p>Sections in the docstring (such as <code class="highlighter-rouge">Args:</code> and <code class="highlighter-rouge">Returns:</code>) are separated by a
blank line. Their contents are indented by two spaces.
Example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"""This module contains some docstrings examples."""

def example_function1():
  """Illustrates the usage of a one-line function docstring."""

def example_function2(foo, bar):
  """Illustrates the format of a longer function docstring.

  After the one-line summary comes the description body.
  It contains additional information about the function.

  The description can span more than one paragraph.

  Args:
    foo: documentation of the first parameter.
      Subsequent lines have to be indented by two spaces.
    bar: documentation of the second parameter

  Returns:
    documentation of the return value

  Deprecated:
    This function is deprecated for &lt;reason&gt;. Use &lt;alternative&gt; instead.
  """
  return "baz"
</code></pre></div></div>

<h4 id="indentation">Indentation</h4>

<p>If the linter gives you confusing error messages, <strong>check the indentation of the
docstring</strong>. (The indentation rules are the same as <a href="https://google.github.io/styleguide/pyguide.html?showone=Comments#Comments">for
Python</a>.)
The analyzer tries to warn you about bad indentation but it may not catch all
edge cases. If the indentation is wrong, the analyzer may not recognize some
sections, such as <code class="highlighter-rouge">Args:</code>, which may then lead to further errors about missing
documentation for the parameters.</p>

<h4 id="what-to-document-inconsistent-docstring">What to document [inconsistent-docstring]</h4>

<p><a name="inconsistent-docstring"></a>
The analyzer <strong>requires docstrings</strong> for:</p>

<ul>
  <li>each <strong>module</strong> (.bzl file)</li>
  <li>each <strong>public function</strong> (i.e. a function not starting with an underscore)
that contains at least 5 statements</li>
</ul>

<p>If a <strong>function has a multi-line docstring</strong>, you also have to document (in
order):</p>

<ul>
  <li>all <strong>parameters</strong> of the function (in declaration order)</li>
  <li>the <strong>return value</strong> if the function returns a value, i.e. it contains
<code class="highlighter-rouge">return foo</code> instead of just <code class="highlighter-rouge">return</code></li>
  <li>a <strong>deprecation warning</strong> if the function is deprecated, cf. the
<a href="#deprecated-symbol">deprecation section</a> above</li>
</ul>

<h3 id="naming-conventions">Naming conventions</h3>

<p><a name="name-with-wrong-case"></a>
<a name="provider-name-suffix"></a>
<a name="confusing-name"></a>
Categories: [name-with-wrong-case] [provider-name-suffix] [confusing-name]</p>

<p><strong>TL;DR</strong>: Most Starlark identifiers should be <code class="highlighter-rouge">snake_case</code>, not <code class="highlighter-rouge">camelCase</code>.</p>

<p>In detail, the rules are the following:</p>

<ul>
  <li>Use <strong><code class="highlighter-rouge">lower_snake_case</code></strong> for:
    <ul>
      <li><strong>Functions</strong></li>
      <li><strong>Parameters</strong></li>
      <li><strong>Mutable</strong> variables</li>
    </ul>
  </li>
  <li>Use <strong><code class="highlighter-rouge">UPPER_SNAKE_CASE</code></strong> for:
    <ul>
      <li><strong>Constants</strong> that are <strong>immutable</strong>. The variable must not be rebound
and also its deep contents must not be changed.</li>
    </ul>
  </li>
  <li>Use <strong><code class="highlighter-rouge">UpperCamelCase</code></strong> for:
    <ul>
      <li><strong>Providers</strong>. Currently, the analyzer only allows assignments of the
form <code class="highlighter-rouge">FooBarInfo = provider(...)</code>. In addition provider names have to
end in the <strong>suffix <code class="highlighter-rouge">Info</code></strong>.</li>
    </ul>
  </li>
  <li><strong>Never</strong> use:
    <ul>
      <li><strong>Builtin names</strong> like <code class="highlighter-rouge">print</code>, <code class="highlighter-rouge">True</code>. Rebinding these is too
confusing.</li>
      <li><strong>One-letter</strong> names that are easy to confuse, namely <strong><code class="highlighter-rouge">O</code>, <code class="highlighter-rouge">l</code>, <code class="highlighter-rouge">I</code></strong>
(easy to confuse with <code class="highlighter-rouge">0</code>, <code class="highlighter-rouge">I</code>, <code class="highlighter-rouge">l</code>, respectively).</li>
      <li><strong>Multiple underscores</strong>: <code class="highlighter-rouge">__</code>, <code class="highlighter-rouge">___</code>, <code class="highlighter-rouge">____</code>, etc.</li>
    </ul>
  </li>
  <li>Use the <strong>underscore <code class="highlighter-rouge">_</code></strong>:
    <ul>
      <li><strong>only</strong> to ignore the result of an assignment, as in <code class="highlighter-rouge">a, _ = tuple</code>.</li>
      <li><strong>never</strong> to read the value of <code class="highlighter-rouge">_</code>, e.g. <code class="highlighter-rouge">f(_)</code>.</li>
    </ul>
  </li>
</ul>

<h3 id="statements-without-effects-no-effect">Statements without effects [no-effect]</h3>

<p><a name="no-effect"></a>
If a statement is just an expression that is not a function call, the analyzer
warns <code class="highlighter-rouge">expression result not used</code>. Most likely, you forgot to do something with
that value. Examples: <code class="highlighter-rouge">1 + foo()</code>, <code class="highlighter-rouge">foo[bar]</code>.</p>

<h4 id="list-comprehensions">List comprehensions</h4>

<p>List comprehensions inside a function should be transformed to a for-loop.
This transformation is not possible at the top level because for-loops are only
allowed inside a function to encourage declarative code at the top level.
Therefore list comprehension at the top level are allowed but you should
consider whether it would be more readable to move them to a function. Example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># This is allowed at the top level (but consider moving it to a function):
[do_something_with(foo) for foo in bar]

def baz():
  # This is BAD inside a function:
  [do_something_with(foo) for foo in bar]
  # Instead, use a for loop:
  for foo in bar:
    do_something_with(foo)
</code></pre></div></div>

<h3 id="return-value-lint-missing-return-value">Return value lint [missing-return-value]</h3>

<p><a name="missing-return-value"></a>
If a function returns with a value (<code class="highlighter-rouge">return foo</code>) in some execution paths and
without one (just <code class="highlighter-rouge">return</code> or reaching the end of a function) in other execution
paths, the analyzer will warn about this. The reason for this is that you
probably forgot to return the right value in some execution paths. If this is
not the case, you should make your intent clear by writing <code class="highlighter-rouge">return None</code>
instead.</p>

<h4 id="example">Example</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def foo():
  if ...:
    return False
  elif ...:
    # do stuff
    # forgot return statement here, which generates the warning
  else:
    return True
</code></pre></div></div>

<h4 id="i-know-the-else-branch-cannot-happen">“I know the else-branch cannot happen”</h4>

<p>Suppose you have code like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def foo():
  if cond1:
    return foo
  elif cond2:
    return bar
  # I know the else-branch can't happen but the analyzer complains
</code></pre></div></div>

<p>In such a case, just add <code class="highlighter-rouge">fail("unreachable")</code> or something along these lines
to the end of the function in order to silence the warning.</p>

<h3 id="uninitialized-variables-uninitialized-variable">Uninitialized variables [uninitialized-variable]</h3>

<p><a name="uninitialized-variable"></a>
If a variable is not initialized before it’s used on every execution path, the
analyzer warns about it:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def foo():
  if cond1:
    foo = bar
  elif cond2:
    foo = baz
  print(foo) # warning: 'foo' may not have been initialized
</code></pre></div></div>

<p>Most likely, the author forgot to initialize <code class="highlighter-rouge">foo</code> in the <code class="highlighter-rouge">else</code> branch.
However, if this is a false positive because you know that the <code class="highlighter-rouge">else</code> branch can
never happen, add an <code class="highlighter-rouge">else</code>-branch with the line <code class="highlighter-rouge">fail("unreachable")</code> or
something similar. Then the analyzer won’t complain.</p>

<p>If your code is more complex and it is impossible to determine statically that a
variable is initialized before usage, just initialize the variable with <code class="highlighter-rouge">None</code>
before using it.</p>

<h3 id="unused-bindings-unused-binding">Unused bindings [unused-binding]</h3>

<p><a name="unused-binding"></a>
If a binding of an identifier is not used, the analyzer warns about it:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>_PRIVATE_GLOBAL_UNUSED = 0 # warns because never used
PUBLIC_GLOBAL_UNUSED = 1 # doesn't warn because it might be exported

def public_function_unused(): # doesn't warn because it might be exported
  pass

# warns because unused function and parameter:
def _private_function_unused(param_unused):
  # warns because unused local variable → rename to '_' or  '_foo':
  for foo in range(0, 100):
    pass
</code></pre></div></div>

<p>The analyzer warns about unused identifiers except in the following cases:</p>

<ul>
  <li>If the identifier is global and public, there are no warnings because it may
be <code class="highlighter-rouge">load()</code>ed from somewhere else.</li>
  <li>If the identifier is <code class="highlighter-rouge">_</code>, there is no warning because the underscore signals
that the a value is ignored.</li>
  <li>If the identifier is a local variable and starts with an underscore, there
is no warning because the underscore signals that the value is ignored (as
opposed to global variables, where the underscore signifies that it is
private).</li>
</ul>

<h4 id="silencing-the-warning">Silencing the warning</h4>

<p>If you want to <strong>silence the warning</strong>, you can do one of the following:</p>

<ul>
  <li><strong>Remove</strong> the unused definition.</li>
  <li>In case of a local variable, <strong>rename</strong> the variable to start with an
underscore.</li>
  <li>Look at the special cases below.</li>
</ul>

<h4 id="unused-parameters-with-fixed-names">Unused parameters with fixed names</h4>

<p>In case of a parameter whose name you cannot change (because you have to conform
to some API), you can use the following pattern:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def foo(param1, param2):
  _ignore = (param1, param2)
  # or:
  _ = (param1, param2)
  ...
</code></pre></div></div>

<p>This way, the parameters are used for the assignment of the ignored variable
<code class="highlighter-rouge">_ignore</code>. Hence the analyzer will not warn.</p>

<h4 id="re-exporting-loaded-names">Re-exporting <code class="highlighter-rouge">load()</code>ed names</h4>

<p>If you want to <code class="highlighter-rouge">load()</code> a name just to re-export it (and not use it in the
current file), use the following pattern.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># If you just want to re-export 'foo', DON'T do this:
load("bar.bzl", "foo")

# DO this instead:
load("bar.bzl", _foo="foo")
foo = _foo
</code></pre></div></div>

<p>This way, the name is still re-exported but doesn’t generate a warning.</p>

<h3 id="deprecated-api">Deprecated API</h3>

<p>See <a href="https://docs.bazel.build/versions/master/skylark/lib/ctx.html">documentation</a>
for more information.</p>

<h3 id="miscellaneous-lints">Miscellaneous lints</h3>

<ul>
  <li><a name="unreachable-statement"></a><strong>unreachable statements</strong> [unreachable-statement]</li>
  <li><a name="load-at-top"></a><strong>Load statements</strong> must be <strong>at the top</strong> of the file (after the docstring)
[load-at-top]</li>
</ul>

        </div>
      </div>
    </div>

    <!-- Satisfaction Survey -->
    <script async="" defer="" src="//survey.g.doubleclick.net/async_survey?site=oohdpic4fyfp3jcnym6aqkdf3e"></script>

        <footer class="footer">
      <div class="container">
  <div class="row">
    <div class="col-sm-4 col-md-2">
      <p>About</p>
      <ul class="list-unstyled">
        <li><a href="https://github.com/bazelbuild/bazel/wiki/Bazel-Users">Who's Using Bazel?</a></li>
        <li><a href="https://www.bazel.build/roadmap.html">Roadmap</a></li>
        <li><a href="https://www.bazel.build/contributing.html">Contribute</a></li>
        <li><a href="https://www.bazel.build/governance.html">Governance Plan</a></li>
        <li><a href="https://policies.google.com/privacy">Privacy Policy</a></li>
      </ul>
    </div>
    <div class="col-sm-4 col-md-2">
      <p>Support</p>
      <ul class="list-unstyled">
        <li><a href="http://stackoverflow.com/questions/tagged/bazel">Stack Overflow</a></li>
        <li><a href="https://github.com/bazelbuild/bazel/issues">Issue Tracker</a></li>
        <li><a href="/">Documentation</a></li>
        <li><a href="https://www.bazel.build/faq.html">FAQ</a></li>
        <li><a href="https://www.bazel.build/support.html">Support Policy</a></li>
      </ul>
    </div>
    <div class="col-sm-4 col-md-2">
      <p>Stay Connected</p>
      <ul class="list-unstyled">
        <li><a href="https://twitter.com/bazelbuild">Twitter</a></li>
        <li><a href="https://blog.bazel.build">Blog</a></li>
        <li><a href="https://github.com/bazelbuild/bazel">GitHub</a></li>
        <li><a href="https://groups.google.com/forum/#!forum/bazel-discuss">Discussion group</a></li>
      </ul>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12">
      <p class="text-muted">&copy; 2018 Google</p>
    </div>
  </div>
</div>

    </footer>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/assets/js/bootstrap.min.js"></script>

    <!-- Anchor JS -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.2.0/anchor.min.js"></script>
    <script>
      // Automatically add anchors and links to all header elements that don't already have them.
      anchors.add();
    </script>

    <script>
      var shiftWindow = function() {
        if (location.hash.length !== 0) {
          window.scrollBy(0, -50);
        }
      };
      window.addEventListener("hashchange", shiftWindow);

      var highlightCurrentSidebarNav = function() {
        var href = location.pathname;
        var item = $('#sidebar-nav [href$="' + href + '"]');
        if (item) {
          var li = item.parent();
          li.addClass("active");

          if (li.parent() && li.parent().is("ul")) {
            do {
              var ul = li.parent();
              if (ul.hasClass("collapse")) {
                ul.collapse("show");
              }
              li = ul.parent();
            } while (li && li.is("li"));
          }
        }
      };

      $(document).ready(function() {
        // Scroll to anchor of location hash, adjusted for fixed navbar.
        window.setTimeout(function() {
          shiftWindow();
        }, 1);

        // Flip the caret when submenu toggles are clicked.
        $(".sidebar-submenu").on("show.bs.collapse", function() {
          var toggle = $('[href$="#' + $(this).attr('id') + '"]');
          if (toggle) {
            toggle.addClass("dropup");
          }
        });
        $(".sidebar-submenu").on("hide.bs.collapse", function() {
          var toggle = $('[href$="#' + $(this).attr('id') + '"]');
          if (toggle) {
            toggle.removeClass("dropup");
          }
        });

        // Highlight the current page on the sidebar nav.
        highlightCurrentSidebarNav();
      });
    </script>

    <!-- Google Analytics tracking code -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-61082125-1', 'auto');
      ga('send', 'pageview');
    </script>

  </body>
</html>

