<!-- /versions/master/foo/bar -> ["master", "foo", "bar"] -->
<!-- /versions/0.12.3/baz.md -> ["0.12.3", "baz.md"] -->





<!DOCTYPE html>
<html lang="en" itemscope itemtype="https://schema.org/WebPage">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Only show Bazel version in title if it's a release -->
    <title>Migrating from Maven to Bazel - Bazel 0.28.0</title>

    <link rel="canonical" href="/versions/0.28.0/migrate-maven.html">

    <!-- Webfont -->
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro:400,500,700|Open+Sans:400,600,700,800" rel="stylesheet">

    <link rel="shortcut icon" type="image/png" href="/images/favicon.ico">

    <!-- Bootstrap -->
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/css/font-awesome.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Custom stylesheet -->
    <link rel="stylesheet" type="text/css" href="/css/main.css" />

    <!-- metadata -->
    <meta name="og:title" content="Migrating from Maven to Bazel"/>
    <meta name="og:image" content="/images/bazel-og-image.png"/>

    <!-- google search console verification -->
    <meta name="google-site-verification" content="ftWLOiP2hnDW4Cw3LUGEaXU83RVIpiyxwaXFFhoakzs" />
  </head>

  <body>
        <nav id="common-nav" class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://www.bazel.build/">
            <img class="navbar-logo" src="/images/bazel-navbar.svg">
          </a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="https://github.com/bazelbuild/bazel">GitHub</a></li>
          </ul>
          <form class="navbar-form navbar-right" action="/search.html" id="cse-search-box">
            <div class="form-group">
              <input type="hidden" name="cx" value="009927877080525621790:2pxlpaexqpc">
              <input type="hidden" name="cof" value="FORID:10">
              <input type="hidden" name="ie" value="UTF-8">
              <input type="search" name="q" id="q" class="form-control input-sm" placeholder="Search">
            </div>
          </form>
          <ul class="nav navbar-nav navbar-right">
            <li>
              <a href="/">Documentation</a>
            </li>
            <li>
              <a href="https://www.bazel.build/contributing.html">Contribute</a>
            </li>
            <li>
              <a href="https://blog.bazel.build">Blog</a>
            </li>
            <li><a href="https://twitter.com/bazelbuild" class="nav-icon"><i class="fa fa-twitter"></i></a></li>
            <li><a href="http://stackoverflow.com/questions/tagged/bazel" class="nav-icon"><i class="fa fa-stack-overflow"></i></a></li>
          </ul>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav>


    <div class="container vpad">
      <div class="row">
        <div class="col-md-2">
          <a class="btn btn-default btn-lg btn-block sidebar-toggle"
              data-toggle="collapse" href="#sidebar-nav" aria-expanded="false"
              aria-controls="sidebar-nav">
            <i class="glyphicon glyphicon-menu-hamburger"></i> Navigation
          </a>

          <nav class="sidebar collapse" id="sidebar-nav">
            <select onchange="location.href=this.value">
                <option value="" selected disabled hidden>Version: 0.28.0</option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/master/migrate-maven.html">
                    master
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/3.2.0/migrate-maven.html">
                    3.2.0
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/3.1.0/migrate-maven.html">
                    3.1.0
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/3.0.0/migrate-maven.html">
                    3.0.0
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/2.2.0/migrate-maven.html">
                    2.2.0
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/2.1.0/migrate-maven.html">
                    2.1.0
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/2.0.0/migrate-maven.html">
                    2.0.0
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/1.2.0/migrate-maven.html">
                    1.2.0
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/1.1.0/migrate-maven.html">
                    1.1.0
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/1.0.0/migrate-maven.html">
                    1.0.0
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/0.29.1/migrate-maven.html">
                    0.29.1
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/0.29.0/migrate-maven.html">
                    0.29.0
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/0.28.0/migrate-maven.html">
                    0.28.0
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/0.27.0/migrate-maven.html">
                    0.27.0
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/0.26.0/migrate-maven.html">
                    0.26.0
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/0.25.0/migrate-maven.html">
                    0.25.0
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/0.24.0/migrate-maven.html">
                    0.24.0
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/0.23.0/migrate-maven.html">
                    0.23.0
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/0.22.0/migrate-maven.html">
                    0.22.0
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/0.21.0/migrate-maven.html">
                    0.21.0
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/0.20.0/migrate-maven.html">
                    0.20.0
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/0.19.2/migrate-maven.html">
                    0.19.2
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/0.19.1/migrate-maven.html">
                    0.19.1
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/0.18.1/migrate-maven.html">
                    0.18.1
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/0.17.2/migrate-maven.html">
                    0.17.2
                </option>
                
                <!-- reconstruct absolute url for the current page for each doc version -->
                <option value="/versions/0.17.1/migrate-maven.html">
                    0.17.1
                </option>
                
            </select>

            <h3>Home</h3>
            <ul class="sidebar-nav">
              <li><a href="/versions/0.28.0/bazel-overview.html">Bazel overview</a></li>
              <li><a href="/versions/0.28.0/bazel-vision.html">Bazel vision</a></li>
              <li><a href="/versions/0.28.0/getting-started.html">Getting started</a></li>
              <li><a href="/versions/0.28.0/backward-compatibility.html">Backward compatibility</a></li>
            </ul>

            <h3>Installing Bazel</h3>
            <ul class="sidebar-nav">

              <li class="sidebar-nav">
                <a href="/versions/0.28.0/install.html">Installation overview</a>
              </li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#installing-menu" aria-expanded="false"
                    aria-controls="installing-menu">
                  Installation steps<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="installing-menu">

                   <li><a href="/versions/0.28.0/install-ubuntu.html">Ubuntu</a></li>
                   <li><a href="/versions/0.28.0/install-redhat.html">Fedora/CentOS</a></li>
                   <li><a href="/versions/0.28.0/install-os-x.html">macOS</a></li>
                   <li><a href="/versions/0.28.0/install-windows.html">Windows</a></li>
                   <li><a href="/versions/0.28.0/install-compile-source.html">Compiling from source</a></li>
                   <li><a href="/versions/0.28.0/completion.html">Command-line completion</a></li>
                   <li><a href="/versions/0.28.0/ide.html">Integrating with IDEs</a></li>
                </ul>
              </li>

              
            </ul>

            <h3>Tutorials</h3>
            <ul class="sidebar-nav">
                <li><a href="/versions/0.28.0/tutorial/cpp.html">C++</a></li>
                <li><a href="/versions/0.28.0/tutorial/java.html">Java</a></li>
                <li><a href="/versions/0.28.0/tutorial/android-app.html">Android</a></li>
                <li><a href="/versions/0.28.0/tutorial/ios-app.html">iOS</a></li>
            </ul>

            <h3>Using Bazel</h3>
            <ul class="sidebar-nav">
              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#using-menu" aria-expanded="false"
                    aria-controls="using-menu">
                  Concepts<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="using-menu">
                  <li><a href="/versions/0.28.0/build-ref.html">Core concepts</a></li>
                  <li><a href="/versions/0.28.0/external.html">External dependencies</a></li>
                  <li><a href="/versions/0.28.0/configurable-attributes.html">Configurable attributes</a></li>
                  <li><a href="/versions/master/platforms-intro.html">Platforms and toolchains</a></li>
                  <li><a href="/versions/master/visibility.html">Visibility</a></li>
                </ul>
              </li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#guides-menu" aria-expanded="false"
                    aria-controls="build-files-menu">
                  Guides<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="guides-menu">
                  <li><a href="/versions/0.28.0/guide.html">Running Bazel</a></li>
                  <li><a href="/versions/0.28.0/skylark/tutorial-creating-a-macro.html">Creating a macro</a></li>
                  <li><a href="/versions/0.28.0/memory-saving-mode.html">Optimizing memory</a></li>
                  <li><a href="/versions/0.28.0/windows.html">Building on Windows</a></li>
                </ul>
              </li>

              

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#query-menu" aria-expanded="false"
                    aria-controls="query-menu">
                  Queries<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="query-menu">
                  <li><a href="/versions/0.28.0/query-how-to.html">The query command</a></li>
                  <li><a href="/versions/0.28.0/cquery.html">The cquery command</a></li>
                  <li><a href="/versions/0.28.0/aquery.html">The aquery command</a></li>
                  <li><a href="/versions/0.28.0/query.html">Query language</a></li>
                </ul>
              </li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#best-practices-menu" aria-expanded="false"
                    aria-controls="best-practices-menu">
                  Best practices<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="best-practices-menu">
                  <li><a href="/versions/0.28.0/best-practices.html">General best practices</a></li>
                  <li><a href="/versions/0.28.0/skylark/tutorial-sharing-variables.html">Sharing BUILD variables</a></li>
                </ul>
              </li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#remote-execution-menu" aria-expanded="false"
                    aria-controls="remote-execution-menu">
                  Remote execution<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="remote-execution-menu">
                   <li><a href="/versions/0.28.0/remote-execution.html">Overview</a></li>
                   <li><a href="/versions/0.28.0/remote-execution-rules.html">Guidelines</a></li>
                   <li>
                      <a class="sidebar-nav-heading" data-toggle="collapse"
                          href="#troubleshoot-remote-execution-menu" aria-expanded="false"
                          aria-controls="troubleshoot-remote-execution-menu">
                        Troubleshooting<span class="caret"></span>
                      </a>
                      <ul class="collapse sidebar-nav sidebar-submenu" id="troubleshoot-remote-execution-menu">
                         <li><a href="/versions/0.28.0/remote-execution-sandbox.html">Troubleshooting with Bazel sandbox</a></li>
                         <li><a href="/versions/0.28.0/workspace-log.html">Non-hermetic WORKSPACE rules</a></li>
                         <li><a href="/versions/0.28.0/remote-execution-caching-debug.html">Debugging remote cache hits</a></li>
                      </ul>
                  </li>
                   <li><a href="/versions/0.28.0/remote-execution-ci.html">Remote execution and CI</a></li>
                 </ul>
              </li>

              <li>
                  <a class="sidebar-nav-heading" data-toggle="collapse"
                      href="#remote-caching-menu" aria-expanded="false"
                      aria-controls="remote-caching-menu">
                    Remote caching<span class="caret"></span>
                  </a>
                  <ul class="collapse sidebar-nav sidebar-submenu" id="remote-caching-menu">
                     <li><a href="/versions/0.28.0/remote-caching.html">Overview</a></li>
                     <li><a href="/versions/0.28.0/remote-caching-debug.html">Debugging remote cache hits with local execution</a></li>
                  </ul>
              </li>
              
             </ul>

           
           <h4>Rules</h4>
           <ul class="sidebar-nav">
             <li><a href="/versions/0.28.0/be/overview.html">Build encyclopedia</a></li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#android-menu" aria-expanded="false"
                    aria-controls="android-menu">
                  Android<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="android-menu">
                  <li><a href="/versions/0.28.0/tutorial/android-app.html">Tutorial</a></li>
                  <li><a href="/versions/0.28.0/bazel-and-android.html">Android resources</a></li>
                  <li><a href="/versions/0.28.0/mobile-install.html">Using mobile-install</a></li>
                  <li><a href="/versions/0.28.0/android-instrumentation-test.html">Android instrumentation tests</a></li>
                  <li><a href="/versions/0.28.0/android-ndk.html">Android NDK</a></li>
                  <li><a href="https://plugins.jetbrains.com/plugin/9185-bazel">Android Studio plugin</a></li>
                </ul>
              </li>

               <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#apple-menu" aria-expanded="false"
                    aria-controls="apple-menu">
                  Apple<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="apple-menu">
                  <li><a href="/versions/0.28.0/tutorial/ios-app.html">Tutorial</a></li>
                  <li><a href="/versions/0.28.0/bazel-and-apple.html">Apple resources</a></li>
                  <li><a href="/versions/0.28.0/migrate-xcode.html">Migrating from Xcode</a></li>
                  <li><a href="/versions/0.28.0/migrate-cocoapods.html">Converting CocoaPods</a></li>
                </ul>
              </li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#cpp-menu" aria-expanded="false"
                    aria-controls="cpp-menu">
                  C++<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="cpp-menu">
                  <li><a href="/versions/0.28.0/tutorial/cpp.html">Tutorial</a></li>
                  <li><a href="/versions/0.28.0/bazel-and-cpp.html">C++ resources</a></li>
                  <li><a href="/versions/0.28.0/cpp-use-cases.html">C++ use cases</a></li>
                  <li>
                    <a href="/versions/0.28.0/cc-toolchain-config-reference.html">
                      C++ Toolchain Configuration
                    </a>
                  </li>
                  <li>
                    <a href="/versions/0.28.0/tutorial/cc-toolchain-config.html">
                      Tutorial: Configuring C++ Toolchains
                    </a>
                  </li>
                  <li>
                    <a href="/versions/0.28.0/integrating-with-rules-cc.html">
                      Integrating with C++ rules
                    </a>
                  </li>
                </ul>
              </li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#java-menu" aria-expanded="false"
                    aria-controls="java-menu">
                  Java<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="java-menu">
                  <li><a href="/versions/0.28.0/tutorial/java.html">Tutorial</a></li>
                  <li><a href="/versions/0.28.0/bazel-and-java.html">Java resources</a></li>
                  <li><a href="/versions/0.28.0/migrate-maven.html">Migrating from Maven</a></li>
                  <li><a href="/versions/0.28.0/generate-workspace.html">Converting Maven dependencies</a></li>
                </ul>
              </li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#javascript-menu" aria-expanded="false"
                    aria-controls="javascript-menu">
                  JavaScript<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="javascript-menu">
                  <li><a href="/versions/0.28.0/bazel-and-javascript.html">JavaScript resources</a></li>
                  <li><a href="/versions/0.28.0/build-javascript.html">Building JavaScript</a></li>
                </ul>
              </li>

           </ul>
           

           <h3>Reference</h3>
           <ul class="sidebar-nav">
             <li><a href="/versions/0.28.0/user-manual.html">Commands and options</a></li>
             <li><a href="/versions/0.28.0/glossary.html">Glossary</a></li>
             <li><a href="/versions/0.28.0/be/overview.html">Build encyclopedia</a></li>
             <li><a href="/versions/0.28.0/test-encyclopedia.html">Test encyclopedia</a></li>
             <li><a href="/versions/0.28.0/command-line-reference.html">Command line reference</a></li>

             <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#build-files-menu" aria-expanded="false"
                    aria-controls="build-files-menu">
                  BUILD files<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="build-files-menu">
                  <li><a href="/versions/0.28.0/be/functions.html">Functions</a></li>
                  <li><a href="/versions/0.28.0/be/common-definitions.html">Common rule definitions</a></li>
                  <li><a href="/versions/0.28.0/be/make-variables.html">"Make" variables</a></li>
                  <li><a href="/versions/0.28.0/skylark/build-style.html">BUILD style guide</a></li>
                </ul>
             </li>

             <li><a href="/versions/0.28.0/build-event-protocol.html">Build Event Protocol</a></li>
             <li><a href="/versions/0.28.0/output_directories.html">Output directory layout</a></li>
             <li><a href="/versions/0.28.0/platforms.html">Platforms</a></li>
             <li><a href="/versions/0.28.0/toolchains.html">Toolchains</a></li>
           </ul>

           <h3>Extending Bazel</h3>
           <ul class="sidebar-nav">
              <li><a href="/versions/0.28.0/skylark/concepts.html">Extension overview</a></li>

              <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                    href="#starlark-concepts" aria-expanded="false"
                    aria-controls="starlark-concepts">
                  Concepts<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="starlark-concepts">
                  <li><a href="/versions/0.28.0/skylark/macros.html">Macros</a></li>
                  <li><a href="/versions/0.28.0/skylark/rules.html">Rules</a></li>
                  <li><a href="/versions/0.28.0/skylark/depsets.html">Depsets</a></li>
                  <li><a href="/versions/0.28.0/skylark/aspects.html">Aspects</a></li>
                  <li><a href="/versions/0.28.0/skylark/repository_rules.html">Repository rules</a></li>
                  <li><a href="/versions/0.28.0/skylark/config.html">Configurations</a></li>
                </ul>
              </li>

	            <li>
                <a class="sidebar-nav-heading" data-toggle="collapse"
                   href="#starlark-practices" aria-expanded="false"
                   aria-controls="starlark-practices">
                  Best practices<span class="caret"></span>
                </a>
                <ul class="collapse sidebar-nav sidebar-submenu" id="starlark-practices">
                  <li><a href="/versions/0.28.0/skylark/bzl-style.html">.bzl style guide</a></li>
                  <li><a href="/versions/0.28.0/skylark/testing.html">Testing extensions</a></li>
                  <li><a href="https://github.com/bazelbuild/stardoc">Documenting rules with Stardoc</a></li>
                  <li><a href="https://github.com/bazelbuild/buildtools/tree/master/buildifier">Linting</a></li>
                  <li><a href="/versions/0.28.0/skylark/performance.html">Optimizing performance</a></li>
                  <li><a href="/versions/0.28.0/skylark/deploying.html">Deploying rules</a></li>
                  <li><a href="/versions/0.28.0/skylark/windows_tips.html">Writing rules on Windows</a></li>
                </ul>
              </li>

              <li><a href="https://github.com/bazelbuild/examples/tree/master/rules">Examples</a></li>
              <li><a href="/versions/0.28.0/skylark/lib/skylark-overview.html">Extensions API</a></li>
              <li><a href="/versions/0.28.0/skylark/faq.html">FAQ</a></li>
              <li><a href="/versions/0.28.0/skylark/language.html">Starlark language</a></li>
            </ul>
          </nav>
        </div>

        <div class="col-md-8">
          <div class="content">
            <h1 id="migrating-from-maven-to-bazel">Migrating from Maven to Bazel</h1>

<p>When migrating from any build tool to Bazel, it’s best to have both build
tools running in parallel until you have fully migrated your development team,
CI system, and any other relevant systems. You can run Maven and Bazel in the
same repository.</p>

<h2 id="table-of-contents">Table of contents</h2>

<ul>
  <li><a href="#before-you-begin">Before you begin</a></li>
  <li><a href="#differences-between-maven-and-bazel">Differences between Maven and Bazel</a></li>
  <li><a href="#migrate-from-maven-to-bazel">Migrate from Maven to Bazel:</a>
    <ul>
      <li><a href="#1-workspace">1. Create the WORKSPACE file</a>
        <ul>
          <li><a href="#guava-1">Guava project example</a></li>
        </ul>
      </li>
      <li><a href="#2-build">2. Create one BUILD file</a>
        <ul>
          <li><a href="#guava-2">Guava project example</a></li>
        </ul>
      </li>
      <li><a href="#3-build">3. Create more BUILD files  (Optional)</a></li>
      <li><a href="#4-build">4. Build using Bazel</a></li>
    </ul>
  </li>
</ul>

<h2 id="before-you-begin">Before you begin</h2>

<ul>
  <li><a href="install.html">Install Bazel</a> if it’s not yet installed.</li>
  <li>If you’re new to Bazel, go through the tutorial
<a href="tutorial/java.html">Introduction to Bazel: Build Java</a> before you start
migrating. The tutorial explains Bazel’s concepts, structure, and label
syntax.</li>
</ul>

<h2 id="differences-between-maven-and-bazel">Differences between Maven and Bazel</h2>

<ul>
  <li>Maven uses top-level <code class="highlighter-rouge">pom.xml</code> file(s). Bazel supports multiple build
files and multiple targets per BUILD file, allowing for builds that
are more incremental than Maven’s.</li>
  <li>Maven takes charge of steps for the deployment process. Bazel does
not automate deployment.</li>
  <li>Bazel enables you to express dependencies between languages.</li>
  <li>As you add new sections to the project, with Bazel you may need to add new
BUILD files. Best practice is to add a BUILD file to each new Java package.</li>
</ul>

<h2 id="migrate-from-maven-to-bazel">Migrate from Maven to Bazel</h2>

<p>The steps below describe how to migrate your project to Bazel:</p>

<ol>
  <li><a href="#1-workspace">Create the WORKSPACE file</a></li>
  <li><a href="#2-build">Create one BUILD file</a></li>
  <li><a href="#3-build">Create more BUILD files</a></li>
  <li><a href="#4-build">Build using Bazel</a></li>
</ol>

<p>Examples below come from a migration of the
<a href="https://github.com/google/guava">Guava project</a> from Maven to Bazel. The Guava
project used is release 22.0. The examples using Guava do not walk through
each step in the migration, but they do show the files and contents that are
generated or added manually for the migration.</p>

<h3 id="1-create-the-workspace-file"><a name="1-workspace"></a>1. Create the WORKSPACE file</h3>

<p>Create a file named <code class="highlighter-rouge">WORKSPACE</code> at the root of your project. If your project
has no external dependencies, the workspace file can be empty.</p>

<p>If your project depends on files or packages that are not in one of the
project’s directories, specify these external dependencies in the workspace
file. To automate the listing of external dependencies for the workspace file,
use <code class="highlighter-rouge">rules_jvm_external</code>. For instructions about using this ruleset, see
<a href="https://github.com/bazelbuild/rules_jvm_external/#rules_jvm_external">the README</a>.</p>

<blockquote>
  <p>NOTE: The previously recommend tool, <code class="highlighter-rouge">generate_workspace</code>, is no longer
maintained by the Bazel team.</p>
</blockquote>

<h4 id="guava-project-example-external-dependencies"><a name="guava-1"></a>Guava project example: external dependencies</h4>

<p>Using the
<a href="https://github.com/bazelbuild/rules_jvm_external"><code class="highlighter-rouge">rules_jvm_external</code></a>
ruleset, we can list the external dependencies of the
<a href="https://github.com/google/guava">Guava project</a>.</p>

<p>Add the following snippet to the <code class="highlighter-rouge">WORKSPACE</code> file:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">load</span><span class="p">(</span><span class="s">"@bazel_tools//tools/build_defs/repo:http.bzl"</span><span class="p">,</span> <span class="s">"http_archive"</span><span class="p">)</span>

<span class="n">RULES_JVM_EXTERNAL_TAG</span> <span class="o">=</span> <span class="s">"2.0.1"</span>
<span class="n">RULES_JVM_EXTERNAL_SHA</span> <span class="o">=</span> <span class="s">"55e8d3951647ae3dffde22b4f7f8dee11b3f70f3f89424713debd7076197eaca"</span>

<span class="n">http_archive</span><span class="p">(</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">"rules_jvm_external"</span><span class="p">,</span>
    <span class="n">strip_prefix</span> <span class="o">=</span> <span class="s">"rules_jvm_external-</span><span class="si">%</span><span class="s">s"</span> <span class="o">%</span> <span class="n">RULES_JVM_EXTERNAL_TAG</span><span class="p">,</span>
    <span class="n">sha256</span> <span class="o">=</span> <span class="n">RULES_JVM_EXTERNAL_SHA</span><span class="p">,</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s">"https://github.com/bazelbuild/rules_jvm_external/archive/</span><span class="si">%</span><span class="s">s.zip"</span> <span class="o">%</span> <span class="n">RULES_JVM_EXTERNAL_TAG</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">load</span><span class="p">(</span><span class="s">"@rules_jvm_external//:defs.bzl"</span><span class="p">,</span> <span class="s">"maven_install"</span><span class="p">)</span>

<span class="n">maven_install</span><span class="p">(</span>
    <span class="n">artifacts</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s">"com.google.code.findbugs:jsr305:1.3.9"</span><span class="p">,</span>
        <span class="s">"com.google.errorprone:error_prone_annotations:2.0.18"</span><span class="p">,</span>
        <span class="s">"com.google.j2objc:j2objc-annotations:1.1"</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="n">repositories</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s">"https://jcenter.bintray.com/"</span><span class="p">,</span>
        <span class="s">"https://repo1.maven.org/maven2"</span><span class="p">,</span>
    <span class="p">],</span>
<span class="p">)</span>
</code></pre></div></div>

<h3 id="2-create-one-build-file"><a name="2-build"></a>2. Create one BUILD file</h3>

<p>Now that you have your workspace defined and external dependencies (if
applicable) listed, you need to create BUILD files to describe how your project
should be built. Unlike Maven with its one <code class="highlighter-rouge">pom.xml</code> file, Bazel can use many
BUILD files to build a project. These files specify multiple build targets,
which allow Bazel to produce incremental builds.</p>

<p>Add BUILD files in stages. Start with adding one BUILD file
at the root of your project and using it to do an initial build using Bazel.
Then, you refine your build by adding more BUILD files with more granular
targets.</p>

<ol>
  <li>
    <p>In the same directory as your <code class="highlighter-rouge">WORKSPACE</code> file, create a text file and
name it <code class="highlighter-rouge">BUILD</code>.</p>
  </li>
  <li>In this BUILD file, use the appropriate rule to create one target to
build your project. Here are some tips:
    <ul>
      <li>Use the appropriate rule:
        <ul>
          <li>
            <p>To build projects with a single Maven module, use the
<code class="highlighter-rouge">java_library</code> rule as follows:</p>

            <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">java_library</span><span class="p">(</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">"everything"</span><span class="p">,</span>
    <span class="n">srcs</span> <span class="o">=</span> <span class="n">glob</span><span class="p">([</span><span class="s">"src/main/java/**/*.java"</span><span class="p">]),</span>
    <span class="n">resources</span> <span class="o">=</span> <span class="n">glob</span><span class="p">([</span><span class="s">"src/main/resources/**"</span><span class="p">]),</span>
    <span class="n">deps</span> <span class="o">=</span> <span class="p">[</span><span class="s">"//:all-external-targets"</span><span class="p">],</span>
<span class="p">)</span>
</code></pre></div>            </div>
          </li>
          <li>
            <p>To build projects with multiple Maven modules, use the
<code class="highlighter-rouge">java_library</code> rule as follows:</p>

            <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">java_library</span><span class="p">(</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">"everything"</span><span class="p">,</span>
    <span class="n">srcs</span> <span class="o">=</span> <span class="n">glob</span><span class="p">([</span>
        <span class="s">"Module1/src/main/java/**/*.java"</span><span class="p">,</span>
        <span class="s">"Module2/src/main/java/**/*.java"</span><span class="p">,</span>
        <span class="o">...</span>
    <span class="p">]),</span>
    <span class="n">resources</span> <span class="o">=</span> <span class="n">glob</span><span class="p">([</span>
        <span class="s">"Module1/src/main/resources/**"</span><span class="p">,</span>
        <span class="s">"Module2/src/main/resources/**"</span><span class="p">,</span>
        <span class="o">...</span>
    <span class="p">]),</span>
    <span class="n">deps</span> <span class="o">=</span> <span class="p">[</span><span class="s">"//:all-external-targets"</span><span class="p">],</span>
<span class="p">)</span>
</code></pre></div>            </div>
          </li>
          <li>
            <p>To build binaries, use the <code class="highlighter-rouge">java_binary</code> rule:</p>

            <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">java_binary</span><span class="p">(</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">"everything"</span><span class="p">,</span>
    <span class="n">srcs</span> <span class="o">=</span> <span class="n">glob</span><span class="p">([</span><span class="s">"src/main/java/**/*.java"</span><span class="p">]),</span>
    <span class="n">resources</span> <span class="o">=</span> <span class="n">glob</span><span class="p">([</span><span class="s">"src/main/resources/**"</span><span class="p">]),</span>
    <span class="n">deps</span> <span class="o">=</span> <span class="p">[</span><span class="s">"//:all-external-targets"</span><span class="p">],</span>
    <span class="n">main_class</span> <span class="o">=</span> <span class="s">"com.example.Main"</span>
<span class="p">)</span>
</code></pre></div>            </div>
          </li>
        </ul>
      </li>
      <li>Specify the attributes:
        <ul>
          <li><code class="highlighter-rouge">name</code>: Give the target a meaningful name. In the examples above
we call the target “everything.”</li>
          <li><code class="highlighter-rouge">srcs</code>: Use globbing to list all .java files in your project.</li>
          <li><code class="highlighter-rouge">resources</code>: Use globbing to list all resources in your project.</li>
          <li><code class="highlighter-rouge">deps</code>: You need to determine which external dependencies your
project needs. For example, if you generated a list of external
dependencies using the tool <code class="highlighter-rouge">generate_workspace</code>, the dependencies
for <code class="highlighter-rouge">java_library</code> are the libraries listed in the
<code class="highlighter-rouge">generated_java_libraries</code> macro.</li>
        </ul>
      </li>
      <li>Take a look at the
<a href="#guava-example-2">example below of this top-level BUILD file</a> from
the migration of the Guava project.</li>
    </ul>
  </li>
  <li>
    <p>Now that you have a BUILD file at the root of your project, build
your project to ensure that it works. On the command line, from your
workspace directory, use <code class="highlighter-rouge">bazel build //:everything</code> to build your
project with Bazel.</p>

    <p>The project has now been successfully built with Bazel. You will need
to add more BUILD files to allow incremental builds of the project.</p>
  </li>
</ol>

<h4 id="guava-project-example-start-with-one-build-file"><a name="guava-2"></a>Guava project example: start with one BUILD file</h4>

<p>When migrating the Guava project to Bazel, initially one BUILD file is used
to build the entire project. Here are the contents of this initial <code class="highlighter-rouge">BUILD</code>
file in the workspace directory:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">java_library</span><span class="p">(</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">"everything"</span><span class="p">,</span>
    <span class="n">srcs</span> <span class="o">=</span> <span class="n">glob</span><span class="p">([</span><span class="s">"guava/src/**/*.java"</span><span class="p">]),</span>
    <span class="n">deps</span> <span class="o">=</span> <span class="p">[</span>
      <span class="s">"@maven//:com_google_code_findbugs_jsr305"</span><span class="p">,</span>
      <span class="s">"@maven//:com_google_errorprone_error_prone_annotations"</span><span class="p">,</span>
      <span class="s">"@maven//:com_google_j2objc_j2objc_annotations"</span>
    <span class="p">],</span>
<span class="p">)</span>
</code></pre></div></div>

<h3 id="3-create-more-build-files-optional"><a name="3-build"></a>3. Create more BUILD files (Optional)</h3>

<p>Bazel does work with just one BUILD file, as you saw after completing your first
build. You should still consider breaking the build into smaller chunks by
adding more BUILD files with granular targets.</p>

<p>Multiple BUILD files with multiple targets will give the build increased
granularity, allowing:</p>

<ul>
  <li>increased incremental builds of the project,</li>
  <li>increased parallel execution of the build,</li>
  <li>better maintainability of the build for future users, and</li>
  <li>control over visibility of targets between packages, which can prevent
issues such as libraries containing implementation details leaking into
public APIs.</li>
</ul>

<p>Tips for adding more BUILD files:</p>

<ul>
  <li>You can start by adding a BUILD file to each Java package. Start with
Java packages that have the fewest dependencies and work you way up
to packages with the most dependencies.</li>
  <li>As you add BUILD files and specify targets, add these new targets to the
<code class="highlighter-rouge">deps</code> sections of targets that depend on them. Note that the <code class="highlighter-rouge">glob()</code>
function does not cross package boundaries, so as the number
of packages grows the files matched by <code class="highlighter-rouge">glob()</code> will shrink.</li>
  <li>Any time you add a BUILD file to a <code class="highlighter-rouge">main</code> directory, ensure that you add
a BUILD file to the corresponding <code class="highlighter-rouge">test</code> directory.</li>
  <li>Take care to limit visibility properly between packages.</li>
  <li>To simplify troubleshooting errors in your setup of BUILD files, ensure
that the project continues to build with Bazel as you add each build
file. Run <code class="highlighter-rouge">bazel build //...</code> to ensure all of your targets still build.</li>
</ul>

<h3 id="4-build-using-bazel"><a name="4-build"></a>4. Build using Bazel</h3>

<p>You’ve been building using Bazel as you add BUILD files to validate the setup
of the build.</p>

<p>When you have BUILD files at the desired granularity, you can use Bazel
to produce all of your builds.</p>

          </div>
        </div>

        <div class="col-md-2 sticky-sidebar">
            <div class="right-sidebar">
                <ul class="gh-links">
                    <li><a href="https://github.com/bazelbuild/bazel/issues/new?title=Documentation issue: Migrating from Maven to Bazel&body=Documentation URL: https://docs.bazel.build/versions/0.28.0/migrate-maven.html&labels=type: documentation"><i class="fa fa-github"></i> Create issue</a></li>
                    <li id="gh-edit-list-item" class="default-hidden" aria-hidden="true"><a id="gh-edit" class="gh-edit default-hidden"><i class="fa fa-pencil" aria-hidden="true"></i> Edit this page</a></li>
                </ul>
                <script>
                 var versionDocsURLRegex = /\/versions\/[\w\.]+\/(.*)/;
                 var ghDocsBazeURL = 'https://github.com/bazelbuild/bazel/tree/master/site/docs/';
                 var editButton = document.getElementById('gh-edit');
                 var editButtonListItem = document.getElementById('gh-edit-list-item');
                 // if there is an edit button and we are not in the Build Encyclopedia
                 // or other generated files.
                 if (editButton
                     && window.location.pathname.match(versionDocsURLRegex)
                     && window.location.pathname.lastIndexOf('/be/') == -1
                     && window.location.pathname.lastIndexOf('/repo/') == -1
                     && window.location.pathname.lastIndexOf('/skylark/lib/') == -1
                     && window.location.pathname.lastIndexOf('/command-line-reference.html') == -1) {
                     var docFile = window.location.pathname.match(versionDocsURLRegex)[1];
                     // some pages are not using markdown :(
                     if (docFile !== 'user-manual.html'
                         && docFile !== 'build-ref.html'
                         && docFile !== 'query.html'
                         && docFile !== 'test-encyclopedia.html') {
                         docFile = docFile.replace('html', 'md');
                     }
                     editButton.href = ghDocsBazeURL + docFile;
                     editButton.style.visibility = 'visible';
                     editButtonListItem.style.visibility = 'visible';
                 }
                </script>

                <ul class="page-toc">
<li class="toc-entry toc-h2"><a href="#table-of-contents">Table of contents</a></li>
<li class="toc-entry toc-h2"><a href="#before-you-begin">Before you begin</a></li>
<li class="toc-entry toc-h2"><a href="#differences-between-maven-and-bazel">Differences between Maven and Bazel</a></li>
<li class="toc-entry toc-h2"><a href="#migrate-from-maven-to-bazel">Migrate from Maven to Bazel</a>
<ul class="page-toc-sublist">
<li class="toc-entry toc-h3"><a href="#1-create-the-workspace-file">1. Create the WORKSPACE file</a></li>
<li class="toc-entry toc-h3"><a href="#2-create-one-build-file">2. Create one BUILD file</a></li>
<li class="toc-entry toc-h3"><a href="#3-create-more-build-files-optional">3. Create more BUILD files (Optional)</a></li>
<li class="toc-entry toc-h3"><a href="#4-build-using-bazel">4. Build using Bazel</a></li>
</ul>
</li>
</ul>
            </div>
        </div>
      </div>
    </div>

    <!-- Satisfaction Survey -->
    <script async="" defer="" src="//www.google.com/insights/consumersurveys/async_survey?site=hihwpyy5e5kllsq62elzjrcgn4"></script>

        <footer class="footer">
      <div class="container">
  <div class="row">
    <div class="col-sm-4 col-md-2">
      <p>About</p>
      <ul class="list-unstyled">
        <li><a href="https://github.com/bazelbuild/bazel/wiki/Bazel-Users">Who's Using Bazel?</a></li>
        <li><a href="https://www.bazel.build/roadmap.html">Roadmap</a></li>
        <li><a href="https://www.bazel.build/contributing.html">Contribute</a></li>
        <li><a href="https://www.bazel.build/governance.html">Governance Plan</a></li>
        <li><a href="https://policies.google.com/privacy">Privacy Policy</a></li>
        <li><a href="//sitemap.xml">Sitemap</a></li>
      </ul>
    </div>
    <div class="col-sm-4 col-md-2">
      <p>Support</p>
      <ul class="list-unstyled">
        <li><a href="http://stackoverflow.com/questions/tagged/bazel">Stack Overflow</a></li>
        <li><a href="https://github.com/bazelbuild/bazel/issues">Issue Tracker</a></li>
        <li><a href="/">Documentation</a></li>
        <li><a href="https://www.bazel.build/faq.html">FAQ</a></li>
        <li><a href="https://www.bazel.build/support.html">Support Policy</a></li>
      </ul>
    </div>
    <div class="col-sm-4 col-md-2">
      <p>Stay Connected</p>
      <ul class="list-unstyled">
        <li><a href="https://twitter.com/bazelbuild">Twitter</a></li>
        <li><a href="https://blog.bazel.build">Blog</a></li>
        <li><a href="https://github.com/bazelbuild/bazel">GitHub</a></li>
        <li><a href="https://groups.google.com/forum/#!forum/bazel-discuss">Discussion group</a></li>
        <li><a href="https://slack.bazel.build">Slack</a></li>
      </ul>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12">
      <p class="text-muted">&copy; 2020 Google</p>
    </div>
  </div>
</div>

    </footer>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/assets/js/bootstrap.min.js"></script>

    <!-- Anchor JS -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.2.0/anchor.min.js"></script>
    <script>
      // Automatically add anchors and links to all header elements that don't already have them.
      anchors.add();
    </script>

    <script>
      var shiftWindow = function() {
        if (location.hash.length !== 0) {
          window.scrollBy(0, -50);
        }
      };
      window.addEventListener("hashchange", shiftWindow);

      var highlightCurrentSidebarNav = function() {
        var href = location.pathname;
        var item = $('#sidebar-nav [href$="' + href + '"]');
        if (item) {
          var li = item.parent();
          li.addClass("active");

          if (li.parent() && li.parent().is("ul")) {
            do {
              var ul = li.parent();
              if (ul.hasClass("collapse")) {
                ul.collapse("show");
              }
              li = ul.parent();
            } while (li && li.is("li"));
          }
        }
      };

      $(document).ready(function() {
        // Scroll to anchor of location hash, adjusted for fixed navbar.
        window.setTimeout(function() {
          shiftWindow();
        }, 1);

        // Flip the caret when submenu toggles are clicked.
        $(".sidebar-submenu").on("show.bs.collapse", function() {
          var toggle = $('[href$="#' + $(this).attr('id') + '"]');
          if (toggle) {
            toggle.addClass("dropup");
          }
        });
        $(".sidebar-submenu").on("hide.bs.collapse", function() {
          var toggle = $('[href$="#' + $(this).attr('id') + '"]');
          if (toggle) {
            toggle.removeClass("dropup");
          }
        });

        // Highlight the current page on the sidebar nav.
        highlightCurrentSidebarNav();
      });
    </script>

    <!-- Google Analytics tracking code -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-61082125-1', 'auto');
      ga('send', 'pageview');
    </script>

  </body>
</html>

